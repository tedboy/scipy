

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>1.16. Weave (scipy.weave)</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="" href="../index.html"/>
        <link rel="up" title="1. SciPy Tutorial" href="index.html"/>
        <link rel="next" title="2. API - importing from Scipy" href="../API.html"/>
        <link rel="prev" title="1.15. File IO (scipy.io)" href="io.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Scipy API
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">1. SciPy Tutorial</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="general.html">1.1. Introduction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="general.html#scipy-organization">1.1.1. SciPy Organization</a></li>
<li class="toctree-l3"><a class="reference internal" href="general.html#finding-documentation">1.1.2. Finding Documentation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="basic.html">1.2. Basic functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="basic.html#interaction-with-numpy">1.2.1. Interaction with Numpy</a><ul>
<li class="toctree-l4"><a class="reference internal" href="basic.html#index-tricks">1.2.1.1. Index Tricks</a></li>
<li class="toctree-l4"><a class="reference internal" href="basic.html#shape-manipulation">1.2.1.2. Shape manipulation</a></li>
<li class="toctree-l4"><a class="reference internal" href="basic.html#polynomials">1.2.1.3. Polynomials</a></li>
<li class="toctree-l4"><a class="reference internal" href="basic.html#vectorizing-functions-vectorize">1.2.1.4. Vectorizing functions (vectorize)</a></li>
<li class="toctree-l4"><a class="reference internal" href="basic.html#type-handling">1.2.1.5. Type handling</a></li>
<li class="toctree-l4"><a class="reference internal" href="basic.html#other-useful-functions">1.2.1.6. Other useful functions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="special.html">1.3. Special functions (<code class="docutils literal"><span class="pre">scipy.special</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="special.html#bessel-functions-of-real-order-jn-jn-zeros">1.3.1. Bessel functions of real order(<code class="docutils literal"><span class="pre">jn()</span></code>, <code class="docutils literal"><span class="pre">jn_zeros()</span></code>)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="integrate.html">1.4. Integration (<code class="docutils literal"><span class="pre">scipy.integrate</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="integrate.html#general-integration-quad">1.4.1. General integration (<code class="docutils literal"><span class="pre">quad()</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="integrate.html#general-multiple-integration-dblquad-tplquad-nquad">1.4.2. General multiple integration (<code class="docutils literal"><span class="pre">dblquad()</span></code>, <code class="docutils literal"><span class="pre">tplquad()</span></code>, <code class="docutils literal"><span class="pre">nquad()</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="integrate.html#gaussian-quadrature">1.4.3. Gaussian quadrature</a></li>
<li class="toctree-l3"><a class="reference internal" href="integrate.html#romberg-integration">1.4.4. Romberg Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="integrate.html#integrating-using-samples">1.4.5. Integrating using Samples</a></li>
<li class="toctree-l3"><a class="reference internal" href="integrate.html#faster-integration-using-ctypes">1.4.6. Faster integration using Ctypes</a></li>
<li class="toctree-l3"><a class="reference internal" href="integrate.html#ordinary-differential-equations-odeint">1.4.7. Ordinary differential equations (<code class="docutils literal"><span class="pre">odeint()</span></code>)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="integrate.html#references">1.4.7.1. References</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="optimize.html">1.5. Optimization (<code class="docutils literal"><span class="pre">scipy.optimize</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="optimize.html#unconstrained-minimization-of-multivariate-scalar-functions-minimize">1.5.1. Unconstrained minimization of multivariate scalar functions (<code class="docutils literal"><span class="pre">minimize()</span></code>)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="optimize.html#nelder-mead-simplex-algorithm-method-nelder-mead">1.5.1.1. Nelder-Mead Simplex algorithm (<code class="docutils literal"><span class="pre">method='Nelder-Mead'</span></code>)</a></li>
<li class="toctree-l4"><a class="reference internal" href="optimize.html#broyden-fletcher-goldfarb-shanno-algorithm-method-bfgs">1.5.1.2. Broyden-Fletcher-Goldfarb-Shanno algorithm (<code class="docutils literal"><span class="pre">method='BFGS'</span></code>)</a></li>
<li class="toctree-l4"><a class="reference internal" href="optimize.html#newton-conjugate-gradient-algorithm-method-newton-cg">1.5.1.3. Newton-Conjugate-Gradient algorithm (<code class="docutils literal"><span class="pre">method='Newton-CG'</span></code>)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="optimize.html#constrained-minimization-of-multivariate-scalar-functions-minimize">1.5.2. Constrained minimization of multivariate scalar functions (<code class="docutils literal"><span class="pre">minimize()</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="optimize.html#least-squares-minimization-least-squares">1.5.3. Least-squares minimization (<code class="docutils literal"><span class="pre">least_squares()</span></code>)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="optimize.html#example-of-solving-a-fitting-problem">1.5.3.1. Example of solving a fitting problem</a></li>
<li class="toctree-l4"><a class="reference internal" href="optimize.html#further-examples">1.5.3.2. Further examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="optimize.html#univariate-function-minimizers-minimize-scalar">1.5.4. Univariate function minimizers (<code class="docutils literal"><span class="pre">minimize_scalar()</span></code>)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="optimize.html#unconstrained-minimization-method-brent">1.5.4.1. Unconstrained minimization (<code class="docutils literal"><span class="pre">method='brent'</span></code>)</a></li>
<li class="toctree-l4"><a class="reference internal" href="optimize.html#bounded-minimization-method-bounded">1.5.4.2. Bounded minimization (<code class="docutils literal"><span class="pre">method='bounded'</span></code>)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="optimize.html#custom-minimizers">1.5.5. Custom minimizers</a></li>
<li class="toctree-l3"><a class="reference internal" href="optimize.html#root-finding">1.5.6. Root finding</a><ul>
<li class="toctree-l4"><a class="reference internal" href="optimize.html#scalar-functions">1.5.6.1. Scalar functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="optimize.html#fixed-point-solving">1.5.6.2. Fixed-point solving</a></li>
<li class="toctree-l4"><a class="reference internal" href="optimize.html#sets-of-equations">1.5.6.3. Sets of equations</a></li>
<li class="toctree-l4"><a class="reference internal" href="optimize.html#root-finding-for-large-problems">1.5.6.4. Root finding for large problems</a></li>
<li class="toctree-l4"><a class="reference internal" href="optimize.html#still-too-slow-preconditioning">1.5.6.5. Still too slow? Preconditioning.</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="interpolate.html">1.6. Interpolation (<code class="docutils literal"><span class="pre">scipy.interpolate</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="interpolate.html#d-interpolation-interp1d">1.6.1. 1-D interpolation (<code class="docutils literal"><span class="pre">interp1d</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="interpolate.html#multivariate-data-interpolation-griddata">1.6.2. Multivariate data interpolation (<code class="docutils literal"><span class="pre">griddata()</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="interpolate.html#spline-interpolation">1.6.3. Spline interpolation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="interpolate.html#spline-interpolation-in-1-d-procedural-interpolate-splxxx">1.6.3.1. Spline interpolation in 1-d: Procedural (interpolate.splXXX)</a></li>
<li class="toctree-l4"><a class="reference internal" href="interpolate.html#spline-interpolation-in-1-d-object-oriented-univariatespline">1.6.3.2. Spline interpolation in 1-d: Object-oriented (<code class="docutils literal"><span class="pre">UnivariateSpline</span></code>)</a></li>
<li class="toctree-l4"><a class="reference internal" href="interpolate.html#two-dimensional-spline-representation-procedural-bisplrep">1.6.3.3. Two-dimensional spline representation: Procedural (<code class="docutils literal"><span class="pre">bisplrep()</span></code>)</a></li>
<li class="toctree-l4"><a class="reference internal" href="interpolate.html#two-dimensional-spline-representation-object-oriented-bivariatespline">1.6.3.4. Two-dimensional spline representation: Object-oriented (<code class="docutils literal"><span class="pre">BivariateSpline</span></code>)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="interpolate.html#using-radial-basis-functions-for-smoothing-interpolation">1.6.4. Using radial basis functions for smoothing/interpolation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="interpolate.html#d-example">1.6.4.1. 1-d Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="interpolate.html#id1">1.6.4.2. 2-d Example</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="fftpack.html">1.7. Fourier Transforms (<code class="docutils literal"><span class="pre">scipy.fftpack</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="fftpack.html#fast-fourier-transforms">1.7.1. Fast Fourier transforms</a><ul>
<li class="toctree-l4"><a class="reference internal" href="fftpack.html#one-dimensional-discrete-fourier-transforms">1.7.1.1. One dimensional discrete Fourier transforms</a></li>
<li class="toctree-l4"><a class="reference internal" href="fftpack.html#two-and-n-dimensional-discrete-fourier-transforms">1.7.1.2. Two and n-dimensional discrete Fourier transforms</a></li>
<li class="toctree-l4"><a class="reference internal" href="fftpack.html#fft-convolution">1.7.1.3. FFT convolution</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="fftpack.html#discrete-cosine-transforms">1.7.2. Discrete Cosine Transforms</a><ul>
<li class="toctree-l4"><a class="reference internal" href="fftpack.html#type-i-dct">1.7.2.1. Type I DCT</a></li>
<li class="toctree-l4"><a class="reference internal" href="fftpack.html#type-ii-dct">1.7.2.2. Type II DCT</a></li>
<li class="toctree-l4"><a class="reference internal" href="fftpack.html#type-iii-dct">1.7.2.3. Type III DCT</a></li>
<li class="toctree-l4"><a class="reference internal" href="fftpack.html#dct-and-idct">1.7.2.4. DCT and IDCT</a></li>
<li class="toctree-l4"><a class="reference internal" href="fftpack.html#example">1.7.2.5. Example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="fftpack.html#discrete-sine-transforms">1.7.3. Discrete Sine Transforms</a><ul>
<li class="toctree-l4"><a class="reference internal" href="fftpack.html#type-i-dst">1.7.3.1. Type I DST</a></li>
<li class="toctree-l4"><a class="reference internal" href="fftpack.html#type-ii-dst">1.7.3.2. Type II DST</a></li>
<li class="toctree-l4"><a class="reference internal" href="fftpack.html#type-iii-dst">1.7.3.3. Type III DST</a></li>
<li class="toctree-l4"><a class="reference internal" href="fftpack.html#dst-and-idst">1.7.3.4. DST and IDST</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="fftpack.html#cache-destruction">1.7.4. Cache Destruction</a></li>
<li class="toctree-l3"><a class="reference internal" href="fftpack.html#references">1.7.5. References</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="signal.html">1.8. Signal Processing (<cite>scipy.signal</cite>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="signal.html#b-splines">1.8.1. B-splines</a></li>
<li class="toctree-l3"><a class="reference internal" href="signal.html#filtering">1.8.2. Filtering</a><ul>
<li class="toctree-l4"><a class="reference internal" href="signal.html#convolution-correlation">1.8.2.1. Convolution/Correlation</a></li>
<li class="toctree-l4"><a class="reference internal" href="signal.html#difference-equation-filtering">1.8.2.2. Difference-equation filtering</a></li>
<li class="toctree-l4"><a class="reference internal" href="signal.html#filter-design">1.8.2.3. Filter Design</a></li>
<li class="toctree-l4"><a class="reference internal" href="signal.html#other-filters">1.8.2.4. Other filters</a></li>
<li class="toctree-l4"><a class="reference internal" href="signal.html#analog-filter-design">1.8.2.5. Analog Filter Design</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="signal.html#spectral-analysis">1.8.3. Spectral Analysis</a><ul>
<li class="toctree-l4"><a class="reference internal" href="signal.html#periodogram-measurements">1.8.3.1. Periodogram Measurements</a></li>
<li class="toctree-l4"><a class="reference internal" href="signal.html#spectral-analysis-using-welch-s-method">1.8.3.2. Spectral Analysis using Welch&#8217;s Method</a></li>
<li class="toctree-l4"><a class="reference internal" href="signal.html#lomb-scargle-periodograms-lombscargle">1.8.3.3. Lomb-Scargle Periodograms (<code class="docutils literal"><span class="pre">lombscargle()</span></code>)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="signal.html#detrend">1.8.4. Detrend</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="linalg.html">1.9. Linear Algebra (<cite>scipy.linalg</cite>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="linalg.html#scipy-linalg-vs-numpy-linalg">1.9.1. scipy.linalg vs numpy.linalg</a></li>
<li class="toctree-l3"><a class="reference internal" href="linalg.html#numpy-matrix-vs-2d-numpy-ndarray">1.9.2. numpy.matrix vs 2D numpy.ndarray</a></li>
<li class="toctree-l3"><a class="reference internal" href="linalg.html#basic-routines">1.9.3. Basic routines</a><ul>
<li class="toctree-l4"><a class="reference internal" href="linalg.html#finding-inverse">1.9.3.1. Finding Inverse</a></li>
<li class="toctree-l4"><a class="reference internal" href="linalg.html#solving-linear-system">1.9.3.2. Solving linear system</a></li>
<li class="toctree-l4"><a class="reference internal" href="linalg.html#finding-determinant">1.9.3.3. Finding Determinant</a></li>
<li class="toctree-l4"><a class="reference internal" href="linalg.html#computing-norms">1.9.3.4. Computing norms</a></li>
<li class="toctree-l4"><a class="reference internal" href="linalg.html#solving-linear-least-squares-problems-and-pseudo-inverses">1.9.3.5. Solving linear least-squares problems and pseudo-inverses</a></li>
<li class="toctree-l4"><a class="reference internal" href="linalg.html#generalized-inverse">1.9.3.6. Generalized inverse</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="linalg.html#decompositions">1.9.4. Decompositions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="linalg.html#eigenvalues-and-eigenvectors">1.9.4.1. Eigenvalues and eigenvectors</a></li>
<li class="toctree-l4"><a class="reference internal" href="linalg.html#singular-value-decomposition">1.9.4.2. Singular value decomposition</a></li>
<li class="toctree-l4"><a class="reference internal" href="linalg.html#lu-decomposition">1.9.4.3. LU decomposition</a></li>
<li class="toctree-l4"><a class="reference internal" href="linalg.html#cholesky-decomposition">1.9.4.4. Cholesky decomposition</a></li>
<li class="toctree-l4"><a class="reference internal" href="linalg.html#qr-decomposition">1.9.4.5. QR decomposition</a></li>
<li class="toctree-l4"><a class="reference internal" href="linalg.html#schur-decomposition">1.9.4.6. Schur decomposition</a></li>
<li class="toctree-l4"><a class="reference internal" href="linalg.html#interpolative-decomposition">1.9.4.7. Interpolative Decomposition</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="linalg.html#matrix-functions">1.9.5. Matrix Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="linalg.html#exponential-and-logarithm-functions">1.9.5.1. Exponential and logarithm functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="linalg.html#trigonometric-functions">1.9.5.2. Trigonometric functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="linalg.html#hyperbolic-trigonometric-functions">1.9.5.3. Hyperbolic trigonometric functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="linalg.html#arbitrary-function">1.9.5.4. Arbitrary function</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="linalg.html#special-matrices">1.9.6. Special matrices</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="arpack.html">1.10. Sparse Eigenvalue Problems with ARPACK</a><ul>
<li class="toctree-l3"><a class="reference internal" href="arpack.html#introduction">1.10.1. Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="arpack.html#basic-functionality">1.10.2. Basic Functionality</a></li>
<li class="toctree-l3"><a class="reference internal" href="arpack.html#shift-invert-mode">1.10.3. Shift-Invert Mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="arpack.html#examples">1.10.4. Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="arpack.html#references">1.10.5. References</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="csgraph.html">1.11. Compressed Sparse Graph Routines (<cite>scipy.sparse.csgraph</cite>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="csgraph.html#example-word-ladders">1.11.1. Example: Word Ladders</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="spatial.html">1.12. Spatial data structures and algorithms (<cite>scipy.spatial</cite>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="spatial.html#delaunay-triangulations">1.12.1. Delaunay triangulations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="spatial.html#coplanar-points">1.12.1.1. Coplanar points</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="spatial.html#convex-hulls">1.12.2. Convex hulls</a></li>
<li class="toctree-l3"><a class="reference internal" href="spatial.html#voronoi-diagrams">1.12.3. Voronoi diagrams</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="stats.html">1.13. Statistics (<cite>scipy.stats</cite>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="stats.html#introduction">1.13.1. Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="stats.html#random-variables">1.13.2. Random Variables</a><ul>
<li class="toctree-l4"><a class="reference internal" href="stats.html#getting-help">1.13.2.1. Getting Help</a></li>
<li class="toctree-l4"><a class="reference internal" href="stats.html#common-methods">1.13.2.2. Common Methods</a></li>
<li class="toctree-l4"><a class="reference internal" href="stats.html#shifting-and-scaling">1.13.2.3. Shifting and Scaling</a></li>
<li class="toctree-l4"><a class="reference internal" href="stats.html#shape-parameters">1.13.2.4. Shape Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="stats.html#freezing-a-distribution">1.13.2.5. Freezing a Distribution</a></li>
<li class="toctree-l4"><a class="reference internal" href="stats.html#broadcasting">1.13.2.6. Broadcasting</a></li>
<li class="toctree-l4"><a class="reference internal" href="stats.html#specific-points-for-discrete-distributions">1.13.2.7. Specific Points for Discrete Distributions</a></li>
<li class="toctree-l4"><a class="reference internal" href="stats.html#fitting-distributions">1.13.2.8. Fitting Distributions</a></li>
<li class="toctree-l4"><a class="reference internal" href="stats.html#performance-issues-and-cautionary-remarks">1.13.2.9. Performance Issues and Cautionary Remarks</a></li>
<li class="toctree-l4"><a class="reference internal" href="stats.html#remaining-issues">1.13.2.10. Remaining Issues</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="stats.html#building-specific-distributions">1.13.3. Building Specific Distributions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="stats.html#making-a-continuous-distribution-i-e-subclassing-rv-continuous">1.13.3.1. Making a Continuous Distribution, i.e., Subclassing <code class="docutils literal"><span class="pre">rv_continuous</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="stats.html#subclassing-rv-discrete">1.13.3.2. Subclassing <code class="docutils literal"><span class="pre">rv_discrete</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="stats.html#analysing-one-sample">1.13.4. Analysing One Sample</a><ul>
<li class="toctree-l4"><a class="reference internal" href="stats.html#descriptive-statistics">1.13.4.1. Descriptive Statistics</a></li>
<li class="toctree-l4"><a class="reference internal" href="stats.html#t-test-and-ks-test">1.13.4.2. T-test and KS-test</a></li>
<li class="toctree-l4"><a class="reference internal" href="stats.html#tails-of-the-distribution">1.13.4.3. Tails of the distribution</a></li>
<li class="toctree-l4"><a class="reference internal" href="stats.html#special-tests-for-normal-distributions">1.13.4.4. Special tests for normal distributions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="stats.html#comparing-two-samples">1.13.5. Comparing two samples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="stats.html#comparing-means">1.13.5.1. Comparing means</a></li>
<li class="toctree-l4"><a class="reference internal" href="stats.html#kolmogorov-smirnov-test-for-two-samples-ks-2samp">1.13.5.2. Kolmogorov-Smirnov test for two samples ks_2samp</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="stats.html#kernel-density-estimation">1.13.6. Kernel Density Estimation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="stats.html#univariate-estimation">1.13.6.1. Univariate estimation</a></li>
<li class="toctree-l4"><a class="reference internal" href="stats.html#multivariate-estimation">1.13.6.2. Multivariate estimation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="ndimage.html">1.14. Multidimensional image processing (<cite>scipy.ndimage</cite>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="ndimage.html#introduction">1.14.1. Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="ndimage.html#properties-shared-by-all-functions">1.14.2. Properties shared by all functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="ndimage.html#filter-functions">1.14.3. Filter functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="ndimage.html#correlation-and-convolution">1.14.3.1. Correlation and convolution</a></li>
<li class="toctree-l4"><a class="reference internal" href="ndimage.html#smoothing-filters">1.14.3.2. Smoothing filters</a></li>
<li class="toctree-l4"><a class="reference internal" href="ndimage.html#filters-based-on-order-statistics">1.14.3.3. Filters based on order statistics</a></li>
<li class="toctree-l4"><a class="reference internal" href="ndimage.html#derivatives">1.14.3.4. Derivatives</a></li>
<li class="toctree-l4"><a class="reference internal" href="ndimage.html#generic-filter-functions">1.14.3.5. Generic filter functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="ndimage.html#fourier-domain-filters">1.14.3.6. Fourier domain filters</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ndimage.html#interpolation-functions">1.14.4. Interpolation functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="ndimage.html#spline-pre-filters">1.14.4.1. Spline pre-filters</a></li>
<li class="toctree-l4"><a class="reference internal" href="ndimage.html#id8">1.14.4.2. Interpolation functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ndimage.html#morphology">1.14.5. Morphology</a><ul>
<li class="toctree-l4"><a class="reference internal" href="ndimage.html#binary-morphology">1.14.5.1. Binary morphology</a></li>
<li class="toctree-l4"><a class="reference internal" href="ndimage.html#grey-scale-morphology">1.14.5.2. Grey-scale morphology</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ndimage.html#distance-transforms">1.14.6. Distance transforms</a></li>
<li class="toctree-l3"><a class="reference internal" href="ndimage.html#segmentation-and-labeling">1.14.7. Segmentation and labeling</a></li>
<li class="toctree-l3"><a class="reference internal" href="ndimage.html#object-measurements">1.14.8. Object measurements</a></li>
<li class="toctree-l3"><a class="reference internal" href="ndimage.html#extending-scipy-ndimage-in-c">1.14.9. Extending <code class="docutils literal"><span class="pre">scipy.ndimage</span></code> in C</a></li>
<li class="toctree-l3"><a class="reference internal" href="ndimage.html#functions-that-support-c-callback-functions">1.14.10. Functions that support C callback functions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="io.html">1.15. File IO (<code class="docutils literal"><span class="pre">scipy.io</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="io.html#matlab-files">1.15.1. MATLAB files</a><ul>
<li class="toctree-l4"><a class="reference internal" href="io.html#the-basic-functions">1.15.1.1. The basic functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="io.html#how-do-i-start">1.15.1.2. How do I start?</a></li>
<li class="toctree-l4"><a class="reference internal" href="io.html#matlab-structs">1.15.1.3. MATLAB structs</a></li>
<li class="toctree-l4"><a class="reference internal" href="io.html#matlab-cell-arrays">1.15.1.4. MATLAB cell arrays</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="io.html#idl-files">1.15.2. IDL files</a></li>
<li class="toctree-l3"><a class="reference internal" href="io.html#matrix-market-files">1.15.3. Matrix Market files</a></li>
<li class="toctree-l3"><a class="reference internal" href="io.html#module-scipy.io.wavfile">1.15.4. Wav sound files (<code class="docutils literal"><span class="pre">scipy.io.wavfile</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="io.html#module-scipy.io.arff">1.15.5. Arff files (<code class="docutils literal"><span class="pre">scipy.io.arff</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="io.html#module-scipy.io.netcdf">1.15.6. Netcdf (<code class="docutils literal"><span class="pre">scipy.io.netcdf</span></code>)</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="">1.16. Weave (<cite>scipy.weave</cite>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#outline">1.16.1. Outline</a></li>
<li class="toctree-l3"><a class="reference internal" href="#introduction">1.16.2. Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="#requirements">1.16.3. Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#installation">1.16.4. Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#testing">1.16.5. Testing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#testing-notes">1.16.5.1. Testing Notes:</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#benchmarks">1.16.6. Benchmarks</a></li>
<li class="toctree-l3"><a class="reference internal" href="#inline">1.16.7. Inline</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#more-with-printf">1.16.7.1. More with printf</a></li>
<li class="toctree-l4"><a class="reference internal" href="#more-examples">1.16.7.2. More examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="#keyword-option">1.16.7.3. Keyword Option</a></li>
<li class="toctree-l4"><a class="reference internal" href="#inline-arguments">1.16.7.4. Inline Arguments</a></li>
<li class="toctree-l4"><a class="reference internal" href="#distutils-keywords">1.16.7.5. Distutils keywords</a></li>
<li class="toctree-l4"><a class="reference internal" href="#technical-details">1.16.7.6. Technical Details</a></li>
<li class="toctree-l4"><a class="reference internal" href="#passing-variables-in-out-of-the-c-c-code">1.16.7.7. Passing Variables in/out of the C/C++ code</a></li>
<li class="toctree-l4"><a class="reference internal" href="#type-conversions">1.16.7.8. Type Conversions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-catalog">1.16.7.9. The Catalog</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#blitz">1.16.8. Blitz</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id1">1.16.8.1. Requirements</a></li>
<li class="toctree-l4"><a class="reference internal" href="#limitations">1.16.8.2. Limitations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#numpy-efficiency-issues-what-compilation-buys-you">1.16.8.3. NumPy efficiency issues: What compilation buys you</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-tools">1.16.8.4. The Tools</a></li>
<li class="toctree-l4"><a class="reference internal" href="#type-definitions-and-coercion">1.16.8.5. Type definitions and coercion</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cataloging-compiled-functions">1.16.8.6. Cataloging Compiled Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#checking-array-sizes">1.16.8.7. Checking Array Sizes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#creating-the-extension-module">1.16.8.8. Creating the Extension Module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#extension-modules">1.16.9. Extension Modules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#a-simple-example">1.16.9.1. A Simple Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fibonacci-example">1.16.9.2. Fibonacci Example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#customizing-type-conversions-type-factories">1.16.10. Customizing Type Conversions &#8211; Type Factories</a></li>
<li class="toctree-l3"><a class="reference internal" href="#things-i-wish-weave-did">1.16.11. Things I wish <code class="docutils literal"><span class="pre">weave</span></code> did</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../API.html">2. API - importing from Scipy</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../API.html#guidelines-for-importing-functions-from-scipy">2.1. Guidelines for importing functions from Scipy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../API.html#api-definition">2.2. API definition</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api_c_to_i.html">3. API (<code class="docutils literal"><span class="pre">c-i</span></code>)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../cluster.html">3.1. <code class="docutils literal"><span class="pre">scipy.cluster</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="../cluster.html#clustering-package-scipy-cluster">3.1.1. Clustering package (<code class="docutils literal"><span class="pre">scipy.cluster</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cluster.vq.html">3.1.2. K-means clustering and vector quantization (<code class="docutils literal"><span class="pre">scipy.cluster.vq</span></code>)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.cluster.vq.whiten.html">3.1.2.1. scipy.cluster.vq.whiten</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.cluster.vq.vq.html">3.1.2.2. scipy.cluster.vq.vq</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.cluster.vq.kmeans.html">3.1.2.3. scipy.cluster.vq.kmeans</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.cluster.vq.kmeans2.html">3.1.2.4. scipy.cluster.vq.kmeans2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cluster.vq.html#background-information">3.1.2.5. Background information</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../cluster.hierarchy.html">3.1.3. Hierarchical clustering (<code class="docutils literal"><span class="pre">scipy.cluster.hierarchy</span></code>)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.cluster.hierarchy.fcluster.html">3.1.3.1. scipy.cluster.hierarchy.fcluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.cluster.hierarchy.fclusterdata.html">3.1.3.2. scipy.cluster.hierarchy.fclusterdata</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.cluster.hierarchy.leaders.html">3.1.3.3. scipy.cluster.hierarchy.leaders</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.cluster.hierarchy.linkage.html">3.1.3.4. scipy.cluster.hierarchy.linkage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.cluster.hierarchy.single.html">3.1.3.5. scipy.cluster.hierarchy.single</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.cluster.hierarchy.complete.html">3.1.3.6. scipy.cluster.hierarchy.complete</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.cluster.hierarchy.average.html">3.1.3.7. scipy.cluster.hierarchy.average</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.cluster.hierarchy.weighted.html">3.1.3.8. scipy.cluster.hierarchy.weighted</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.cluster.hierarchy.centroid.html">3.1.3.9. scipy.cluster.hierarchy.centroid</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.cluster.hierarchy.median.html">3.1.3.10. scipy.cluster.hierarchy.median</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.cluster.hierarchy.ward.html">3.1.3.11. scipy.cluster.hierarchy.ward</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.cluster.hierarchy.cophenet.html">3.1.3.12. scipy.cluster.hierarchy.cophenet</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.cluster.hierarchy.from_mlab_linkage.html">3.1.3.13. scipy.cluster.hierarchy.from_mlab_linkage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.cluster.hierarchy.inconsistent.html">3.1.3.14. scipy.cluster.hierarchy.inconsistent</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.cluster.hierarchy.maxinconsts.html">3.1.3.15. scipy.cluster.hierarchy.maxinconsts</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.cluster.hierarchy.maxdists.html">3.1.3.16. scipy.cluster.hierarchy.maxdists</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.cluster.hierarchy.maxRstat.html">3.1.3.17. scipy.cluster.hierarchy.maxRstat</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.cluster.hierarchy.to_mlab_linkage.html">3.1.3.18. scipy.cluster.hierarchy.to_mlab_linkage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.cluster.hierarchy.dendrogram.html">3.1.3.19. scipy.cluster.hierarchy.dendrogram</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.cluster.hierarchy.ClusterNode.html">3.1.3.20. scipy.cluster.hierarchy.ClusterNode</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.cluster.hierarchy.leaves_list.html">3.1.3.21. scipy.cluster.hierarchy.leaves_list</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.cluster.hierarchy.to_tree.html">3.1.3.22. scipy.cluster.hierarchy.to_tree</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.cluster.hierarchy.cut_tree.html">3.1.3.23. scipy.cluster.hierarchy.cut_tree</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.cluster.hierarchy.is_valid_im.html">3.1.3.24. scipy.cluster.hierarchy.is_valid_im</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.cluster.hierarchy.is_valid_linkage.html">3.1.3.25. scipy.cluster.hierarchy.is_valid_linkage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.cluster.hierarchy.is_isomorphic.html">3.1.3.26. scipy.cluster.hierarchy.is_isomorphic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.cluster.hierarchy.is_monotonic.html">3.1.3.27. scipy.cluster.hierarchy.is_monotonic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.cluster.hierarchy.correspond.html">3.1.3.28. scipy.cluster.hierarchy.correspond</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.cluster.hierarchy.num_obs_linkage.html">3.1.3.29. scipy.cluster.hierarchy.num_obs_linkage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.cluster.hierarchy.set_link_color_palette.html">3.1.3.30. scipy.cluster.hierarchy.set_link_color_palette</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cluster.hierarchy.html#references">3.1.3.31. References</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../constants.html">3.2. Constants (<code class="docutils literal"><span class="pre">scipy.constants</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../constants.html#mathematical-constants">3.2.1. Mathematical constants</a></li>
<li class="toctree-l3"><a class="reference internal" href="../constants.html#physical-constants">3.2.2. Physical constants</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../constants.html#constants-database">3.2.2.1. Constants database</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../constants.html#units">3.2.3. Units</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../constants.html#si-prefixes">3.2.3.1. SI prefixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../constants.html#binary-prefixes">3.2.3.2. Binary prefixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../constants.html#weight">3.2.3.3. Weight</a></li>
<li class="toctree-l4"><a class="reference internal" href="../constants.html#angle">3.2.3.4. Angle</a></li>
<li class="toctree-l4"><a class="reference internal" href="../constants.html#time">3.2.3.5. Time</a></li>
<li class="toctree-l4"><a class="reference internal" href="../constants.html#length">3.2.3.6. Length</a></li>
<li class="toctree-l4"><a class="reference internal" href="../constants.html#pressure">3.2.3.7. Pressure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../constants.html#area">3.2.3.8. Area</a></li>
<li class="toctree-l4"><a class="reference internal" href="../constants.html#volume">3.2.3.9. Volume</a></li>
<li class="toctree-l4"><a class="reference internal" href="../constants.html#speed">3.2.3.10. Speed</a></li>
<li class="toctree-l4"><a class="reference internal" href="../constants.html#temperature">3.2.3.11. Temperature</a></li>
<li class="toctree-l4"><a class="reference internal" href="../constants.html#energy">3.2.3.12. Energy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../constants.html#power">3.2.3.13. Power</a></li>
<li class="toctree-l4"><a class="reference internal" href="../constants.html#force">3.2.3.14. Force</a></li>
<li class="toctree-l4"><a class="reference internal" href="../constants.html#optics">3.2.3.15. Optics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../constants.html#references">3.2.4. References</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../fftpack.html">3.3. Discrete Fourier transforms (<code class="docutils literal"><span class="pre">scipy.fftpack</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../fftpack.html#fast-fourier-transforms-ffts">3.3.1. Fast Fourier Transforms (FFTs)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.fftpack.fft.html">3.3.1.1. scipy.fftpack.fft</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.fftpack.ifft.html">3.3.1.2. scipy.fftpack.ifft</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.fftpack.fft2.html">3.3.1.3. scipy.fftpack.fft2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.fftpack.ifft2.html">3.3.1.4. scipy.fftpack.ifft2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.fftpack.fftn.html">3.3.1.5. scipy.fftpack.fftn</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.fftpack.ifftn.html">3.3.1.6. scipy.fftpack.ifftn</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.fftpack.rfft.html">3.3.1.7. scipy.fftpack.rfft</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.fftpack.irfft.html">3.3.1.8. scipy.fftpack.irfft</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.fftpack.dct.html">3.3.1.9. scipy.fftpack.dct</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.fftpack.idct.html">3.3.1.10. scipy.fftpack.idct</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.fftpack.dst.html">3.3.1.11. scipy.fftpack.dst</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.fftpack.idst.html">3.3.1.12. scipy.fftpack.idst</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../fftpack.html#differential-and-pseudo-differential-operators">3.3.2. Differential and pseudo-differential operators</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.fftpack.diff.html">3.3.2.1. scipy.fftpack.diff</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.fftpack.tilbert.html">3.3.2.2. scipy.fftpack.tilbert</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.fftpack.itilbert.html">3.3.2.3. scipy.fftpack.itilbert</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.fftpack.hilbert.html">3.3.2.4. scipy.fftpack.hilbert</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.fftpack.ihilbert.html">3.3.2.5. scipy.fftpack.ihilbert</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.fftpack.cs_diff.html">3.3.2.6. scipy.fftpack.cs_diff</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.fftpack.sc_diff.html">3.3.2.7. scipy.fftpack.sc_diff</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.fftpack.ss_diff.html">3.3.2.8. scipy.fftpack.ss_diff</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.fftpack.cc_diff.html">3.3.2.9. scipy.fftpack.cc_diff</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.fftpack.shift.html">3.3.2.10. scipy.fftpack.shift</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../fftpack.html#helper-functions">3.3.3. Helper functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.fftpack.fftshift.html">3.3.3.1. scipy.fftpack.fftshift</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.fftpack.ifftshift.html">3.3.3.2. scipy.fftpack.ifftshift</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.fftpack.fftfreq.html">3.3.3.3. scipy.fftpack.fftfreq</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.fftpack.rfftfreq.html">3.3.3.4. scipy.fftpack.rfftfreq</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../fftpack.html#module-scipy.fftpack.convolve">3.3.4. Convolutions (<code class="docutils literal"><span class="pre">scipy.fftpack.convolve</span></code>)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.fftpack.convolve.convolve.html">3.3.4.1. scipy.fftpack.convolve.convolve</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.fftpack.convolve.convolve_z.html">3.3.4.2. scipy.fftpack.convolve.convolve_z</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.fftpack.convolve.init_convolution_kernel.html">3.3.4.3. scipy.fftpack.convolve.init_convolution_kernel</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.fftpack.convolve.destroy_convolve_cache.html">3.3.4.4. scipy.fftpack.convolve.destroy_convolve_cache</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../integrate.html">3.4. Integration and ODEs (<code class="docutils literal"><span class="pre">scipy.integrate</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../integrate.html#integrating-functions-given-function-object">3.4.1. Integrating functions, given function object</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.integrate.quad.html">3.4.1.1. scipy.integrate.quad</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.integrate.dblquad.html">3.4.1.2. scipy.integrate.dblquad</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.integrate.tplquad.html">3.4.1.3. scipy.integrate.tplquad</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.integrate.nquad.html">3.4.1.4. scipy.integrate.nquad</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.integrate.fixed_quad.html">3.4.1.5. scipy.integrate.fixed_quad</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.integrate.quadrature.html">3.4.1.6. scipy.integrate.quadrature</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.integrate.romberg.html">3.4.1.7. scipy.integrate.romberg</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.integrate.quad_explain.html">3.4.1.8. scipy.integrate.quad_explain</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.integrate.newton_cotes.html">3.4.1.9. scipy.integrate.newton_cotes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.integrate.IntegrationWarning.html">3.4.1.10. scipy.integrate.IntegrationWarning</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../integrate.html#integrating-functions-given-fixed-samples">3.4.2. Integrating functions, given fixed samples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.integrate.trapz.html">3.4.2.1. scipy.integrate.trapz</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.integrate.cumtrapz.html">3.4.2.2. scipy.integrate.cumtrapz</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.integrate.simps.html">3.4.2.3. scipy.integrate.simps</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.integrate.romb.html">3.4.2.4. scipy.integrate.romb</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../integrate.html#integrators-of-ode-systems">3.4.3. Integrators of ODE systems</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.integrate.odeint.html">3.4.3.1. scipy.integrate.odeint</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.integrate.ode.html">3.4.3.2. scipy.integrate.ode</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.integrate.complex_ode.html">3.4.3.3. scipy.integrate.complex_ode</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../interpolate.html">3.5. Interpolation (<code class="docutils literal"><span class="pre">scipy.interpolate</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../interpolate.html#univariate-interpolation">3.5.1. Univariate interpolation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.interpolate.interp1d.html">3.5.1.1. scipy.interpolate.interp1d</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.interpolate.BarycentricInterpolator.html">3.5.1.2. scipy.interpolate.BarycentricInterpolator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.interpolate.KroghInterpolator.html">3.5.1.3. scipy.interpolate.KroghInterpolator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.interpolate.PiecewisePolynomial.html">3.5.1.4. scipy.interpolate.PiecewisePolynomial</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.interpolate.PchipInterpolator.html">3.5.1.5. scipy.interpolate.PchipInterpolator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.interpolate.barycentric_interpolate.html">3.5.1.6. scipy.interpolate.barycentric_interpolate</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.interpolate.krogh_interpolate.html">3.5.1.7. scipy.interpolate.krogh_interpolate</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.interpolate.piecewise_polynomial_interpolate.html">3.5.1.8. scipy.interpolate.piecewise_polynomial_interpolate</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.interpolate.pchip_interpolate.html">3.5.1.9. scipy.interpolate.pchip_interpolate</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.interpolate.Akima1DInterpolator.html">3.5.1.10. scipy.interpolate.Akima1DInterpolator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.interpolate.PPoly.html">3.5.1.11. scipy.interpolate.PPoly</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.interpolate.BPoly.html">3.5.1.12. scipy.interpolate.BPoly</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../interpolate.html#multivariate-interpolation">3.5.2. Multivariate interpolation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.interpolate.griddata.html">3.5.2.1. scipy.interpolate.griddata</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.interpolate.LinearNDInterpolator.html">3.5.2.2. scipy.interpolate.LinearNDInterpolator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.interpolate.NearestNDInterpolator.html">3.5.2.3. scipy.interpolate.NearestNDInterpolator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.interpolate.CloughTocher2DInterpolator.html">3.5.2.4. scipy.interpolate.CloughTocher2DInterpolator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.interpolate.Rbf.html">3.5.2.5. scipy.interpolate.Rbf</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.interpolate.interp2d.html">3.5.2.6. scipy.interpolate.interp2d</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.interpolate.interpn.html">3.5.2.7. scipy.interpolate.interpn</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.interpolate.RegularGridInterpolator.html">3.5.2.8. scipy.interpolate.RegularGridInterpolator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.interpolate.RectBivariateSpline.html">3.5.2.9. scipy.interpolate.RectBivariateSpline</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../interpolate.html#d-splines">3.5.3. 1-D Splines</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.interpolate.UnivariateSpline.html">3.5.3.1. scipy.interpolate.UnivariateSpline</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.interpolate.InterpolatedUnivariateSpline.html">3.5.3.2. scipy.interpolate.InterpolatedUnivariateSpline</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.interpolate.LSQUnivariateSpline.html">3.5.3.3. scipy.interpolate.LSQUnivariateSpline</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.interpolate.splrep.html">3.5.3.4. scipy.interpolate.splrep</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.interpolate.splprep.html">3.5.3.5. scipy.interpolate.splprep</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.interpolate.splev.html">3.5.3.6. scipy.interpolate.splev</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.interpolate.splint.html">3.5.3.7. scipy.interpolate.splint</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.interpolate.sproot.html">3.5.3.8. scipy.interpolate.sproot</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.interpolate.spalde.html">3.5.3.9. scipy.interpolate.spalde</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.interpolate.splder.html">3.5.3.10. scipy.interpolate.splder</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.interpolate.splantider.html">3.5.3.11. scipy.interpolate.splantider</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.interpolate.insert.html">3.5.3.12. scipy.interpolate.insert</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../interpolate.html#id1">3.5.4. 2-D Splines</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.interpolate.RectBivariateSpline.html">3.5.2.9. scipy.interpolate.RectBivariateSpline</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.interpolate.RectSphereBivariateSpline.html">3.5.4.1. scipy.interpolate.RectSphereBivariateSpline</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.interpolate.BivariateSpline.html">3.5.4.2. scipy.interpolate.BivariateSpline</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.interpolate.SmoothBivariateSpline.html">3.5.4.3. scipy.interpolate.SmoothBivariateSpline</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.interpolate.SmoothSphereBivariateSpline.html">3.5.4.4. scipy.interpolate.SmoothSphereBivariateSpline</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.interpolate.LSQBivariateSpline.html">3.5.4.5. scipy.interpolate.LSQBivariateSpline</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.interpolate.LSQSphereBivariateSpline.html">3.5.4.6. scipy.interpolate.LSQSphereBivariateSpline</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.interpolate.bisplrep.html">3.5.4.7. scipy.interpolate.bisplrep</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.interpolate.bisplev.html">3.5.4.8. scipy.interpolate.bisplev</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../interpolate.html#additional-tools">3.5.5. Additional tools</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.interpolate.lagrange.html">3.5.5.1. scipy.interpolate.lagrange</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.interpolate.approximate_taylor_polynomial.html">3.5.5.2. scipy.interpolate.approximate_taylor_polynomial</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.interpolate.ppform.html">3.5.5.3. scipy.interpolate.ppform</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.interpolate.spleval.html">3.5.5.4. scipy.interpolate.spleval</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.interpolate.spline.html">3.5.5.5. scipy.interpolate.spline</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.interpolate.splmake.html">3.5.5.6. scipy.interpolate.splmake</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.interpolate.spltopp.html">3.5.5.7. scipy.interpolate.spltopp</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.interpolate.pchip.html">3.5.5.8. scipy.interpolate.pchip</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../io.html">3.6. Input and output (<code class="docutils literal"><span class="pre">scipy.io</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../io.html#matlab-files">3.6.1. MATLAB® files</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.io.loadmat.html">3.6.1.1. scipy.io.loadmat</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.io.savemat.html">3.6.1.2. scipy.io.savemat</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.io.whosmat.html">3.6.1.3. scipy.io.whosmat</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../io.html#idl-files">3.6.2. IDL® files</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.io.readsav.html">3.6.2.1. scipy.io.readsav</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../io.html#matrix-market-files">3.6.3. Matrix Market files</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.io.mminfo.html">3.6.3.1. scipy.io.mminfo</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.io.mmread.html">3.6.3.2. scipy.io.mmread</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.io.mmwrite.html">3.6.3.3. scipy.io.mmwrite</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../io.html#unformatted-fortran-files">3.6.4. Unformatted Fortran files</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.io.FortranFile.html">3.6.4.1. scipy.io.FortranFile</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../io.html#netcdf">3.6.5. Netcdf</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.io.netcdf_file.html">3.6.5.1. scipy.io.netcdf_file</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.io.netcdf_variable.html">3.6.5.2. scipy.io.netcdf_variable</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../io.html#harwell-boeing-files">3.6.6. Harwell-Boeing files</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.io.hb_read.html">3.6.6.1. scipy.io.hb_read</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.io.hb_write.html">3.6.6.2. scipy.io.hb_write</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../io.html#module-scipy.io.wavfile">3.6.7. Wav sound files (<code class="docutils literal"><span class="pre">scipy.io.wavfile</span></code>)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.io.wavfile.read.html">3.6.7.1. scipy.io.wavfile.read</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.io.wavfile.write.html">3.6.7.2. scipy.io.wavfile.write</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.io.wavfile.WavFileWarning.html">3.6.7.3. scipy.io.wavfile.WavFileWarning</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../io.html#module-scipy.io.arff">3.6.8. Arff files (<code class="docutils literal"><span class="pre">scipy.io.arff</span></code>)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.io.arff.loadarff.html">3.6.8.1. scipy.io.arff.loadarff</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.io.arff.MetaData.html">3.6.8.2. scipy.io.arff.MetaData</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.io.arff.ArffError.html">3.6.8.3. scipy.io.arff.ArffError</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.io.arff.ParseArffError.html">3.6.8.4. scipy.io.arff.ParseArffError</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api_l_to_o.html">4. API (<code class="docutils literal"><span class="pre">l-o</span></code>)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../linalg.html">4.1. Linear Algebra scipy.linalg</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../linalg.html#id1">4.1.1. Linear algebra (<code class="docutils literal"><span class="pre">scipy.linalg</span></code>)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../linalg.html#basics">4.1.1.1. Basics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../linalg.html#eigenvalue-problems">4.1.1.2. Eigenvalue Problems</a></li>
<li class="toctree-l4"><a class="reference internal" href="../linalg.html#decompositions">4.1.1.3. Decompositions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../linalg.html#matrix-functions">4.1.1.4. Matrix Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../linalg.html#matrix-equation-solvers">4.1.1.5. Matrix Equation Solvers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../linalg.html#special-matrices">4.1.1.6. Special Matrices</a></li>
<li class="toctree-l4"><a class="reference internal" href="../linalg.html#low-level-routines">4.1.1.7. Low-level routines</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../linalg.blas.html">4.1.2. Low-level BLAS functions (<code class="docutils literal"><span class="pre">scipy.linalg.blas</span></code>)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../linalg.blas.html#finding-functions">4.1.2.1. Finding functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../linalg.blas.html#blas-level-1-functions">4.1.2.2. BLAS Level 1 functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../linalg.blas.html#blas-level-2-functions">4.1.2.3. BLAS Level 2 functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../linalg.blas.html#blas-level-3-functions">4.1.2.4. BLAS Level 3 functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../linalg.lapack.html">4.1.3. Low-level LAPACK functions (<code class="docutils literal"><span class="pre">scipy.linalg.lapack</span></code>)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../linalg.lapack.html#finding-functions">4.1.3.1. Finding functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../linalg.lapack.html#all-functions">4.1.3.2. All functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../linalg.cython_blas.html">4.1.4. BLAS Functions for Cython</a></li>
<li class="toctree-l3"><a class="reference internal" href="../linalg.cython_lapack.html">4.1.5. LAPACK functions for Cython</a></li>
<li class="toctree-l3"><a class="reference internal" href="../linalg.interpolative.html">4.1.6. Interpolative matrix decomposition (<code class="docutils literal"><span class="pre">scipy.linalg.interpolative</span></code>)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../linalg.interpolative.html#routines">4.1.6.1. Routines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../linalg.interpolative.html#references">4.1.6.2. References</a></li>
<li class="toctree-l4"><a class="reference internal" href="../linalg.interpolative.html#tutorial">4.1.6.3. Tutorial</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../misc.html">4.2. Miscellaneous routines (<code class="docutils literal"><span class="pre">scipy.misc</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.misc.ascent.html">4.2.1. scipy.misc.ascent</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.misc.bytescale.html">4.2.2. scipy.misc.bytescale</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.misc.central_diff_weights.html">4.2.3. scipy.misc.central_diff_weights</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.misc.comb.html">4.2.4. scipy.misc.comb</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.misc.derivative.html">4.2.5. scipy.misc.derivative</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.misc.face.html">4.2.6. scipy.misc.face</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.misc.factorial.html">4.2.7. scipy.misc.factorial</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.misc.factorial2.html">4.2.8. scipy.misc.factorial2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.misc.factorialk.html">4.2.9. scipy.misc.factorialk</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.misc.fromimage.html">4.2.10. scipy.misc.fromimage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.misc.imfilter.html">4.2.11. scipy.misc.imfilter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.misc.imread.html">4.2.12. scipy.misc.imread</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.misc.imresize.html">4.2.13. scipy.misc.imresize</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.misc.imrotate.html">4.2.14. scipy.misc.imrotate</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.misc.imsave.html">4.2.15. scipy.misc.imsave</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.misc.imshow.html">4.2.16. scipy.misc.imshow</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.misc.info.html">4.2.17. scipy.misc.info</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.misc.lena.html">4.2.18. scipy.misc.lena</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.misc.logsumexp.html">4.2.19. scipy.misc.logsumexp</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.misc.pade.html">4.2.20. scipy.misc.pade</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.misc.toimage.html">4.2.21. scipy.misc.toimage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.misc.source.html">4.2.22. scipy.misc.source</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.misc.who.html">4.2.23. scipy.misc.who</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ndimage.html">4.3. Multi-dimensional image processing (<code class="docutils literal"><span class="pre">scipy.ndimage</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../ndimage.html#filters">4.3.1. Filters</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.convolve.html">4.3.1.1. scipy.ndimage.convolve</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.convolve1d.html">4.3.1.2. scipy.ndimage.convolve1d</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.correlate.html">4.3.1.3. scipy.ndimage.correlate</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.correlate1d.html">4.3.1.4. scipy.ndimage.correlate1d</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.gaussian_filter.html">4.3.1.5. scipy.ndimage.gaussian_filter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.gaussian_filter1d.html">4.3.1.6. scipy.ndimage.gaussian_filter1d</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.gaussian_gradient_magnitude.html">4.3.1.7. scipy.ndimage.gaussian_gradient_magnitude</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.gaussian_laplace.html">4.3.1.8. scipy.ndimage.gaussian_laplace</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.generic_filter.html">4.3.1.9. scipy.ndimage.generic_filter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.generic_filter1d.html">4.3.1.10. scipy.ndimage.generic_filter1d</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.generic_gradient_magnitude.html">4.3.1.11. scipy.ndimage.generic_gradient_magnitude</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.generic_laplace.html">4.3.1.12. scipy.ndimage.generic_laplace</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.laplace.html">4.3.1.13. scipy.ndimage.laplace</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.maximum_filter.html">4.3.1.14. scipy.ndimage.maximum_filter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.maximum_filter1d.html">4.3.1.15. scipy.ndimage.maximum_filter1d</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.median_filter.html">4.3.1.16. scipy.ndimage.median_filter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.minimum_filter.html">4.3.1.17. scipy.ndimage.minimum_filter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.minimum_filter1d.html">4.3.1.18. scipy.ndimage.minimum_filter1d</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.percentile_filter.html">4.3.1.19. scipy.ndimage.percentile_filter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.prewitt.html">4.3.1.20. scipy.ndimage.prewitt</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.rank_filter.html">4.3.1.21. scipy.ndimage.rank_filter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.sobel.html">4.3.1.22. scipy.ndimage.sobel</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.uniform_filter.html">4.3.1.23. scipy.ndimage.uniform_filter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.uniform_filter1d.html">4.3.1.24. scipy.ndimage.uniform_filter1d</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../ndimage.html#fourier-filters">4.3.2. Fourier filters</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.fourier_ellipsoid.html">4.3.2.1. scipy.ndimage.fourier_ellipsoid</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.fourier_gaussian.html">4.3.2.2. scipy.ndimage.fourier_gaussian</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.fourier_shift.html">4.3.2.3. scipy.ndimage.fourier_shift</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.fourier_uniform.html">4.3.2.4. scipy.ndimage.fourier_uniform</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../ndimage.html#interpolation">4.3.3. Interpolation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.affine_transform.html">4.3.3.1. scipy.ndimage.affine_transform</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.geometric_transform.html">4.3.3.2. scipy.ndimage.geometric_transform</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.map_coordinates.html">4.3.3.3. scipy.ndimage.map_coordinates</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.rotate.html">4.3.3.4. scipy.ndimage.rotate</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.shift.html">4.3.3.5. scipy.ndimage.shift</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.spline_filter.html">4.3.3.6. scipy.ndimage.spline_filter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.spline_filter1d.html">4.3.3.7. scipy.ndimage.spline_filter1d</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.zoom.html">4.3.3.8. scipy.ndimage.zoom</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../ndimage.html#measurements">4.3.4. Measurements</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.center_of_mass.html">4.3.4.1. scipy.ndimage.center_of_mass</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.extrema.html">4.3.4.2. scipy.ndimage.extrema</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.find_objects.html">4.3.4.3. scipy.ndimage.find_objects</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.histogram.html">4.3.4.4. scipy.ndimage.histogram</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.label.html">4.3.4.5. scipy.ndimage.label</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.labeled_comprehension.html">4.3.4.6. scipy.ndimage.labeled_comprehension</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.maximum.html">4.3.4.7. scipy.ndimage.maximum</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.maximum_position.html">4.3.4.8. scipy.ndimage.maximum_position</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.mean.html">4.3.4.9. scipy.ndimage.mean</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.median.html">4.3.4.10. scipy.ndimage.median</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.minimum.html">4.3.4.11. scipy.ndimage.minimum</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.minimum_position.html">4.3.4.12. scipy.ndimage.minimum_position</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.standard_deviation.html">4.3.4.13. scipy.ndimage.standard_deviation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.sum.html">4.3.4.14. scipy.ndimage.sum</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.variance.html">4.3.4.15. scipy.ndimage.variance</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.watershed_ift.html">4.3.4.16. scipy.ndimage.watershed_ift</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../ndimage.html#morphology">4.3.5. Morphology</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.binary_closing.html">4.3.5.1. scipy.ndimage.binary_closing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.binary_dilation.html">4.3.5.2. scipy.ndimage.binary_dilation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.binary_erosion.html">4.3.5.3. scipy.ndimage.binary_erosion</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.binary_fill_holes.html">4.3.5.4. scipy.ndimage.binary_fill_holes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.binary_hit_or_miss.html">4.3.5.5. scipy.ndimage.binary_hit_or_miss</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.binary_opening.html">4.3.5.6. scipy.ndimage.binary_opening</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.binary_propagation.html">4.3.5.7. scipy.ndimage.binary_propagation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.black_tophat.html">4.3.5.8. scipy.ndimage.black_tophat</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.distance_transform_bf.html">4.3.5.9. scipy.ndimage.distance_transform_bf</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.distance_transform_cdt.html">4.3.5.10. scipy.ndimage.distance_transform_cdt</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.distance_transform_edt.html">4.3.5.11. scipy.ndimage.distance_transform_edt</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.generate_binary_structure.html">4.3.5.12. scipy.ndimage.generate_binary_structure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.grey_closing.html">4.3.5.13. scipy.ndimage.grey_closing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.grey_dilation.html">4.3.5.14. scipy.ndimage.grey_dilation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.grey_erosion.html">4.3.5.15. scipy.ndimage.grey_erosion</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.grey_opening.html">4.3.5.16. scipy.ndimage.grey_opening</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.iterate_structure.html">4.3.5.17. scipy.ndimage.iterate_structure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.morphological_gradient.html">4.3.5.18. scipy.ndimage.morphological_gradient</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.morphological_laplace.html">4.3.5.19. scipy.ndimage.morphological_laplace</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.white_tophat.html">4.3.5.20. scipy.ndimage.white_tophat</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../ndimage.html#utility">4.3.6. Utility</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.ndimage.imread.html">4.3.6.1. scipy.ndimage.imread</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../odr.html">4.4. Orthogonal distance regression (<code class="docutils literal"><span class="pre">scipy.odr</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../odr.html#package-content">4.4.1. Package Content</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.odr.Data.html">4.4.1.1. scipy.odr.Data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.odr.RealData.html">4.4.1.2. scipy.odr.RealData</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.odr.Model.html">4.4.1.3. scipy.odr.Model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.odr.ODR.html">4.4.1.4. scipy.odr.ODR</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.odr.Output.html">4.4.1.5. scipy.odr.Output</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.odr.odr.html">4.4.1.6. scipy.odr.odr</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.odr.odr_error.html">4.4.1.7. scipy.odr.odr_error</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.odr.odr_stop.html">4.4.1.8. scipy.odr.odr_stop</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.odr.polynomial.html">4.4.1.9. scipy.odr.polynomial</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../odr.html#usage-information">4.4.2. Usage information</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../odr.html#introduction">4.4.2.1. Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../odr.html#basic-usage">4.4.2.2. Basic usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../odr.html#references">4.4.2.3. References</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../optimize.html">4.5. Optimization and root finding (<code class="docutils literal"><span class="pre">scipy.optimize</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../optimize.html#optimization">4.5.1. Optimization</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../optimize.html#local-optimization">4.5.1.1. Local Optimization</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize.html#equation-local-minimizers">4.5.1.2. Equation (Local) Minimizers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize.html#global-optimization">4.5.1.3. Global Optimization</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize.html#rosenbrock-function">4.5.1.4. Rosenbrock function</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../optimize.html#fitting">4.5.2. Fitting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.optimize.curve_fit.html">4.5.2.1. scipy.optimize.curve_fit</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../optimize.html#root-finding">4.5.3. Root finding</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../optimize.html#scalar-functions">4.5.3.1. Scalar functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize.html#multidimensional">4.5.3.2. Multidimensional</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../optimize.html#linear-programming">4.5.4. Linear Programming</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.optimize.linprog.html">4.5.4.1. scipy.optimize.linprog</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.optimize.linprog_verbose_callback.html">4.5.4.2. scipy.optimize.linprog_verbose_callback</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize.linprog-simplex.html">4.5.4.3. linprog(method=&#8217;Simplex&#8217;)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.optimize.linear_sum_assignment.html">4.5.4.4. scipy.optimize.linear_sum_assignment</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../optimize.html#utilities">4.5.5. Utilities</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.optimize.approx_fprime.html">4.5.5.1. scipy.optimize.approx_fprime</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.optimize.bracket.html">4.5.5.2. scipy.optimize.bracket</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.optimize.check_grad.html">4.5.5.3. scipy.optimize.check_grad</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.optimize.line_search.html">4.5.5.4. scipy.optimize.line_search</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.optimize.show_options.html">4.5.5.5. scipy.optimize.show_options</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.optimize.LbfgsInvHessProduct.html">4.5.5.6. scipy.optimize.LbfgsInvHessProduct</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../optimize.nonlin.html">4.6. Nonlinear solvers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../optimize.nonlin.html#routines">4.6.1. Routines</a></li>
<li class="toctree-l3"><a class="reference internal" href="../optimize.nonlin.html#examples">4.6.2. Examples</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api_s_to_w.html">5. API (<code class="docutils literal"><span class="pre">s-w</span></code>)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../signal.html">5.1. Signal processing (<code class="docutils literal"><span class="pre">scipy.signal</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../signal.html#convolution">5.1.1. Convolution</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.convolve.html">5.1.1.1. scipy.signal.convolve</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.correlate.html">5.1.1.2. scipy.signal.correlate</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.fftconvolve.html">5.1.1.3. scipy.signal.fftconvolve</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.convolve2d.html">5.1.1.4. scipy.signal.convolve2d</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.correlate2d.html">5.1.1.5. scipy.signal.correlate2d</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.sepfir2d.html">5.1.1.6. scipy.signal.sepfir2d</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../signal.html#b-splines">5.1.2. B-splines</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.bspline.html">5.1.2.1. scipy.signal.bspline</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.cubic.html">5.1.2.2. scipy.signal.cubic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.quadratic.html">5.1.2.3. scipy.signal.quadratic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.gauss_spline.html">5.1.2.4. scipy.signal.gauss_spline</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.cspline1d.html">5.1.2.5. scipy.signal.cspline1d</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.qspline1d.html">5.1.2.6. scipy.signal.qspline1d</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.cspline2d.html">5.1.2.7. scipy.signal.cspline2d</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.qspline2d.html">5.1.2.8. scipy.signal.qspline2d</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.cspline1d_eval.html">5.1.2.9. scipy.signal.cspline1d_eval</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.qspline1d_eval.html">5.1.2.10. scipy.signal.qspline1d_eval</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.spline_filter.html">5.1.2.11. scipy.signal.spline_filter</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../signal.html#filtering">5.1.3. Filtering</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.order_filter.html">5.1.3.1. scipy.signal.order_filter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.medfilt.html">5.1.3.2. scipy.signal.medfilt</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.medfilt2d.html">5.1.3.3. scipy.signal.medfilt2d</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.wiener.html">5.1.3.4. scipy.signal.wiener</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.symiirorder1.html">5.1.3.5. scipy.signal.symiirorder1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.symiirorder2.html">5.1.3.6. scipy.signal.symiirorder2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.lfilter.html">5.1.3.7. scipy.signal.lfilter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.lfiltic.html">5.1.3.8. scipy.signal.lfiltic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.lfilter_zi.html">5.1.3.9. scipy.signal.lfilter_zi</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.filtfilt.html">5.1.3.10. scipy.signal.filtfilt</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.savgol_filter.html">5.1.3.11. scipy.signal.savgol_filter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.deconvolve.html">5.1.3.12. scipy.signal.deconvolve</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.sosfilt.html">5.1.3.13. scipy.signal.sosfilt</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.sosfilt_zi.html">5.1.3.14. scipy.signal.sosfilt_zi</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.hilbert.html">5.1.3.15. scipy.signal.hilbert</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.hilbert2.html">5.1.3.16. scipy.signal.hilbert2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.decimate.html">5.1.3.17. scipy.signal.decimate</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.detrend.html">5.1.3.18. scipy.signal.detrend</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.resample.html">5.1.3.19. scipy.signal.resample</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../signal.html#filter-design">5.1.4. Filter design</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.bilinear.html">5.1.4.1. scipy.signal.bilinear</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.findfreqs.html">5.1.4.2. scipy.signal.findfreqs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.firwin.html">5.1.4.3. scipy.signal.firwin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.firwin2.html">5.1.4.4. scipy.signal.firwin2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.freqs.html">5.1.4.5. scipy.signal.freqs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.freqz.html">5.1.4.6. scipy.signal.freqz</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.group_delay.html">5.1.4.7. scipy.signal.group_delay</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.iirdesign.html">5.1.4.8. scipy.signal.iirdesign</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.iirfilter.html">5.1.4.9. scipy.signal.iirfilter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.kaiser_atten.html">5.1.4.10. scipy.signal.kaiser_atten</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.kaiser_beta.html">5.1.4.11. scipy.signal.kaiser_beta</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.kaiserord.html">5.1.4.12. scipy.signal.kaiserord</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.savgol_coeffs.html">5.1.4.13. scipy.signal.savgol_coeffs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.remez.html">5.1.4.14. scipy.signal.remez</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.unique_roots.html">5.1.4.15. scipy.signal.unique_roots</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.residue.html">5.1.4.16. scipy.signal.residue</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.residuez.html">5.1.4.17. scipy.signal.residuez</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.invres.html">5.1.4.18. scipy.signal.invres</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.invresz.html">5.1.4.19. scipy.signal.invresz</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.BadCoefficients.html">5.1.4.20. scipy.signal.BadCoefficients</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.abcd_normalize.html">5.1.4.21. scipy.signal.abcd_normalize</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.band_stop_obj.html">5.1.4.22. scipy.signal.band_stop_obj</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.besselap.html">5.1.4.23. scipy.signal.besselap</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.buttap.html">5.1.4.24. scipy.signal.buttap</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.cheb1ap.html">5.1.4.25. scipy.signal.cheb1ap</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.cheb2ap.html">5.1.4.26. scipy.signal.cheb2ap</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.cmplx_sort.html">5.1.4.27. scipy.signal.cmplx_sort</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.ellipap.html">5.1.4.28. scipy.signal.ellipap</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.lp2bp.html">5.1.4.29. scipy.signal.lp2bp</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.lp2bs.html">5.1.4.30. scipy.signal.lp2bs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.lp2hp.html">5.1.4.31. scipy.signal.lp2hp</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.lp2lp.html">5.1.4.32. scipy.signal.lp2lp</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.normalize.html">5.1.4.33. scipy.signal.normalize</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../signal.html#matlab-style-iir-filter-design">5.1.5. Matlab-style IIR filter design</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.butter.html">5.1.5.1. scipy.signal.butter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.buttord.html">5.1.5.2. scipy.signal.buttord</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.cheby1.html">5.1.5.3. scipy.signal.cheby1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.cheb1ord.html">5.1.5.4. scipy.signal.cheb1ord</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.cheby2.html">5.1.5.5. scipy.signal.cheby2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.cheb2ord.html">5.1.5.6. scipy.signal.cheb2ord</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.ellip.html">5.1.5.7. scipy.signal.ellip</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.ellipord.html">5.1.5.8. scipy.signal.ellipord</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.bessel.html">5.1.5.9. scipy.signal.bessel</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../signal.html#continuous-time-linear-systems">5.1.6. Continuous-Time Linear Systems</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.freqresp.html">5.1.6.1. scipy.signal.freqresp</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.lti.html">5.1.6.2. scipy.signal.lti</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.StateSpace.html">5.1.6.3. scipy.signal.StateSpace</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.TransferFunction.html">5.1.6.4. scipy.signal.TransferFunction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.ZerosPolesGain.html">5.1.6.5. scipy.signal.ZerosPolesGain</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.lsim.html">5.1.6.6. scipy.signal.lsim</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.lsim2.html">5.1.6.7. scipy.signal.lsim2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.impulse.html">5.1.6.8. scipy.signal.impulse</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.impulse2.html">5.1.6.9. scipy.signal.impulse2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.step.html">5.1.6.10. scipy.signal.step</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.step2.html">5.1.6.11. scipy.signal.step2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.bode.html">5.1.6.12. scipy.signal.bode</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../signal.html#discrete-time-linear-systems">5.1.7. Discrete-Time Linear Systems</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.dlsim.html">5.1.7.1. scipy.signal.dlsim</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.dimpulse.html">5.1.7.2. scipy.signal.dimpulse</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.dstep.html">5.1.7.3. scipy.signal.dstep</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../signal.html#lti-representations">5.1.8. LTI Representations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.tf2zpk.html">5.1.8.1. scipy.signal.tf2zpk</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.tf2sos.html">5.1.8.2. scipy.signal.tf2sos</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.tf2ss.html">5.1.8.3. scipy.signal.tf2ss</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.zpk2tf.html">5.1.8.4. scipy.signal.zpk2tf</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.zpk2sos.html">5.1.8.5. scipy.signal.zpk2sos</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.zpk2ss.html">5.1.8.6. scipy.signal.zpk2ss</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.ss2tf.html">5.1.8.7. scipy.signal.ss2tf</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.ss2zpk.html">5.1.8.8. scipy.signal.ss2zpk</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.sos2zpk.html">5.1.8.9. scipy.signal.sos2zpk</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.sos2tf.html">5.1.8.10. scipy.signal.sos2tf</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.cont2discrete.html">5.1.8.11. scipy.signal.cont2discrete</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.place_poles.html">5.1.8.12. scipy.signal.place_poles</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../signal.html#waveforms">5.1.9. Waveforms</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.chirp.html">5.1.9.1. scipy.signal.chirp</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.gausspulse.html">5.1.9.2. scipy.signal.gausspulse</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.max_len_seq.html">5.1.9.3. scipy.signal.max_len_seq</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.sawtooth.html">5.1.9.4. scipy.signal.sawtooth</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.square.html">5.1.9.5. scipy.signal.square</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.sweep_poly.html">5.1.9.6. scipy.signal.sweep_poly</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../signal.html#window-functions">5.1.10. Window functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.get_window.html">5.1.10.1. scipy.signal.get_window</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.barthann.html">5.1.10.2. scipy.signal.barthann</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.bartlett.html">5.1.10.3. scipy.signal.bartlett</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.blackman.html">5.1.10.4. scipy.signal.blackman</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.blackmanharris.html">5.1.10.5. scipy.signal.blackmanharris</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.bohman.html">5.1.10.6. scipy.signal.bohman</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.boxcar.html">5.1.10.7. scipy.signal.boxcar</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.chebwin.html">5.1.10.8. scipy.signal.chebwin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.cosine.html">5.1.10.9. scipy.signal.cosine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.exponential.html">5.1.10.10. scipy.signal.exponential</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.flattop.html">5.1.10.11. scipy.signal.flattop</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.gaussian.html">5.1.10.12. scipy.signal.gaussian</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.general_gaussian.html">5.1.10.13. scipy.signal.general_gaussian</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.hamming.html">5.1.10.14. scipy.signal.hamming</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.hann.html">5.1.10.15. scipy.signal.hann</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.hanning.html">5.1.10.16. scipy.signal.hanning</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.kaiser.html">5.1.10.17. scipy.signal.kaiser</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.nuttall.html">5.1.10.18. scipy.signal.nuttall</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.parzen.html">5.1.10.19. scipy.signal.parzen</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.slepian.html">5.1.10.20. scipy.signal.slepian</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.triang.html">5.1.10.21. scipy.signal.triang</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.tukey.html">5.1.10.22. scipy.signal.tukey</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../signal.html#wavelets">5.1.11. Wavelets</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.cascade.html">5.1.11.1. scipy.signal.cascade</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.daub.html">5.1.11.2. scipy.signal.daub</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.morlet.html">5.1.11.3. scipy.signal.morlet</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.qmf.html">5.1.11.4. scipy.signal.qmf</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.ricker.html">5.1.11.5. scipy.signal.ricker</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.cwt.html">5.1.11.6. scipy.signal.cwt</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../signal.html#peak-finding">5.1.12. Peak finding</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.find_peaks_cwt.html">5.1.12.1. scipy.signal.find_peaks_cwt</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.argrelmin.html">5.1.12.2. scipy.signal.argrelmin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.argrelmax.html">5.1.12.3. scipy.signal.argrelmax</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.argrelextrema.html">5.1.12.4. scipy.signal.argrelextrema</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../signal.html#spectral-analysis">5.1.13. Spectral Analysis</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.periodogram.html">5.1.13.1. scipy.signal.periodogram</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.welch.html">5.1.13.2. scipy.signal.welch</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.csd.html">5.1.13.3. scipy.signal.csd</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.coherence.html">5.1.13.4. scipy.signal.coherence</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.spectrogram.html">5.1.13.5. scipy.signal.spectrogram</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.lombscargle.html">5.1.13.6. scipy.signal.lombscargle</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.signal.vectorstrength.html">5.1.13.7. scipy.signal.vectorstrength</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../sparse.html">5.2. Sparse matrices (<code class="docutils literal"><span class="pre">scipy.sparse</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../sparse.html#contents">5.2.1. Contents</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../sparse.html#sparse-matrix-classes">5.2.1.1. Sparse matrix classes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../sparse.html#functions">5.2.1.2. Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../sparse.html#submodules">5.2.1.3. Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="../sparse.html#exceptions">5.2.1.4. Exceptions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../sparse.html#usage-information">5.2.2. Usage information</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../sparse.html#matrix-vector-product">5.2.2.1. Matrix vector product</a></li>
<li class="toctree-l4"><a class="reference internal" href="../sparse.html#example-1">5.2.2.2. Example 1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../sparse.html#example-2">5.2.2.3. Example 2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../sparse.html#further-details">5.2.2.4. Further Details</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../sparse.linalg.html">5.3. Sparse linear algebra (<code class="docutils literal"><span class="pre">scipy.sparse.linalg</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../sparse.linalg.html#abstract-linear-operators">5.3.1. Abstract linear operators</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.sparse.linalg.LinearOperator.html">5.3.1.1. scipy.sparse.linalg.LinearOperator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.sparse.linalg.aslinearoperator.html">5.3.1.2. scipy.sparse.linalg.aslinearoperator</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../sparse.linalg.html#matrix-operations">5.3.2. Matrix Operations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.sparse.linalg.inv.html">5.3.2.1. scipy.sparse.linalg.inv</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.sparse.linalg.expm.html">5.3.2.2. scipy.sparse.linalg.expm</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.sparse.linalg.expm_multiply.html">5.3.2.3. scipy.sparse.linalg.expm_multiply</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../sparse.linalg.html#matrix-norms">5.3.3. Matrix norms</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.sparse.linalg.norm.html">5.3.3.1. scipy.sparse.linalg.norm</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.sparse.linalg.onenormest.html">5.3.3.2. scipy.sparse.linalg.onenormest</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../sparse.linalg.html#solving-linear-problems">5.3.4. Solving linear problems</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.sparse.linalg.spsolve.html">5.3.4.1. scipy.sparse.linalg.spsolve</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.sparse.linalg.factorized.html">5.3.4.2. scipy.sparse.linalg.factorized</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.sparse.linalg.MatrixRankWarning.html">5.3.4.3. scipy.sparse.linalg.MatrixRankWarning</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.sparse.linalg.use_solver.html">5.3.4.4. scipy.sparse.linalg.use_solver</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.sparse.linalg.bicg.html">5.3.4.5. scipy.sparse.linalg.bicg</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.sparse.linalg.bicgstab.html">5.3.4.6. scipy.sparse.linalg.bicgstab</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.sparse.linalg.cg.html">5.3.4.7. scipy.sparse.linalg.cg</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.sparse.linalg.cgs.html">5.3.4.8. scipy.sparse.linalg.cgs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.sparse.linalg.gmres.html">5.3.4.9. scipy.sparse.linalg.gmres</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.sparse.linalg.lgmres.html">5.3.4.10. scipy.sparse.linalg.lgmres</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.sparse.linalg.minres.html">5.3.4.11. scipy.sparse.linalg.minres</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.sparse.linalg.qmr.html">5.3.4.12. scipy.sparse.linalg.qmr</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.sparse.linalg.lsqr.html">5.3.4.13. scipy.sparse.linalg.lsqr</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.sparse.linalg.lsmr.html">5.3.4.14. scipy.sparse.linalg.lsmr</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../sparse.linalg.html#matrix-factorizations">5.3.5. Matrix factorizations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.sparse.linalg.eigs.html">5.3.5.1. scipy.sparse.linalg.eigs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.sparse.linalg.eigsh.html">5.3.5.2. scipy.sparse.linalg.eigsh</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.sparse.linalg.lobpcg.html">5.3.5.3. scipy.sparse.linalg.lobpcg</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.sparse.linalg.svds.html">5.3.5.4. scipy.sparse.linalg.svds</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.sparse.linalg.splu.html">5.3.5.5. scipy.sparse.linalg.splu</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.sparse.linalg.spilu.html">5.3.5.6. scipy.sparse.linalg.spilu</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.sparse.linalg.SuperLU.html">5.3.5.7. scipy.sparse.linalg.SuperLU</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../sparse.linalg.html#exceptions">5.3.6. Exceptions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.sparse.linalg.ArpackNoConvergence.html">5.3.6.1. scipy.sparse.linalg.ArpackNoConvergence</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.sparse.linalg.ArpackError.html">5.3.6.2. scipy.sparse.linalg.ArpackError</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../sparse.csgraph.html">5.4. Compressed Sparse Graph Routines (<code class="docutils literal"><span class="pre">scipy.sparse.csgraph</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../sparse.csgraph.html#contents">5.4.1. Contents</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.sparse.csgraph.connected_components.html">5.4.1.1. scipy.sparse.csgraph.connected_components</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.sparse.csgraph.laplacian.html">5.4.1.2. scipy.sparse.csgraph.laplacian</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.sparse.csgraph.shortest_path.html">5.4.1.3. scipy.sparse.csgraph.shortest_path</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.sparse.csgraph.dijkstra.html">5.4.1.4. scipy.sparse.csgraph.dijkstra</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.sparse.csgraph.floyd_warshall.html">5.4.1.5. scipy.sparse.csgraph.floyd_warshall</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.sparse.csgraph.bellman_ford.html">5.4.1.6. scipy.sparse.csgraph.bellman_ford</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.sparse.csgraph.johnson.html">5.4.1.7. scipy.sparse.csgraph.johnson</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.sparse.csgraph.breadth_first_order.html">5.4.1.8. scipy.sparse.csgraph.breadth_first_order</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.sparse.csgraph.depth_first_order.html">5.4.1.9. scipy.sparse.csgraph.depth_first_order</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.sparse.csgraph.breadth_first_tree.html">5.4.1.10. scipy.sparse.csgraph.breadth_first_tree</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.sparse.csgraph.depth_first_tree.html">5.4.1.11. scipy.sparse.csgraph.depth_first_tree</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.sparse.csgraph.minimum_spanning_tree.html">5.4.1.12. scipy.sparse.csgraph.minimum_spanning_tree</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.sparse.csgraph.reverse_cuthill_mckee.html">5.4.1.13. scipy.sparse.csgraph.reverse_cuthill_mckee</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.sparse.csgraph.maximum_bipartite_matching.html">5.4.1.14. scipy.sparse.csgraph.maximum_bipartite_matching</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.sparse.csgraph.NegativeCycleError.html">5.4.1.15. scipy.sparse.csgraph.NegativeCycleError</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.sparse.csgraph.construct_dist_matrix.html">5.4.1.16. scipy.sparse.csgraph.construct_dist_matrix</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.sparse.csgraph.csgraph_from_dense.html">5.4.1.17. scipy.sparse.csgraph.csgraph_from_dense</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.sparse.csgraph.csgraph_from_masked.html">5.4.1.18. scipy.sparse.csgraph.csgraph_from_masked</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.sparse.csgraph.csgraph_masked_from_dense.html">5.4.1.19. scipy.sparse.csgraph.csgraph_masked_from_dense</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.sparse.csgraph.csgraph_to_dense.html">5.4.1.20. scipy.sparse.csgraph.csgraph_to_dense</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.sparse.csgraph.csgraph_to_masked.html">5.4.1.21. scipy.sparse.csgraph.csgraph_to_masked</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.sparse.csgraph.reconstruct_path.html">5.4.1.22. scipy.sparse.csgraph.reconstruct_path</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../sparse.csgraph.html#graph-representations">5.4.2. Graph Representations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../sparse.csgraph.html#directed-vs-undirected">5.4.2.1. Directed vs. Undirected</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../spatial.html">5.5. Spatial algorithms and data structures (<code class="docutils literal"><span class="pre">scipy.spatial</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../spatial.html#nearest-neighbor-queries">5.5.1. Nearest-neighbor Queries</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.spatial.KDTree.html">5.5.1.1. scipy.spatial.KDTree</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.spatial.cKDTree.html">5.5.1.2. scipy.spatial.cKDTree</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.spatial.distance.html">5.5.1.3. scipy.spatial.distance</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.spatial.Rectangle.html">5.5.1.4. scipy.spatial.Rectangle</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../spatial.html#delaunay-triangulation-convex-hulls-and-voronoi-diagrams">5.5.2. Delaunay Triangulation, Convex Hulls and Voronoi Diagrams</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.spatial.Delaunay.html">5.5.2.1. scipy.spatial.Delaunay</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.spatial.ConvexHull.html">5.5.2.2. scipy.spatial.ConvexHull</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.spatial.Voronoi.html">5.5.2.3. scipy.spatial.Voronoi</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../spatial.html#plotting-helpers">5.5.3. Plotting Helpers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.spatial.delaunay_plot_2d.html">5.5.3.1. scipy.spatial.delaunay_plot_2d</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.spatial.convex_hull_plot_2d.html">5.5.3.2. scipy.spatial.convex_hull_plot_2d</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.spatial.voronoi_plot_2d.html">5.5.3.3. scipy.spatial.voronoi_plot_2d</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../spatial.html#simplex-representation">5.5.4. Simplex representation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../spatial.html#functions">5.5.4.1. Functions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../spatial.distance.html">5.6. Distance computations (<code class="docutils literal"><span class="pre">scipy.spatial.distance</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../spatial.distance.html#function-reference">5.6.1. Function Reference</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.spatial.distance.pdist.html">5.6.1.1. scipy.spatial.distance.pdist</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.spatial.distance.cdist.html">5.6.1.2. scipy.spatial.distance.cdist</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.spatial.distance.squareform.html">5.6.1.3. scipy.spatial.distance.squareform</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.spatial.distance.is_valid_dm.html">5.6.1.4. scipy.spatial.distance.is_valid_dm</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.spatial.distance.is_valid_y.html">5.6.1.5. scipy.spatial.distance.is_valid_y</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.spatial.distance.num_obs_dm.html">5.6.1.6. scipy.spatial.distance.num_obs_dm</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.spatial.distance.num_obs_y.html">5.6.1.7. scipy.spatial.distance.num_obs_y</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.spatial.distance.braycurtis.html">5.6.1.8. scipy.spatial.distance.braycurtis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.spatial.distance.canberra.html">5.6.1.9. scipy.spatial.distance.canberra</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.spatial.distance.chebyshev.html">5.6.1.10. scipy.spatial.distance.chebyshev</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.spatial.distance.cityblock.html">5.6.1.11. scipy.spatial.distance.cityblock</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.spatial.distance.correlation.html">5.6.1.12. scipy.spatial.distance.correlation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.spatial.distance.cosine.html">5.6.1.13. scipy.spatial.distance.cosine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.spatial.distance.dice.html">5.6.1.14. scipy.spatial.distance.dice</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.spatial.distance.euclidean.html">5.6.1.15. scipy.spatial.distance.euclidean</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.spatial.distance.hamming.html">5.6.1.16. scipy.spatial.distance.hamming</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.spatial.distance.jaccard.html">5.6.1.17. scipy.spatial.distance.jaccard</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.spatial.distance.kulsinski.html">5.6.1.18. scipy.spatial.distance.kulsinski</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.spatial.distance.mahalanobis.html">5.6.1.19. scipy.spatial.distance.mahalanobis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.spatial.distance.matching.html">5.6.1.20. scipy.spatial.distance.matching</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.spatial.distance.minkowski.html">5.6.1.21. scipy.spatial.distance.minkowski</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.spatial.distance.rogerstanimoto.html">5.6.1.22. scipy.spatial.distance.rogerstanimoto</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.spatial.distance.russellrao.html">5.6.1.23. scipy.spatial.distance.russellrao</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.spatial.distance.seuclidean.html">5.6.1.24. scipy.spatial.distance.seuclidean</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.spatial.distance.sokalmichener.html">5.6.1.25. scipy.spatial.distance.sokalmichener</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.spatial.distance.sokalsneath.html">5.6.1.26. scipy.spatial.distance.sokalsneath</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.spatial.distance.sqeuclidean.html">5.6.1.27. scipy.spatial.distance.sqeuclidean</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.spatial.distance.wminkowski.html">5.6.1.28. scipy.spatial.distance.wminkowski</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.spatial.distance.yule.html">5.6.1.29. scipy.spatial.distance.yule</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../special.html">5.7. Special functions (<code class="docutils literal"><span class="pre">scipy.special</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../special.html#error-handling">5.7.1. Error handling</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.special.errprint.html">5.7.1.1. scipy.special.errprint</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.special.SpecialFunctionWarning.html">5.7.1.2. scipy.special.SpecialFunctionWarning</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../special.html#available-functions">5.7.2. Available functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../special.html#airy-functions">5.7.2.1. Airy functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../special.html#elliptic-functions-and-integrals">5.7.2.2. Elliptic Functions and Integrals</a></li>
<li class="toctree-l4"><a class="reference internal" href="../special.html#bessel-functions">5.7.2.3. Bessel Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../special.html#struve-functions">5.7.2.4. Struve Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../special.html#raw-statistical-functions">5.7.2.5. Raw Statistical Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../special.html#information-theory-functions">5.7.2.6. Information Theory Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../special.html#gamma-and-related-functions">5.7.2.7. Gamma and Related Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../special.html#error-function-and-fresnel-integrals">5.7.2.8. Error Function and Fresnel Integrals</a></li>
<li class="toctree-l4"><a class="reference internal" href="../special.html#legendre-functions">5.7.2.9. Legendre Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../special.html#ellipsoidal-harmonics">5.7.2.10. Ellipsoidal Harmonics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../special.html#orthogonal-polynomials">5.7.2.11. Orthogonal polynomials</a></li>
<li class="toctree-l4"><a class="reference internal" href="../special.html#hypergeometric-functions">5.7.2.12. Hypergeometric Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../special.html#parabolic-cylinder-functions">5.7.2.13. Parabolic Cylinder Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../special.html#mathieu-and-related-functions">5.7.2.14. Mathieu and Related Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../special.html#spheroidal-wave-functions">5.7.2.15. Spheroidal Wave Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../special.html#kelvin-functions">5.7.2.16. Kelvin Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../special.html#combinatorics">5.7.2.17. Combinatorics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../special.html#other-special-functions">5.7.2.18. Other Special Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../special.html#convenience-functions">5.7.2.19. Convenience Functions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../stats.html">5.8. Statistical functions (<code class="docutils literal"><span class="pre">scipy.stats</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.rv_continuous.html">5.8.1. scipy.stats.rv_continuous</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.rv_discrete.html">5.8.2. scipy.stats.rv_discrete</a></li>
<li class="toctree-l3"><a class="reference internal" href="../stats.html#continuous-distributions">5.8.3. Continuous distributions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.alpha.html">5.8.3.1. scipy.stats.alpha</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.anglit.html">5.8.3.2. scipy.stats.anglit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.arcsine.html">5.8.3.3. scipy.stats.arcsine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.beta.html">5.8.3.4. scipy.stats.beta</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.betaprime.html">5.8.3.5. scipy.stats.betaprime</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.bradford.html">5.8.3.6. scipy.stats.bradford</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.burr.html">5.8.3.7. scipy.stats.burr</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.cauchy.html">5.8.3.8. scipy.stats.cauchy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.chi.html">5.8.3.9. scipy.stats.chi</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.chi2.html">5.8.3.10. scipy.stats.chi2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.cosine.html">5.8.3.11. scipy.stats.cosine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.dgamma.html">5.8.3.12. scipy.stats.dgamma</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.dweibull.html">5.8.3.13. scipy.stats.dweibull</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.erlang.html">5.8.3.14. scipy.stats.erlang</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.expon.html">5.8.3.15. scipy.stats.expon</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.exponnorm.html">5.8.3.16. scipy.stats.exponnorm</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.exponweib.html">5.8.3.17. scipy.stats.exponweib</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.exponpow.html">5.8.3.18. scipy.stats.exponpow</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.f.html">5.8.3.19. scipy.stats.f</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.fatiguelife.html">5.8.3.20. scipy.stats.fatiguelife</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.fisk.html">5.8.3.21. scipy.stats.fisk</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.foldcauchy.html">5.8.3.22. scipy.stats.foldcauchy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.foldnorm.html">5.8.3.23. scipy.stats.foldnorm</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.frechet_r.html">5.8.3.24. scipy.stats.frechet_r</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.frechet_l.html">5.8.3.25. scipy.stats.frechet_l</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.genlogistic.html">5.8.3.26. scipy.stats.genlogistic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.gennorm.html">5.8.3.27. scipy.stats.gennorm</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.genpareto.html">5.8.3.28. scipy.stats.genpareto</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.genexpon.html">5.8.3.29. scipy.stats.genexpon</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.genextreme.html">5.8.3.30. scipy.stats.genextreme</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.gausshyper.html">5.8.3.31. scipy.stats.gausshyper</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.gamma.html">5.8.3.32. scipy.stats.gamma</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.gengamma.html">5.8.3.33. scipy.stats.gengamma</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.genhalflogistic.html">5.8.3.34. scipy.stats.genhalflogistic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.gilbrat.html">5.8.3.35. scipy.stats.gilbrat</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.gompertz.html">5.8.3.36. scipy.stats.gompertz</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.gumbel_r.html">5.8.3.37. scipy.stats.gumbel_r</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.gumbel_l.html">5.8.3.38. scipy.stats.gumbel_l</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.halfcauchy.html">5.8.3.39. scipy.stats.halfcauchy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.halflogistic.html">5.8.3.40. scipy.stats.halflogistic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.halfnorm.html">5.8.3.41. scipy.stats.halfnorm</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.halfgennorm.html">5.8.3.42. scipy.stats.halfgennorm</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.hypsecant.html">5.8.3.43. scipy.stats.hypsecant</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.invgamma.html">5.8.3.44. scipy.stats.invgamma</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.invgauss.html">5.8.3.45. scipy.stats.invgauss</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.invweibull.html">5.8.3.46. scipy.stats.invweibull</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.johnsonsb.html">5.8.3.47. scipy.stats.johnsonsb</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.johnsonsu.html">5.8.3.48. scipy.stats.johnsonsu</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.ksone.html">5.8.3.49. scipy.stats.ksone</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.kstwobign.html">5.8.3.50. scipy.stats.kstwobign</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.laplace.html">5.8.3.51. scipy.stats.laplace</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.levy.html">5.8.3.52. scipy.stats.levy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.levy_l.html">5.8.3.53. scipy.stats.levy_l</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.levy_stable.html">5.8.3.54. scipy.stats.levy_stable</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.logistic.html">5.8.3.55. scipy.stats.logistic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.loggamma.html">5.8.3.56. scipy.stats.loggamma</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.loglaplace.html">5.8.3.57. scipy.stats.loglaplace</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.lognorm.html">5.8.3.58. scipy.stats.lognorm</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.lomax.html">5.8.3.59. scipy.stats.lomax</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.maxwell.html">5.8.3.60. scipy.stats.maxwell</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.mielke.html">5.8.3.61. scipy.stats.mielke</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.nakagami.html">5.8.3.62. scipy.stats.nakagami</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.ncx2.html">5.8.3.63. scipy.stats.ncx2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.ncf.html">5.8.3.64. scipy.stats.ncf</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.nct.html">5.8.3.65. scipy.stats.nct</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.norm.html">5.8.3.66. scipy.stats.norm</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.pareto.html">5.8.3.67. scipy.stats.pareto</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.pearson3.html">5.8.3.68. scipy.stats.pearson3</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.powerlaw.html">5.8.3.69. scipy.stats.powerlaw</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.powerlognorm.html">5.8.3.70. scipy.stats.powerlognorm</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.powernorm.html">5.8.3.71. scipy.stats.powernorm</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.rdist.html">5.8.3.72. scipy.stats.rdist</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.reciprocal.html">5.8.3.73. scipy.stats.reciprocal</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.rayleigh.html">5.8.3.74. scipy.stats.rayleigh</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.rice.html">5.8.3.75. scipy.stats.rice</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.recipinvgauss.html">5.8.3.76. scipy.stats.recipinvgauss</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.semicircular.html">5.8.3.77. scipy.stats.semicircular</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.t.html">5.8.3.78. scipy.stats.t</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.triang.html">5.8.3.79. scipy.stats.triang</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.truncexpon.html">5.8.3.80. scipy.stats.truncexpon</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.truncnorm.html">5.8.3.81. scipy.stats.truncnorm</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.tukeylambda.html">5.8.3.82. scipy.stats.tukeylambda</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.uniform.html">5.8.3.83. scipy.stats.uniform</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.vonmises.html">5.8.3.84. scipy.stats.vonmises</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.vonmises_line.html">5.8.3.85. scipy.stats.vonmises_line</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.wald.html">5.8.3.86. scipy.stats.wald</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.weibull_min.html">5.8.3.87. scipy.stats.weibull_min</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.weibull_max.html">5.8.3.88. scipy.stats.weibull_max</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.wrapcauchy.html">5.8.3.89. scipy.stats.wrapcauchy</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../stats.html#multivariate-distributions">5.8.4. Multivariate distributions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.multivariate_normal.html">5.8.4.1. scipy.stats.multivariate_normal</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.matrix_normal.html">5.8.4.2. scipy.stats.matrix_normal</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.dirichlet.html">5.8.4.3. scipy.stats.dirichlet</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.wishart.html">5.8.4.4. scipy.stats.wishart</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.invwishart.html">5.8.4.5. scipy.stats.invwishart</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../stats.html#discrete-distributions">5.8.5. Discrete distributions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.bernoulli.html">5.8.5.1. scipy.stats.bernoulli</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.binom.html">5.8.5.2. scipy.stats.binom</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.boltzmann.html">5.8.5.3. scipy.stats.boltzmann</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.dlaplace.html">5.8.5.4. scipy.stats.dlaplace</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.geom.html">5.8.5.5. scipy.stats.geom</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.hypergeom.html">5.8.5.6. scipy.stats.hypergeom</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.logser.html">5.8.5.7. scipy.stats.logser</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.nbinom.html">5.8.5.8. scipy.stats.nbinom</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.planck.html">5.8.5.9. scipy.stats.planck</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.poisson.html">5.8.5.10. scipy.stats.poisson</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.randint.html">5.8.5.11. scipy.stats.randint</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.skellam.html">5.8.5.12. scipy.stats.skellam</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.zipf.html">5.8.5.13. scipy.stats.zipf</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../stats.html#statistical-functions">5.8.6. Statistical functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.describe.html">5.8.6.1. scipy.stats.describe</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.gmean.html">5.8.6.2. scipy.stats.gmean</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.hmean.html">5.8.6.3. scipy.stats.hmean</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.kurtosis.html">5.8.6.4. scipy.stats.kurtosis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.kurtosistest.html">5.8.6.5. scipy.stats.kurtosistest</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.mode.html">5.8.6.6. scipy.stats.mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.moment.html">5.8.6.7. scipy.stats.moment</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.normaltest.html">5.8.6.8. scipy.stats.normaltest</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.skew.html">5.8.6.9. scipy.stats.skew</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.skewtest.html">5.8.6.10. scipy.stats.skewtest</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.kstat.html">5.8.6.11. scipy.stats.kstat</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.kstatvar.html">5.8.6.12. scipy.stats.kstatvar</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.tmean.html">5.8.6.13. scipy.stats.tmean</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.tvar.html">5.8.6.14. scipy.stats.tvar</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.tmin.html">5.8.6.15. scipy.stats.tmin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.tmax.html">5.8.6.16. scipy.stats.tmax</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.tstd.html">5.8.6.17. scipy.stats.tstd</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.tsem.html">5.8.6.18. scipy.stats.tsem</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.nanmean.html">5.8.6.19. scipy.stats.nanmean</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.nanstd.html">5.8.6.20. scipy.stats.nanstd</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.nanmedian.html">5.8.6.21. scipy.stats.nanmedian</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.variation.html">5.8.6.22. scipy.stats.variation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.find_repeats.html">5.8.6.23. scipy.stats.find_repeats</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.trim_mean.html">5.8.6.24. scipy.stats.trim_mean</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.cumfreq.html">5.8.6.25. scipy.stats.cumfreq</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.histogram2.html">5.8.6.26. scipy.stats.histogram2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.histogram.html">5.8.6.27. scipy.stats.histogram</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.itemfreq.html">5.8.6.28. scipy.stats.itemfreq</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.percentileofscore.html">5.8.6.29. scipy.stats.percentileofscore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.scoreatpercentile.html">5.8.6.30. scipy.stats.scoreatpercentile</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.relfreq.html">5.8.6.31. scipy.stats.relfreq</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.binned_statistic.html">5.8.6.32. scipy.stats.binned_statistic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.binned_statistic_2d.html">5.8.6.33. scipy.stats.binned_statistic_2d</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.binned_statistic_dd.html">5.8.6.34. scipy.stats.binned_statistic_dd</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.obrientransform.html">5.8.6.35. scipy.stats.obrientransform</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.signaltonoise.html">5.8.6.36. scipy.stats.signaltonoise</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.bayes_mvs.html">5.8.6.37. scipy.stats.bayes_mvs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.mvsdist.html">5.8.6.38. scipy.stats.mvsdist</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.sem.html">5.8.6.39. scipy.stats.sem</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.zmap.html">5.8.6.40. scipy.stats.zmap</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.zscore.html">5.8.6.41. scipy.stats.zscore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.sigmaclip.html">5.8.6.42. scipy.stats.sigmaclip</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.threshold.html">5.8.6.43. scipy.stats.threshold</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.trimboth.html">5.8.6.44. scipy.stats.trimboth</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.trim1.html">5.8.6.45. scipy.stats.trim1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.f_oneway.html">5.8.6.46. scipy.stats.f_oneway</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.pearsonr.html">5.8.6.47. scipy.stats.pearsonr</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.spearmanr.html">5.8.6.48. scipy.stats.spearmanr</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.pointbiserialr.html">5.8.6.49. scipy.stats.pointbiserialr</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.kendalltau.html">5.8.6.50. scipy.stats.kendalltau</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.linregress.html">5.8.6.51. scipy.stats.linregress</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.theilslopes.html">5.8.6.52. scipy.stats.theilslopes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.f_value.html">5.8.6.53. scipy.stats.f_value</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.ttest_1samp.html">5.8.6.54. scipy.stats.ttest_1samp</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.ttest_ind.html">5.8.6.55. scipy.stats.ttest_ind</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.ttest_ind_from_stats.html">5.8.6.56. scipy.stats.ttest_ind_from_stats</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.ttest_rel.html">5.8.6.57. scipy.stats.ttest_rel</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.kstest.html">5.8.6.58. scipy.stats.kstest</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.chisquare.html">5.8.6.59. scipy.stats.chisquare</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.power_divergence.html">5.8.6.60. scipy.stats.power_divergence</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.ks_2samp.html">5.8.6.61. scipy.stats.ks_2samp</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.mannwhitneyu.html">5.8.6.62. scipy.stats.mannwhitneyu</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.tiecorrect.html">5.8.6.63. scipy.stats.tiecorrect</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.rankdata.html">5.8.6.64. scipy.stats.rankdata</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.ranksums.html">5.8.6.65. scipy.stats.ranksums</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.wilcoxon.html">5.8.6.66. scipy.stats.wilcoxon</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.kruskal.html">5.8.6.67. scipy.stats.kruskal</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.friedmanchisquare.html">5.8.6.68. scipy.stats.friedmanchisquare</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.combine_pvalues.html">5.8.6.69. scipy.stats.combine_pvalues</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.ss.html">5.8.6.70. scipy.stats.ss</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.square_of_sums.html">5.8.6.71. scipy.stats.square_of_sums</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.jarque_bera.html">5.8.6.72. scipy.stats.jarque_bera</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.ansari.html">5.8.6.73. scipy.stats.ansari</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.bartlett.html">5.8.6.74. scipy.stats.bartlett</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.levene.html">5.8.6.75. scipy.stats.levene</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.shapiro.html">5.8.6.76. scipy.stats.shapiro</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.anderson.html">5.8.6.77. scipy.stats.anderson</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.anderson_ksamp.html">5.8.6.78. scipy.stats.anderson_ksamp</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.binom_test.html">5.8.6.79. scipy.stats.binom_test</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.fligner.html">5.8.6.80. scipy.stats.fligner</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.median_test.html">5.8.6.81. scipy.stats.median_test</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.mood.html">5.8.6.82. scipy.stats.mood</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.boxcox.html">5.8.6.83. scipy.stats.boxcox</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.boxcox_normmax.html">5.8.6.84. scipy.stats.boxcox_normmax</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.boxcox_llf.html">5.8.6.85. scipy.stats.boxcox_llf</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.entropy.html">5.8.6.86. scipy.stats.entropy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.chisqprob.html">5.8.6.87. scipy.stats.chisqprob</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.betai.html">5.8.6.88. scipy.stats.betai</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../stats.html#circular-statistical-functions">5.8.7. Circular statistical functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.circmean.html">5.8.7.1. scipy.stats.circmean</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.circvar.html">5.8.7.2. scipy.stats.circvar</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.circstd.html">5.8.7.3. scipy.stats.circstd</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../stats.html#contingency-table-functions">5.8.8. Contingency table functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.chi2_contingency.html">5.8.8.1. scipy.stats.chi2_contingency</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.contingency.expected_freq.html">5.8.8.2. scipy.stats.contingency.expected_freq</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.contingency.margins.html">5.8.8.3. scipy.stats.contingency.margins</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.fisher_exact.html">5.8.8.4. scipy.stats.fisher_exact</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../stats.html#plot-tests">5.8.9. Plot-tests</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.ppcc_max.html">5.8.9.1. scipy.stats.ppcc_max</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.ppcc_plot.html">5.8.9.2. scipy.stats.ppcc_plot</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.probplot.html">5.8.9.3. scipy.stats.probplot</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.boxcox_normplot.html">5.8.9.4. scipy.stats.boxcox_normplot</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../stats.html#masked-statistics-functions">5.8.10. Masked statistics functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../stats.mstats.html">5.8.10.1. Statistical functions for masked arrays (<code class="docutils literal"><span class="pre">scipy.stats.mstats</span></code>)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../stats.html#univariate-and-multivariate-kernel-density-estimation-scipy-stats-kde">5.8.11. Univariate and multivariate kernel density estimation (<code class="docutils literal"><span class="pre">scipy.stats.kde</span></code>)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/scipy.stats.gaussian_kde.html">5.8.11.1. scipy.stats.gaussian_kde</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../stats.mstats.html">5.8.10.1. Statistical functions for masked arrays (<code class="docutils literal"><span class="pre">scipy.stats.mstats</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.argstoarray.html">5.8.10.1.1. scipy.stats.mstats.argstoarray</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.betai.html">5.8.10.1.2. scipy.stats.mstats.betai</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.chisquare.html">5.8.10.1.3. scipy.stats.mstats.chisquare</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.count_tied_groups.html">5.8.10.1.4. scipy.stats.mstats.count_tied_groups</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.describe.html">5.8.10.1.5. scipy.stats.mstats.describe</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.f_oneway.html">5.8.10.1.6. scipy.stats.mstats.f_oneway</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.f_value_wilks_lambda.html">5.8.10.1.7. scipy.stats.mstats.f_value_wilks_lambda</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.find_repeats.html">5.8.10.1.8. scipy.stats.mstats.find_repeats</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.friedmanchisquare.html">5.8.10.1.9. scipy.stats.mstats.friedmanchisquare</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.kendalltau.html">5.8.10.1.10. scipy.stats.mstats.kendalltau</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.kendalltau_seasonal.html">5.8.10.1.11. scipy.stats.mstats.kendalltau_seasonal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.kruskalwallis.html">5.8.10.1.12. scipy.stats.mstats.kruskalwallis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.ks_twosamp.html">5.8.10.1.13. scipy.stats.mstats.ks_twosamp</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.kurtosis.html">5.8.10.1.14. scipy.stats.mstats.kurtosis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.kurtosistest.html">5.8.10.1.15. scipy.stats.mstats.kurtosistest</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.linregress.html">5.8.10.1.16. scipy.stats.mstats.linregress</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.mannwhitneyu.html">5.8.10.1.17. scipy.stats.mstats.mannwhitneyu</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.plotting_positions.html">5.8.10.1.18. scipy.stats.mstats.plotting_positions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.mode.html">5.8.10.1.19. scipy.stats.mstats.mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.moment.html">5.8.10.1.20. scipy.stats.mstats.moment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.mquantiles.html">5.8.10.1.21. scipy.stats.mstats.mquantiles</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.msign.html">5.8.10.1.22. scipy.stats.mstats.msign</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.normaltest.html">5.8.10.1.23. scipy.stats.mstats.normaltest</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.obrientransform.html">5.8.10.1.24. scipy.stats.mstats.obrientransform</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.pearsonr.html">5.8.10.1.25. scipy.stats.mstats.pearsonr</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.plotting_positions.html">5.8.10.1.18. scipy.stats.mstats.plotting_positions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.pointbiserialr.html">5.8.10.1.26. scipy.stats.mstats.pointbiserialr</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.rankdata.html">5.8.10.1.27. scipy.stats.mstats.rankdata</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.scoreatpercentile.html">5.8.10.1.28. scipy.stats.mstats.scoreatpercentile</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.sem.html">5.8.10.1.29. scipy.stats.mstats.sem</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.signaltonoise.html">5.8.10.1.30. scipy.stats.mstats.signaltonoise</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.skew.html">5.8.10.1.31. scipy.stats.mstats.skew</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.skewtest.html">5.8.10.1.32. scipy.stats.mstats.skewtest</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.spearmanr.html">5.8.10.1.33. scipy.stats.mstats.spearmanr</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.theilslopes.html">5.8.10.1.34. scipy.stats.mstats.theilslopes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.threshold.html">5.8.10.1.35. scipy.stats.mstats.threshold</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.tmax.html">5.8.10.1.36. scipy.stats.mstats.tmax</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.tmean.html">5.8.10.1.37. scipy.stats.mstats.tmean</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.tmin.html">5.8.10.1.38. scipy.stats.mstats.tmin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.trim.html">5.8.10.1.39. scipy.stats.mstats.trim</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.trima.html">5.8.10.1.40. scipy.stats.mstats.trima</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.trimboth.html">5.8.10.1.41. scipy.stats.mstats.trimboth</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.trimmed_stde.html">5.8.10.1.42. scipy.stats.mstats.trimmed_stde</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.trimr.html">5.8.10.1.43. scipy.stats.mstats.trimr</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.trimtail.html">5.8.10.1.44. scipy.stats.mstats.trimtail</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.tsem.html">5.8.10.1.45. scipy.stats.mstats.tsem</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.ttest_onesamp.html">5.8.10.1.46. scipy.stats.mstats.ttest_onesamp</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.ttest_ind.html">5.8.10.1.47. scipy.stats.mstats.ttest_ind</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.ttest_onesamp.html">5.8.10.1.46. scipy.stats.mstats.ttest_onesamp</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.ttest_rel.html">5.8.10.1.48. scipy.stats.mstats.ttest_rel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.tvar.html">5.8.10.1.49. scipy.stats.mstats.tvar</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.variation.html">5.8.10.1.50. scipy.stats.mstats.variation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.winsorize.html">5.8.10.1.51. scipy.stats.mstats.winsorize</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.zmap.html">5.8.10.1.52. scipy.stats.mstats.zmap</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.zscore.html">5.8.10.1.53. scipy.stats.mstats.zscore</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.compare_medians_ms.html">5.8.10.1.54. scipy.stats.mstats.compare_medians_ms</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.gmean.html">5.8.10.1.55. scipy.stats.mstats.gmean</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.hdmedian.html">5.8.10.1.56. scipy.stats.mstats.hdmedian</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.hdquantiles.html">5.8.10.1.57. scipy.stats.mstats.hdquantiles</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.hdquantiles_sd.html">5.8.10.1.58. scipy.stats.mstats.hdquantiles_sd</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.hmean.html">5.8.10.1.59. scipy.stats.mstats.hmean</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.idealfourths.html">5.8.10.1.60. scipy.stats.mstats.idealfourths</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.kruskal.html">5.8.10.1.61. scipy.stats.mstats.kruskal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.ks_2samp.html">5.8.10.1.62. scipy.stats.mstats.ks_2samp</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.median_cihs.html">5.8.10.1.63. scipy.stats.mstats.median_cihs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.meppf.html">5.8.10.1.64. scipy.stats.mstats.meppf</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.mjci.html">5.8.10.1.65. scipy.stats.mstats.mjci</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.mquantiles_cimj.html">5.8.10.1.66. scipy.stats.mstats.mquantiles_cimj</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.rsh.html">5.8.10.1.67. scipy.stats.mstats.rsh</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.sen_seasonal_slopes.html">5.8.10.1.68. scipy.stats.mstats.sen_seasonal_slopes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.trimmed_mean.html">5.8.10.1.69. scipy.stats.mstats.trimmed_mean</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.trimmed_mean_ci.html">5.8.10.1.70. scipy.stats.mstats.trimmed_mean_ci</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.trimmed_std.html">5.8.10.1.71. scipy.stats.mstats.trimmed_std</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.trimmed_var.html">5.8.10.1.72. scipy.stats.mstats.trimmed_var</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.stats.mstats.ttest_1samp.html">5.8.10.1.73. scipy.stats.mstats.ttest_1samp</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../weave.html">5.9. C/C++ integration (<code class="docutils literal"><span class="pre">scipy.weave</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../weave.html#c-c-integration">5.9.1. C/C++ integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.weave.inline.html">5.9.2. scipy.weave.inline</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.weave.blitz.html">5.9.3. scipy.weave.blitz</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/scipy.weave.ext_tools.html">5.9.4. scipy.weave.ext_tools</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Scipy API</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          













<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">1. SciPy Tutorial</a> &raquo;</li>
        
      <li>1.16. Weave (<cite>scipy.weave</cite>)</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/tutorial/weave.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="weave-scipy-weave">
<h1><a class="toc-backref" href="#id6">1.16. Weave (<cite>scipy.weave</cite>)</a><a class="headerlink" href="#weave-scipy-weave" title="Permalink to this headline">¶</a></h1>
<div class="section" id="outline">
<h2><a class="toc-backref" href="#id7">1.16.1. Outline</a><a class="headerlink" href="#outline" title="Permalink to this headline">¶</a></h2>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#weave-scipy-weave" id="id6">Weave (<cite>scipy.weave</cite>)</a><ul>
<li><a class="reference internal" href="#outline" id="id7">Outline</a></li>
<li><a class="reference internal" href="#introduction" id="id8">Introduction</a></li>
<li><a class="reference internal" href="#requirements" id="id9">Requirements</a></li>
<li><a class="reference internal" href="#installation" id="id10">Installation</a></li>
<li><a class="reference internal" href="#testing" id="id11">Testing</a><ul>
<li><a class="reference internal" href="#testing-notes" id="id12">Testing Notes:</a></li>
</ul>
</li>
<li><a class="reference internal" href="#benchmarks" id="id13">Benchmarks</a></li>
<li><a class="reference internal" href="#inline" id="id14">Inline</a><ul>
<li><a class="reference internal" href="#more-with-printf" id="id15">More with printf</a></li>
<li><a class="reference internal" href="#more-examples" id="id16">More examples</a><ul>
<li><a class="reference internal" href="#binary-search" id="id17">Binary search</a></li>
<li><a class="reference internal" href="#dictionary-sort" id="id18">Dictionary Sort</a></li>
<li><a class="reference internal" href="#numpy-cast-copy-transpose" id="id19">NumPy &#8211; cast/copy/transpose</a></li>
<li><a class="reference internal" href="#wxpython" id="id20">wxPython</a></li>
</ul>
</li>
<li><a class="reference internal" href="#keyword-option" id="id21">Keyword Option</a></li>
<li><a class="reference internal" href="#inline-arguments" id="id22">Inline Arguments</a></li>
<li><a class="reference internal" href="#distutils-keywords" id="id23">Distutils keywords</a><ul>
<li><a class="reference internal" href="#keyword-option-examples" id="id24">Keyword Option Examples</a></li>
<li><a class="reference internal" href="#returning-values" id="id25">Returning Values</a><ul>
<li><a class="reference internal" href="#the-issue-with-locals" id="id26">The issue with <code class="docutils literal"><span class="pre">locals()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#a-quick-look-at-the-code" id="id27">A quick look at the code</a></li>
</ul>
</li>
<li><a class="reference internal" href="#technical-details" id="id28">Technical Details</a></li>
<li><a class="reference internal" href="#passing-variables-in-out-of-the-c-c-code" id="id29">Passing Variables in/out of the C/C++ code</a></li>
<li><a class="reference internal" href="#type-conversions" id="id30">Type Conversions</a><ul>
<li><a class="reference internal" href="#numpy-argument-conversion" id="id31">NumPy Argument Conversion</a></li>
<li><a class="reference internal" href="#string-list-tuple-and-dictionary-conversion" id="id32">String, List, Tuple, and Dictionary Conversion</a></li>
<li><a class="reference internal" href="#file-conversion" id="id33">File Conversion</a></li>
<li><a class="reference internal" href="#callable-instance-and-module-conversion" id="id34">Callable, Instance, and Module Conversion</a></li>
<li><a class="reference internal" href="#customizing-conversions" id="id35">Customizing Conversions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#the-catalog" id="id36">The Catalog</a><ul>
<li><a class="reference internal" href="#function-storage" id="id37">Function Storage</a></li>
<li><a class="reference internal" href="#catalog-search-paths-and-the-pythoncompiled-variable" id="id38">Catalog search paths and the PYTHONCOMPILED variable</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#blitz" id="id39">Blitz</a><ul>
<li><a class="reference internal" href="#id1" id="id40">Requirements</a></li>
<li><a class="reference internal" href="#limitations" id="id41">Limitations</a></li>
<li><a class="reference internal" href="#numpy-efficiency-issues-what-compilation-buys-you" id="id42">NumPy efficiency issues: What compilation buys you</a></li>
<li><a class="reference internal" href="#the-tools" id="id43">The Tools</a><ul>
<li><a class="reference internal" href="#parser" id="id44">Parser</a></li>
<li><a class="reference internal" href="#blitz-and-numpy" id="id45">Blitz and NumPy</a></li>
</ul>
</li>
<li><a class="reference internal" href="#type-definitions-and-coercion" id="id46">Type definitions and coercion</a></li>
<li><a class="reference internal" href="#cataloging-compiled-functions" id="id47">Cataloging Compiled Functions</a></li>
<li><a class="reference internal" href="#checking-array-sizes" id="id48">Checking Array Sizes</a></li>
<li><a class="reference internal" href="#creating-the-extension-module" id="id49">Creating the Extension Module</a></li>
</ul>
</li>
<li><a class="reference internal" href="#extension-modules" id="id50">Extension Modules</a><ul>
<li><a class="reference internal" href="#a-simple-example" id="id51">A Simple Example</a></li>
<li><a class="reference internal" href="#fibonacci-example" id="id52">Fibonacci Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#customizing-type-conversions-type-factories" id="id53">Customizing Type Conversions &#8211; Type Factories</a></li>
<li><a class="reference internal" href="#things-i-wish-weave-did" id="id54">Things I wish <code class="docutils literal"><span class="pre">weave</span></code> did</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="introduction">
<h2><a class="toc-backref" href="#id8">1.16.2. Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="../weave.html#module-scipy.weave" title="scipy.weave"><code class="xref py py-mod docutils literal"><span class="pre">scipy.weave</span></code></a> (below just <code class="xref py py-mod docutils literal"><span class="pre">weave</span></code>) package provides tools for
including C/C++ code within in
Python code. This offers both another level of optimization to those who need
it, and an easy way to modify and extend any supported extension libraries
such as wxPython and hopefully VTK soon. Inlining C/C++ code within Python
generally results in speed ups of 1.5x to 30x speed-up over algorithms
written in pure Python (However, it is also possible to slow things down...).
Generally algorithms that require a large number of calls to the Python API
don&#8217;t benefit as much from the conversion to C/C++ as algorithms that have
inner loops completely convertible to C.</p>
<p>There are three basic ways to use <code class="docutils literal"><span class="pre">weave</span></code>. The <code class="docutils literal"><span class="pre">weave.inline()</span></code> function
executes C code directly within Python, and <code class="docutils literal"><span class="pre">weave.blitz()</span></code> translates
Python NumPy expressions to C++ for fast execution. <code class="docutils literal"><span class="pre">blitz()</span></code> was the
original reason <code class="docutils literal"><span class="pre">weave</span></code> was built. For those interested in building
extension libraries, the <code class="docutils literal"><span class="pre">ext_tools</span></code> module provides classes for building
extension modules within Python.</p>
<p>Most of <code class="docutils literal"><span class="pre">weave's</span></code> functionality should work on Windows and Unix, although
some of its functionality requires <code class="docutils literal"><span class="pre">gcc</span></code> or a similarly modern C++ compiler
that handles templates well. Up to now, most testing has been done on Windows
2000 with Microsoft&#8217;s C++ compiler (MSVC) and with gcc (mingw32 2.95.2 and
2.95.3-6). All tests also pass on Linux (RH 7.1 with gcc 2.96), and I&#8217;ve had
reports that it works on Debian also (thanks Pearu).</p>
<p>The <code class="docutils literal"><span class="pre">inline</span></code> and <code class="docutils literal"><span class="pre">blitz</span></code> provide new functionality to Python (although
I&#8217;ve recently learned about the <a class="reference external" href="http://pyinline.sourceforge.net/">PyInline</a> project which may offer similar
functionality to <code class="docutils literal"><span class="pre">inline</span></code>). On the other hand, tools for building Python
extension modules already exists (SWIG, SIP, pycpp, CXX, and others). As of
yet, I&#8217;m not sure where <code class="docutils literal"><span class="pre">weave</span></code> fits in this spectrum. It is closest in
flavor to CXX in that it makes creating new C/C++ extension modules pretty
easy. However, if you&#8217;re wrapping a gaggle of legacy functions or classes,
SWIG and friends are definitely the better choice. <code class="docutils literal"><span class="pre">weave</span></code> is set up so
that you can customize how Python types are converted to C types in
<code class="docutils literal"><span class="pre">weave</span></code>. This is great for <code class="docutils literal"><span class="pre">inline()</span></code>, but, for wrapping legacy code, it
is more flexible to specify things the other way around &#8211; that is how C
types map to Python types. This <code class="docutils literal"><span class="pre">weave</span></code> does not do. I guess it would be
possible to build such a tool on top of <code class="docutils literal"><span class="pre">weave</span></code>, but with good tools like
SWIG around, I&#8217;m not sure the effort produces any new capabilities. Things
like function overloading are probably easily implemented in <code class="docutils literal"><span class="pre">weave</span></code> and it
might be easier to mix Python/C code in function calls, but nothing beyond
this comes to mind. So, if you&#8217;re developing new extension modules or
optimizing Python functions in C, <code class="docutils literal"><span class="pre">weave.ext_tools()</span></code> might be the tool for
you. If you&#8217;re wrapping legacy code, stick with SWIG.</p>
<p>The next several sections give the basics of how to use <code class="docutils literal"><span class="pre">weave</span></code>. We&#8217;ll
discuss what&#8217;s happening under the covers in more detail later on. Serious
users will need to at least look at the type conversion section to understand
how Python variables map to C/C++ types and how to customize this behavior.
One other note. If you don&#8217;t know C or C++ then these docs are probably of
very little help to you. Further, it&#8217;d be helpful if you know something about
writing Python extensions. <code class="docutils literal"><span class="pre">weave</span></code> does quite a bit for you, but for
anything complex, you&#8217;ll need to do some conversions, reference counting,
etc.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="docutils literal"><span class="pre">weave</span></code> is actually part of the <a class="reference external" href="https://www.scipy.org">SciPy</a> package. However, it
also works fine as a standalone package (you can install from scipy/weave
with <code class="docutils literal"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">install</span></code>). The examples here are given as if it is
used as a stand alone package. If you are using from within scipy, you can
use <code class="docutils literal"><span class="pre">from</span> <span class="pre">scipy</span> <span class="pre">import</span> <span class="pre">weave</span></code> and the examples will work identically.</p>
</div>
</div>
<div class="section" id="requirements">
<h2><a class="toc-backref" href="#id9">1.16.3. Requirements</a><a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">Python</p>
<p>I use 2.1.1. Probably 2.0 or higher should work.</p>
</li>
<li><p class="first">C++ compiler</p>
<p><code class="docutils literal"><span class="pre">weave</span></code> uses <code class="docutils literal"><span class="pre">distutils</span></code> to actually build extension modules, so
it uses whatever compiler was originally used to build Python. <code class="docutils literal"><span class="pre">weave</span></code>
itself requires a C++ compiler. If you used a C++ compiler to build
Python, your probably fine.</p>
<p>On Unix gcc is the preferred choice because I&#8217;ve done a little
testing with it. All testing has been done with gcc, but I expect the
majority of compilers should work for <code class="docutils literal"><span class="pre">inline</span></code> and <code class="docutils literal"><span class="pre">ext_tools</span></code>. The
one issue I&#8217;m not sure about is that I&#8217;ve hard coded things so that
compilations are linked with the <code class="docutils literal"><span class="pre">stdc++</span></code> library. <em>Is this standard
across Unix compilers, or is this a gcc-ism?</em></p>
<p>For <code class="docutils literal"><span class="pre">blitz()</span></code>, you&#8217;ll need a reasonably recent version of gcc.
2.95.2 works on windows and 2.96 looks fine on Linux. Other versions are
likely to work. Its likely that KAI&#8217;s C++ compiler and maybe some others
will work, but I haven&#8217;t tried. My advice is to use gcc for now unless
your willing to tinker with the code some.</p>
<p>On Windows, either MSVC or gcc (<a class="reference external" href="http://www.mingw.org%3Ewww.mingw.org">mingw32</a>) should work. Again,
you&#8217;ll need gcc for <code class="docutils literal"><span class="pre">blitz()</span></code> as the MSVC compiler doesn&#8217;t handle
templates well.</p>
<p>I have not tried Cygwin, so please report success if it works for
you.</p>
</li>
<li><p class="first">NumPy</p>
<p>The python <a class="reference external" href="http://numeric.scipy.org/">NumPy</a> module is required for <code class="docutils literal"><span class="pre">blitz()</span></code> to
work and for numpy.distutils which is used by weave.</p>
</li>
</ul>
</div>
<div class="section" id="installation">
<h2><a class="toc-backref" href="#id10">1.16.4. Installation</a><a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>There are currently two ways to get <code class="docutils literal"><span class="pre">weave</span></code>. First, <code class="docutils literal"><span class="pre">weave</span></code> is part of
SciPy and installed automatically (as a sub- package) whenever SciPy is
installed. Second, since <code class="docutils literal"><span class="pre">weave</span></code> is useful outside of the scientific
community, it has been setup so that it can be used as a stand-alone module.</p>
<p>The stand-alone version can be downloaded from <a class="reference external" href="https://www.scipy.org/Weave">here</a>.  Instructions for
installing should be found there as well.  setup.py file to simplify
installation.</p>
</div>
<div class="section" id="testing">
<h2><a class="toc-backref" href="#id11">1.16.5. Testing</a><a class="headerlink" href="#testing" title="Permalink to this headline">¶</a></h2>
<p>Once <code class="docutils literal"><span class="pre">weave</span></code> is installed, fire up python and run its unit tests.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">weave</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">weave</span><span class="o">.</span><span class="n">test</span><span class="p">()</span>
<span class="go">runs long time... spews tons of output and a few warnings</span>
<span class="go">.</span>
<span class="go">.</span>
<span class="go">.</span>
<span class="go">..............................................................</span>
<span class="go">................................................................</span>
<span class="go">..................................................</span>
<span class="go">----------------------------------------------------------------------</span>
<span class="go">Ran 184 tests in 158.418s</span>
<span class="go">OK</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>This takes a while, usually several minutes. On Unix with remote file
systems, I&#8217;ve had it take 15 or so minutes. In the end, it should run about
180 tests and spew some speed results along the way. If you get errors,
they&#8217;ll be reported at the end of the output. Please report errors that you
find. Some tests are known to fail at this point.</p>
<p>If you only want to test a single module of the package, you can do this by
running test() for that specific module.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">weave.scalar_spec</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">weave</span><span class="o">.</span><span class="n">scalar_spec</span><span class="o">.</span><span class="n">test</span><span class="p">()</span>
<span class="go">.......</span>
<span class="go"> ----------------------------------------------------------------------</span>
<span class="go">Ran 7 tests in 23.284s</span>
</pre></div>
</div>
<div class="section" id="testing-notes">
<h3><a class="toc-backref" href="#id12">1.16.5.1. Testing Notes:</a><a class="headerlink" href="#testing-notes" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">Windows 1</p>
<p>I&#8217;ve had some test fail on windows machines where I have msvc,
gcc-2.95.2 (in c:gcc-2.95.2), and gcc-2.95.3-6 (in c:gcc) all
installed. My environment has c:gcc in the path and does not have
c:gcc-2.95.2 in the path. The test process runs very smoothly until the
end where several test using gcc fail with cpp0 not found by g++. If I
check os.system(&#8216;gcc -v&#8217;) before running tests, I get gcc-2.95.3-6. If I
check after running tests (and after failure), I get gcc-2.95.2. ??huh??.
The os.environ[&#8216;PATH&#8217;] still has c:gcc first in it and is not corrupted
(msvc/distutils messes with the environment variables, so we have to undo
its work in some places). If anyone else sees this, let me know - - it
may just be an quirk on my machine (unlikely). Testing with the gcc-
2.95.2 installation always works.</p>
</li>
<li><p class="first">Windows 2</p>
<p>If you run the tests from PythonWin or some other GUI tool, you&#8217;ll
get a ton of DOS windows popping up periodically as <code class="docutils literal"><span class="pre">weave</span></code> spawns the
compiler multiple times. Very annoying. Anyone know how to fix this?</p>
</li>
<li><p class="first">wxPython</p>
<p>wxPython tests are not enabled by default because importing wxPython
on a Unix machine without access to a X-term will cause the program to
exit. Anyone know of a safe way to detect whether wxPython can be
imported and whether a display exists on a machine?</p>
</li>
</ul>
</div>
</div>
<div class="section" id="benchmarks">
<h2><a class="toc-backref" href="#id13">1.16.6. Benchmarks</a><a class="headerlink" href="#benchmarks" title="Permalink to this headline">¶</a></h2>
<p>This section has not been updated from old scipy weave and Numeric....</p>
<p>This section has a few benchmarks  &#8211; that&#8217;s all people want to see anyway
right? These are mostly taken from running files in the <code class="docutils literal"><span class="pre">weave/example</span></code>
directory and also from the test scripts. Without more information about what
the test actually do, their value is limited. Still, their here for the
curious. Look at the example scripts for more specifics about what problem
was actually solved by each run. These examples are run under windows 2000
using Microsoft Visual C++ and python2.1 on a 850 MHz PIII laptop with 320 MB
of RAM. Speed up is the improvement (degradation) factor of <code class="docutils literal"><span class="pre">weave</span></code>
compared to conventional Python functions. <code class="docutils literal"><span class="pre">The</span> <span class="pre">blitz()</span></code> comparisons are
shown compared to NumPy.</p>
<table border="1" class="docutils" id="id3">
<caption><span class="caption-text">inline and ext_tools</span><a class="headerlink" href="#id3" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="67%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Algorithm</th>
<th class="head">Speed up</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>binary search</td>
<td>1.50</td>
</tr>
<tr class="row-odd"><td>fibonacci (recursive)</td>
<td>82.10</td>
</tr>
<tr class="row-even"><td>fibonacci (loop)</td>
<td>9.17</td>
</tr>
<tr class="row-odd"><td>return None</td>
<td>0.14</td>
</tr>
<tr class="row-even"><td>map</td>
<td>1.20</td>
</tr>
<tr class="row-odd"><td>dictionary sort</td>
<td>2.54</td>
</tr>
<tr class="row-even"><td>vector quantization</td>
<td>37.40</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils" id="id4">
<caption><span class="caption-text">blitz &#8211; double precision</span><a class="headerlink" href="#id4" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="73%" />
<col width="27%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Algorithm</th>
<th class="head">Speed up</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>a = b + c 512x512</td>
<td>3.05</td>
</tr>
<tr class="row-odd"><td>a = b + c + d 512x512</td>
<td>4.59</td>
</tr>
<tr class="row-even"><td>5 pt avg. filter, 2D Image 512x512</td>
<td>9.01</td>
</tr>
<tr class="row-odd"><td>Electromagnetics (FDTD) 100x100x100</td>
<td>8.61</td>
</tr>
</tbody>
</table>
<p>The benchmarks shown <code class="docutils literal"><span class="pre">blitz</span></code> in the best possible light. NumPy (at least on
my machine) is significantly worse for double precision than it is for single
precision calculations. If your interested in single precision results, you
can pretty much divide the double precision speed up by 3 and you&#8217;ll be
close.</p>
</div>
<div class="section" id="inline">
<h2><a class="toc-backref" href="#id14">1.16.7. Inline</a><a class="headerlink" href="#inline" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal"><span class="pre">inline()</span></code> compiles and executes C/C++ code on the fly. Variables in the
local and global Python scope are also available in the C/C++ code. Values
are passed to the C/C++ code by assignment much like variables are passed
into a standard Python function. Values are returned from the C/C++ code
through a special argument called return_val. Also, the contents of mutable
objects can be changed within the C/C++ code and the changes remain after the
C code exits and returns to Python. (more on this later)</p>
<p>Here&#8217;s a trivial <code class="docutils literal"><span class="pre">printf</span></code> example using <code class="docutils literal"><span class="pre">inline()</span></code>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">weave</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>  <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">weave</span><span class="o">.</span><span class="n">inline</span><span class="p">(</span><span class="s1">&#39;printf(&quot;</span><span class="si">%d</span><span class="se">\\</span><span class="s1">n&quot;,a);&#39;</span><span class="p">,[</span><span class="s1">&#39;a&#39;</span><span class="p">])</span>
<span class="go">1</span>
</pre></div>
</div>
<p>In this, its most basic form, <code class="docutils literal"><span class="pre">inline(c_code,</span> <span class="pre">var_list)</span></code> requires two
arguments. <code class="docutils literal"><span class="pre">c_code</span></code> is a string of valid C/C++ code. <code class="docutils literal"><span class="pre">var_list</span></code> is a list
of variable names that are passed from Python into C/C++. Here we have a
simple <code class="docutils literal"><span class="pre">printf</span></code> statement that writes the Python variable <code class="docutils literal"><span class="pre">a</span></code> to the
screen. The first time you run this, there will be a pause while the code is
written to a .cpp file, compiled into an extension module, loaded into
Python, cataloged for future use, and executed. On windows (850 MHz PIII),
this takes about 1.5 seconds when using Microsoft&#8217;s C++ compiler (MSVC) and
6-12 seconds using gcc (mingw32 2.95.2). All subsequent executions of the
code will happen very quickly because the code only needs to be compiled
once. If you kill and restart the interpreter and then execute the same code
fragment again, there will be a much shorter delay in the fractions of
seconds range. This is because <code class="docutils literal"><span class="pre">weave</span></code> stores a catalog of all previously
compiled functions in an on disk cache. When it sees a string that has been
compiled, it loads the already compiled module and executes the appropriate
function.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you try the <code class="docutils literal"><span class="pre">printf</span></code> example in a GUI shell such as IDLE,
PythonWin, PyShell, etc., you&#8217;re unlikely to see the output. This is because
the C code is writing to stdout, instead of to the GUI window. This doesn&#8217;t
mean that inline doesn&#8217;t work in these environments &#8211; it only means that
standard out in C is not the same as the standard out for Python in these
cases. Non input/output functions will work as expected.</p>
</div>
<p>Although effort has been made to reduce the overhead associated with calling
inline, it is still less efficient for simple code snippets than using
equivalent Python code. The simple <code class="docutils literal"><span class="pre">printf</span></code> example is actually slower by
30% or so than using Python <code class="docutils literal"><span class="pre">print</span></code> statement. And, it is not difficult to
create code fragments that are 8-10 times slower using inline than equivalent
Python. However, for more complicated algorithms, the speedup can be
worthwhile &#8211; anywhere from 1.5-30 times faster. Algorithms that have to
manipulate Python objects (sorting a list) usually only see a factor of 2 or
so improvement. Algorithms that are highly computational or manipulate NumPy
arrays can see much larger improvements. The examples/vq.py file shows a
factor of 30 or more improvement on the vector quantization algorithm that is
used heavily in information theory and classification problems.</p>
<div class="section" id="more-with-printf">
<h3><a class="toc-backref" href="#id15">1.16.7.1. More with printf</a><a class="headerlink" href="#more-with-printf" title="Permalink to this headline">¶</a></h3>
<p>MSVC users will actually see a bit of compiler output that distutils does not
suppress the first time the code executes:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">weave</span><span class="o">.</span><span class="n">inline</span><span class="p">(</span><span class="s1">r&#39;printf(&quot;</span><span class="si">%d</span><span class="s1">\n&quot;,a);&#39;</span><span class="p">,[</span><span class="s1">&#39;a&#39;</span><span class="p">])</span>
<span class="go">sc_e013937dbc8c647ac62438874e5795131.cpp</span>
<span class="go">   Creating library C:\DOCUME~1\eric\LOCALS~1\Temp\python21_compiled\temp</span>
<span class="go">   \Release\sc_e013937dbc8c647ac62438874e5795131.lib and</span>
<span class="go">   object C:\DOCUME~1\eric\LOCALS~1\Temp\python21_compiled\temp\Release\sc_e013937dbc8c647ac62438874e5795131.exp</span>
<span class="go">1</span>
</pre></div>
</div>
<p>Nothing bad is happening, its just a bit annoying. * Anyone know how to turn
this off?*</p>
<p>This example also demonstrates using &#8216;raw strings&#8217;. The <code class="docutils literal"><span class="pre">r</span></code> preceding the
code string in the last example denotes that this is a &#8216;raw string&#8217;. In raw
strings, the backslash character is not interpreted as an escape character,
and so it isn&#8217;t necessary to use a double backslash to indicate that the &#8216;n&#8217;
is meant to be interpreted in the C <code class="docutils literal"><span class="pre">printf</span></code> statement instead of by
Python. If your C code contains a lot of strings and control characters, raw
strings might make things easier. Most of the time, however, standard strings
work just as well.</p>
<p>The <code class="docutils literal"><span class="pre">printf</span></code> statement in these examples is formatted to print out
integers. What happens if <code class="docutils literal"><span class="pre">a</span></code> is a string? <code class="docutils literal"><span class="pre">inline</span></code> will happily, compile
a new version of the code to accept strings as input, and execute the code.
The result?</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="s1">&#39;string&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">weave</span><span class="o">.</span><span class="n">inline</span><span class="p">(</span><span class="s1">r&#39;printf(&quot;</span><span class="si">%d</span><span class="s1">\n&quot;,a);&#39;</span><span class="p">,[</span><span class="s1">&#39;a&#39;</span><span class="p">])</span>
<span class="go">32956972</span>
</pre></div>
</div>
<p>In this case, the result is non-sensical, but also non-fatal. In other
situations, it might produce a compile time error because <code class="docutils literal"><span class="pre">a</span></code> is required
to be an integer at some point in the code, or it could produce a
segmentation fault. Its possible to protect against passing <code class="docutils literal"><span class="pre">inline</span></code>
arguments of the wrong data type by using asserts in Python.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="s1">&#39;string&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">protected_printf</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">assert</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="o">==</span> <span class="nb">type</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">... </span>    <span class="n">weave</span><span class="o">.</span><span class="n">inline</span><span class="p">(</span><span class="s1">r&#39;printf(&quot;</span><span class="si">%d</span><span class="s1">\n&quot;,a);&#39;</span><span class="p">,[</span><span class="s1">&#39;a&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">protected_printf</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go"> 1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">protected_printf</span><span class="p">(</span><span class="s1">&#39;string&#39;</span><span class="p">)</span>
<span class="go">AssertError...</span>
</pre></div>
</div>
<p>For printing strings, the format statement needs to be changed. Also, weave
doesn&#8217;t convert strings to char*. Instead it uses CXX Py::String type, so you
have to do a little more work. Here we convert it to a C++ std::string and
then ask cor the char* version.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="s1">&#39;string&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">weave</span><span class="o">.</span><span class="n">inline</span><span class="p">(</span><span class="s1">r&#39;printf(&quot;</span><span class="si">%s</span><span class="s1">\n&quot;,std::string(a).c_str());&#39;</span><span class="p">,[</span><span class="s1">&#39;a&#39;</span><span class="p">])</span>
<span class="go">string</span>
</pre></div>
</div>
<div class="admonition-xxx admonition">
<p class="first admonition-title">XXX</p>
<p class="last">This is a little convoluted. Perhaps strings should convert to <code class="docutils literal"><span class="pre">std::string</span></code>
objects instead of CXX objects. Or maybe to <code class="docutils literal"><span class="pre">char*</span></code>.</p>
</div>
<p>As in this case, C/C++ code fragments often have to change to accept
different types. For the given printing task, however, C++ streams provide a
way of a single statement that works for integers and strings. By default,
the stream objects live in the std (standard) namespace and thus require the
use of <code class="docutils literal"><span class="pre">std::</span></code>.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">weave</span><span class="o">.</span><span class="n">inline</span><span class="p">(</span><span class="s1">&#39;std::cout &lt;&lt; a &lt;&lt; std::endl;&#39;</span><span class="p">,[</span><span class="s1">&#39;a&#39;</span><span class="p">])</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="s1">&#39;string&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">weave</span><span class="o">.</span><span class="n">inline</span><span class="p">(</span><span class="s1">&#39;std::cout &lt;&lt; a &lt;&lt; std::endl;&#39;</span><span class="p">,[</span><span class="s1">&#39;a&#39;</span><span class="p">])</span>
<span class="go">string</span>
</pre></div>
</div>
<p>Examples using <code class="docutils literal"><span class="pre">printf</span></code> and <code class="docutils literal"><span class="pre">cout</span></code> are included in
examples/print_example.py.</p>
</div>
<div class="section" id="more-examples">
<h3><a class="toc-backref" href="#id16">1.16.7.2. More examples</a><a class="headerlink" href="#more-examples" title="Permalink to this headline">¶</a></h3>
<p>This section shows several more advanced uses of <code class="docutils literal"><span class="pre">inline</span></code>. It includes a
few algorithms from the <a class="reference external" href="https://code.activestate.com/recipes/langs/python/">Python Cookbook</a> that have been re-written in
inline C to improve speed as well as a couple examples using NumPy and
wxPython.</p>
<div class="section" id="binary-search">
<h4><a class="toc-backref" href="#id17">1.16.7.2.1. Binary search</a><a class="headerlink" href="#binary-search" title="Permalink to this headline">¶</a></h4>
<p>Lets look at the example of searching a sorted list of integers for a value.
For inspiration, we&#8217;ll use Kalle Svensson&#8217;s <a class="reference external" href="https://code.activestate.com/recipes/81188/">binary_search()</a> algorithm
from the Python Cookbook. His recipe follows:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">binary_search</span><span class="p">(</span><span class="n">seq</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
    <span class="nb">min</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nb">max</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">seq</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="k">while</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">max</span> <span class="o">&lt;</span> <span class="nb">min</span><span class="p">:</span>
            <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
        <span class="n">m</span> <span class="o">=</span> <span class="p">(</span><span class="nb">min</span>  <span class="o">+</span> <span class="nb">max</span><span class="p">)</span>  <span class="o">/</span> <span class="mi">2</span>
        <span class="k">if</span> <span class="n">seq</span><span class="p">[</span><span class="n">m</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">t</span><span class="p">:</span>
            <span class="nb">min</span> <span class="o">=</span> <span class="n">m</span>  <span class="o">+</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">seq</span><span class="p">[</span><span class="n">m</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">t</span><span class="p">:</span>
            <span class="nb">max</span> <span class="o">=</span> <span class="n">m</span>  <span class="o">-</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">m</span>
</pre></div>
</div>
<p>This Python version works for arbitrary Python data types. The C version
below is specialized to handle integer values. There is a little type
checking done in Python to assure that we&#8217;re working with the correct data
types before heading into C. The variables <code class="docutils literal"><span class="pre">seq</span></code> and <code class="docutils literal"><span class="pre">t</span></code> don&#8217;t need to be
declared because <code class="docutils literal"><span class="pre">weave</span></code> handles converting and declaring them in the C
code. All other temporary variables such as <code class="docutils literal"><span class="pre">min,</span> <span class="pre">max</span></code>, etc. must be
declared &#8211; it is C after all. Here&#8217;s the new mixed Python/C function:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">c_int_binary_search</span><span class="p">(</span><span class="n">seq</span><span class="p">,</span><span class="n">t</span><span class="p">):</span>
    <span class="c1"># do a little type checking in Python</span>
    <span class="k">assert</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="o">==</span> <span class="nb">type</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
    <span class="k">assert</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">seq</span><span class="p">)</span> <span class="o">==</span> <span class="nb">type</span><span class="p">([]))</span>

    <span class="c1"># now the C code</span>
    <span class="n">code</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">           #line 29 &quot;binary_search.py&quot;</span>
<span class="s2">           int val, m, min = 0;</span>
<span class="s2">           int max = seq.length() - 1;</span>
<span class="s2">           PyObject *py_val;</span>
<span class="s2">           for(;;)</span>
<span class="s2">           {</span>
<span class="s2">               if (max &lt; min  )</span>
<span class="s2">               {</span>
<span class="s2">                   return_val =  Py::new_reference_to(Py::Int(-1));</span>
<span class="s2">                   break;</span>
<span class="s2">               }</span>
<span class="s2">               m =  (min + max) /2;</span>
<span class="s2">               val = py_to_int(PyList_GetItem(seq.ptr(),m),&quot;val&quot;);</span>
<span class="s2">               if (val  &lt; t)</span>
<span class="s2">                   min = m  + 1;</span>
<span class="s2">               else if (val &gt;  t)</span>
<span class="s2">                   max = m - 1;</span>
<span class="s2">               else</span>
<span class="s2">               {</span>
<span class="s2">                   return_val = Py::new_reference_to(Py::Int(m));</span>
<span class="s2">                   break;</span>
<span class="s2">               }</span>
<span class="s2">           }</span>
<span class="s2">           &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">inline</span><span class="p">(</span><span class="n">code</span><span class="p">,[</span><span class="s1">&#39;seq&#39;</span><span class="p">,</span><span class="s1">&#39;t&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>We have two variables <code class="docutils literal"><span class="pre">seq</span></code> and <code class="docutils literal"><span class="pre">t</span></code> passed in. <code class="docutils literal"><span class="pre">t</span></code> is guaranteed (by
the <code class="docutils literal"><span class="pre">assert</span></code>) to be an integer. Python integers are converted to C int
types in the transition from Python to C. <code class="docutils literal"><span class="pre">seq</span></code> is a Python list. By
default, it is translated to a CXX list object. Full documentation for the
CXX library can be found at its <a class="reference external" href="http://cxx.sourceforge.net/">website</a>. The basics are that the CXX
provides C++ class equivalents for Python objects that simplify, or at least
object orientify, working with Python objects in C/C++. For example,
<code class="docutils literal"><span class="pre">seq.length()</span></code> returns the length of the list. A little more about CXX and
its class methods, etc. is in the <cite>Type Conversions</cite> section.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">CXX uses templates and therefore may be a little less portable than
another alternative by Gordan McMillan called SCXX which was
inspired by CXX. It doesn&#8217;t use templates so it should compile
faster and be more portable. SCXX has a few less features, but it
appears to me that it would mesh with the needs of weave quite well.
Hopefully xxx_spec files will be written for SCXX in the future, and
we&#8217;ll be able to compare on a more empirical basis. Both sets of
spec files will probably stick around, it just a question of which
becomes the default.</p>
</div>
<p>Most of the algorithm above looks similar in C to the original Python code.
There are two main differences. The first is the setting of <code class="docutils literal"><span class="pre">return_val</span></code>
instead of directly returning from the C code with a <code class="docutils literal"><span class="pre">return</span></code> statement.
<code class="docutils literal"><span class="pre">return_val</span></code> is an automatically defined variable of type <code class="docutils literal"><span class="pre">PyObject*</span></code>
that is returned from the C code back to Python. You&#8217;ll have to handle
reference counting issues when setting this variable. In this example, CXX
classes and functions handle the dirty work. All CXX functions and classes
live in the namespace <code class="docutils literal"><span class="pre">Py::</span></code>. The following code converts the integer <code class="docutils literal"><span class="pre">m</span></code>
to a CXX <code class="docutils literal"><span class="pre">Int()</span></code> object and then to a <code class="docutils literal"><span class="pre">PyObject*</span></code> with an incremented
reference count using <code class="docutils literal"><span class="pre">Py::new_reference_to()</span></code>.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>return_val = Py::new_reference_to(Py::Int(m));
</pre></div>
</div>
<p>The second big differences shows up in the retrieval of integer values from
the Python list. The simple Python <code class="docutils literal"><span class="pre">seq[i]</span></code> call balloons into a C Python
API call to grab the value out of the list and then a separate call to
<code class="docutils literal"><span class="pre">py_to_int()</span></code> that converts the PyObject* to an integer. <code class="docutils literal"><span class="pre">py_to_int()</span></code>
includes both a NULL check and a <code class="docutils literal"><span class="pre">PyInt_Check()</span></code> call as well as the
conversion call. If either of the checks fail, an exception is raised. The
entire C++ code block is executed with in a <code class="docutils literal"><span class="pre">try/catch</span></code> block that handles
exceptions much like Python does. This removes the need for most error
checking code.</p>
<p>It is worth note that CXX lists do have indexing operators that result in
code that looks much like Python. However, the overhead in using them appears
to be relatively high, so the standard Python API was used on the
<code class="docutils literal"><span class="pre">seq.ptr()</span></code> which is the underlying <code class="docutils literal"><span class="pre">PyObject*</span></code> of the List object.</p>
<p>The <code class="docutils literal"><span class="pre">#line</span></code> directive that is the first line of the C code block isn&#8217;t
necessary, but it&#8217;s nice for debugging. If the compilation fails because of
the syntax error in the code, the error will be reported as an error in the
Python file &#8220;binary_search.py&#8221; with an offset from the given line number (29
here).</p>
<p>So what was all our effort worth in terms of efficiency? Well not a lot in
this case. The examples/binary_search.py file runs both Python and C versions
of the functions As well as using the standard <code class="docutils literal"><span class="pre">bisect</span></code> module. If we run
it on a 1 million element list and run the search 3000 times (for 0- 2999),
here are the results we get:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>C:\home\ej\wrk\scipy\weave\examples&gt; python binary_search.py
Binary search for 3000 items in 1000000 length list of integers:
speed in python: 0.159999966621
speed of bisect: 0.121000051498
speed up: 1.32
speed in c: 0.110000014305
speed up: 1.45
speed in c(no asserts): 0.0900000333786
speed up: 1.78
</pre></div>
</div>
<p>So, we get roughly a 50-75% improvement depending on whether we use the
Python asserts in our C version. If we move down to searching a 10000 element
list, the advantage evaporates. Even smaller lists might result in the Python
version being faster. I&#8217;d like to say that moving to NumPy lists (and getting
rid of the GetItem() call) offers a substantial speed up, but my preliminary
efforts didn&#8217;t produce one. I think the log(N) algorithm is to blame. Because
the algorithm is nice, there just isn&#8217;t much time spent computing things, so
moving to C isn&#8217;t that big of a win. If there are ways to reduce conversion
overhead of values, this may improve the C/Python speed up. Anyone have other
explanations or faster code, please let me know.</p>
</div>
<div class="section" id="dictionary-sort">
<h4><a class="toc-backref" href="#id18">1.16.7.2.2. Dictionary Sort</a><a class="headerlink" href="#dictionary-sort" title="Permalink to this headline">¶</a></h4>
<p>The demo in examples/dict_sort.py is another example from the Python
CookBook. <a class="reference external" href="https://code.activestate.com/recipes/52306/">This submission</a>, by Alex Martelli, demonstrates how to return
the values from a dictionary sorted by their keys:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">sortedDictValues3</span><span class="p">(</span><span class="n">adict</span><span class="p">):</span>
    <span class="n">keys</span> <span class="o">=</span> <span class="n">adict</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
    <span class="n">keys</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
    <span class="k">return</span> <span class="nb">map</span><span class="p">(</span><span class="n">adict</span><span class="o">.</span><span class="n">get</span><span class="p">,</span> <span class="n">keys</span><span class="p">)</span>
</pre></div>
</div>
<p>Alex provides 3 algorithms and this is the 3rd and fastest of the set. The C
version of this same algorithm follows:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">c_sort</span><span class="p">(</span><span class="n">adict</span><span class="p">):</span>
    <span class="k">assert</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">adict</span><span class="p">)</span> <span class="o">==</span> <span class="nb">type</span><span class="p">({}))</span>
    <span class="n">code</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    #line 21 &quot;dict_sort.py&quot;</span>
<span class="s2">    Py::List keys = adict.keys();</span>
<span class="s2">    Py::List items(keys.length()); keys.sort();</span>
<span class="s2">    PyObject* item = NULL;</span>
<span class="s2">    for(int i = 0;  i &lt; keys.length();i++)</span>
<span class="s2">    {</span>
<span class="s2">        item = PyList_GET_ITEM(keys.ptr(),i);</span>
<span class="s2">        item = PyDict_GetItem(adict.ptr(),item);</span>
<span class="s2">        Py_XINCREF(item);</span>
<span class="s2">        PyList_SetItem(items.ptr(),i,item);</span>
<span class="s2">    }</span>
<span class="s2">    return_val = Py::new_reference_to(items);</span>
<span class="s2">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">inline_tools</span><span class="o">.</span><span class="n">inline</span><span class="p">(</span><span class="n">code</span><span class="p">,[</span><span class="s1">&#39;adict&#39;</span><span class="p">],</span><span class="n">verbose</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>Like the original Python function, the C++ version can handle any Python
dictionary regardless of the key/value pair types. It uses CXX objects for
the most part to declare python types in C++, but uses Python API calls to
manipulate their contents. Again, this choice is made for speed. The C++
version, while more complicated, is about a factor of 2 faster than Python.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>C:\home\ej\wrk\scipy\weave\examples&gt; python dict_sort.py
Dict sort of 1000 items for 300 iterations:
 speed in python: 0.319999933243
[0, 1, 2, 3, 4]
 speed in c: 0.151000022888
 speed up: 2.12
[0, 1, 2, 3, 4]
</pre></div>
</div>
</div>
<div class="section" id="numpy-cast-copy-transpose">
<h4><a class="toc-backref" href="#id19">1.16.7.2.3. NumPy &#8211; cast/copy/transpose</a><a class="headerlink" href="#numpy-cast-copy-transpose" title="Permalink to this headline">¶</a></h4>
<p>CastCopyTranspose is a function called quite heavily by Linear Algebra
routines in the NumPy library. Its needed in part because of the row-major
memory layout of multi-dimensional Python (and C) arrays vs. the col-major
order of the underlying Fortran algorithms. For small matrices (say 100x100
or less), a significant portion of the common routines such as LU
decomposition or singular value decomposition are spent in this setup routine.
This shouldn&#8217;t happen. Here is the Python version of the function using
standard NumPy operations.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">_castCopyAndTranspose</span><span class="p">(</span><span class="nb">type</span><span class="p">,</span> <span class="n">array</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">a</span><span class="o">.</span><span class="n">typecode</span><span class="p">()</span> <span class="o">==</span> <span class="nb">type</span><span class="p">:</span>
        <span class="n">cast_array</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">NumPy</span><span class="o">.</span><span class="n">transpose</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">cast_array</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">NumPy</span><span class="o">.</span><span class="n">transpose</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">type</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">cast_array</span>
</pre></div>
</div>
<p>And the following is a inline C version of the same function:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">weave.blitz_tools</span> <span class="kn">import</span> <span class="n">blitz_type_factories</span>
<span class="kn">from</span> <span class="nn">weave</span> <span class="kn">import</span> <span class="n">scalar_spec</span>
<span class="kn">from</span> <span class="nn">weave</span> <span class="kn">import</span> <span class="n">inline</span>
<span class="k">def</span> <span class="nf">_cast_copy_transpose</span><span class="p">(</span><span class="nb">type</span><span class="p">,</span><span class="n">a_2d</span><span class="p">):</span>
    <span class="k">assert</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">shape</span><span class="p">(</span><span class="n">a_2d</span><span class="p">))</span> <span class="o">==</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">new_array</span> <span class="o">=</span> <span class="n">zeros</span><span class="p">(</span><span class="n">shape</span><span class="p">(</span><span class="n">a_2d</span><span class="p">),</span><span class="nb">type</span><span class="p">)</span>
    <span class="n">NumPy_type</span> <span class="o">=</span> <span class="n">scalar_spec</span><span class="o">.</span><span class="n">NumPy_to_blitz_type_mapping</span><span class="p">[</span><span class="nb">type</span><span class="p">]</span>
    <span class="n">code</span> <span class="o">=</span> \
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    for(int i = 0;i &lt; _Na_2d[0]; i++)</span>
<span class="sd">        for(int j = 0;  j &lt; _Na_2d[1]; j++)</span>
<span class="sd">            new_array(i,j) = (%s) a_2d(j,i);</span>
<span class="sd">    &quot;&quot;&quot;</span> <span class="o">%</span> <span class="n">NumPy_type</span>
    <span class="n">inline</span><span class="p">(</span><span class="n">code</span><span class="p">,[</span><span class="s1">&#39;new_array&#39;</span><span class="p">,</span><span class="s1">&#39;a_2d&#39;</span><span class="p">],</span>
           <span class="n">type_factories</span> <span class="o">=</span> <span class="n">blitz_type_factories</span><span class="p">,</span><span class="n">compiler</span><span class="o">=</span><span class="s1">&#39;gcc&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">new_array</span>
</pre></div>
</div>
<p>This example uses blitz++ arrays instead of the standard representation of
NumPy arrays so that indexing is simpler to write. This is accomplished by
passing in the blitz++ &#8220;type factories&#8221; to override the standard Python to
C++ type conversions. Blitz++ arrays allow you to write clean, fast code, but
they also are sloooow to compile (20 seconds or more for this snippet). This
is why they aren&#8217;t the default type used for Numeric arrays (and also because
most compilers can&#8217;t compile blitz arrays...). <code class="docutils literal"><span class="pre">inline()</span></code> is also forced to
use &#8216;gcc&#8217; as the compiler because the default compiler on Windows (MSVC) will
not compile blitz code. (&#8216;gcc&#8217; I think will use the standard compiler on
Unix machine instead of explicitly forcing gcc (check this)) Comparisons of
the Python vs inline C++ code show a factor of 3 speed up. Also shown are the
results of an &#8220;inplace&#8221; transpose routine that can be used if the output of
the linear algebra routine can overwrite the original matrix (this is often
appropriate). This provides another factor of 2 improvement.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">#C:\home\ej\wrk\scipy\weave\examples&gt; python cast_copy_transpose.py</span>
<span class="c1"># Cast/Copy/Transposing (150,150)array 1 times</span>
<span class="c1">#  speed in python: 0.870999932289</span>
<span class="c1">#  speed in c: 0.25</span>
<span class="c1">#  speed up: 3.48</span>
<span class="c1">#  inplace transpose c: 0.129999995232</span>
<span class="c1">#  speed up: 6.70</span>
</pre></div>
</div>
</div>
<div class="section" id="wxpython">
<h4><a class="toc-backref" href="#id20">1.16.7.2.4. wxPython</a><a class="headerlink" href="#wxpython" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal"><span class="pre">inline</span></code> knows how to handle wxPython objects. That&#8217;s nice in and of itself,
but it also demonstrates that the type conversion mechanism is reasonably
flexible. Chances are, it won&#8217;t take a ton of effort to support special types
you might have. The examples/wx_example.py borrows the scrolled window
example from the wxPython demo, accept that it mixes inline C code in the
middle of the drawing function.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">DoDrawing</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dc</span><span class="p">):</span>

    <span class="n">red</span> <span class="o">=</span> <span class="n">wxNamedColour</span><span class="p">(</span><span class="s2">&quot;RED&quot;</span><span class="p">);</span>
    <span class="n">blue</span> <span class="o">=</span> <span class="n">wxNamedColour</span><span class="p">(</span><span class="s2">&quot;BLUE&quot;</span><span class="p">);</span>
    <span class="n">grey_brush</span> <span class="o">=</span> <span class="n">wxLIGHT_GREY_BRUSH</span><span class="p">;</span>
    <span class="n">code</span> <span class="o">=</span> \
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    #line 108 &quot;wx_example.py&quot;</span>
<span class="sd">    dc-&gt;BeginDrawing();</span>
<span class="sd">    dc-&gt;SetPen(wxPen(*red,4,wxSOLID));</span>
<span class="sd">    dc-&gt;DrawRectangle(5,5,50,50);</span>
<span class="sd">    dc-&gt;SetBrush(*grey_brush);</span>
<span class="sd">    dc-&gt;SetPen(wxPen(*blue,4,wxSOLID));</span>
<span class="sd">    dc-&gt;DrawRectangle(15, 15, 50, 50);</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">inline</span><span class="p">(</span><span class="n">code</span><span class="p">,[</span><span class="s1">&#39;dc&#39;</span><span class="p">,</span><span class="s1">&#39;red&#39;</span><span class="p">,</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span><span class="s1">&#39;grey_brush&#39;</span><span class="p">])</span>

    <span class="n">dc</span><span class="o">.</span><span class="n">SetFont</span><span class="p">(</span><span class="n">wxFont</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="n">wxSWISS</span><span class="p">,</span> <span class="n">wxNORMAL</span><span class="p">,</span> <span class="n">wxNORMAL</span><span class="p">))</span>
    <span class="n">dc</span><span class="o">.</span><span class="n">SetTextForeground</span><span class="p">(</span><span class="n">wxColour</span><span class="p">(</span><span class="mh">0xFF</span><span class="p">,</span> <span class="mh">0x20</span><span class="p">,</span> <span class="mh">0xFF</span><span class="p">))</span>
    <span class="n">te</span> <span class="o">=</span> <span class="n">dc</span><span class="o">.</span><span class="n">GetTextExtent</span><span class="p">(</span><span class="s2">&quot;Hello World&quot;</span><span class="p">)</span>
    <span class="n">dc</span><span class="o">.</span><span class="n">DrawText</span><span class="p">(</span><span class="s2">&quot;Hello World&quot;</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">65</span><span class="p">)</span>

    <span class="n">dc</span><span class="o">.</span><span class="n">SetPen</span><span class="p">(</span><span class="n">wxPen</span><span class="p">(</span><span class="n">wxNamedColour</span><span class="p">(</span><span class="s1">&#39;VIOLET&#39;</span><span class="p">),</span> <span class="mi">4</span><span class="p">))</span>
    <span class="n">dc</span><span class="o">.</span><span class="n">DrawLine</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">65</span><span class="o">+</span><span class="n">te</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">60</span><span class="o">+</span><span class="n">te</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">65</span><span class="o">+</span><span class="n">te</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>Here, some of the Python calls to wx objects were just converted to C++
calls. There isn&#8217;t any benefit, it just demonstrates the capabilities. You
might want to use this if you have a computationally intensive loop in your
drawing code that you want to speed up. On windows, you&#8217;ll have to use the
MSVC compiler if you use the standard wxPython DLLs distributed by Robin
Dunn. That&#8217;s because MSVC and gcc, while binary compatible in C, are not
binary compatible for C++. In fact, its probably best, no matter what
platform you&#8217;re on, to specify that <code class="docutils literal"><span class="pre">inline</span></code> use the same compiler that was
used to build wxPython to be on the safe side. There isn&#8217;t currently a way to
learn this info from the library &#8211; you just have to know. Also, at least on
the windows platform, you&#8217;ll need to install the wxWindows libraries and link
to them. I think there is a way around this, but I haven&#8217;t found it yet &#8211; I
get some linking errors dealing with wxString. One final note. You&#8217;ll
probably have to tweak weave/wx_spec.py or weave/wx_info.py for your
machine&#8217;s configuration to point at the correct directories etc. There. That
should sufficiently scare people into not even looking at this... :)</p>
</div>
</div>
<div class="section" id="keyword-option">
<h3><a class="toc-backref" href="#id21">1.16.7.3. Keyword Option</a><a class="headerlink" href="#keyword-option" title="Permalink to this headline">¶</a></h3>
<p>The basic definition of the <code class="docutils literal"><span class="pre">inline()</span></code> function has a slew of optional
variables. It also takes keyword arguments that are passed to <code class="docutils literal"><span class="pre">distutils</span></code>
as compiler options. The following is a formatted cut/paste of the argument
section of <code class="docutils literal"><span class="pre">inline's</span></code> doc-string. It explains all of the variables. Some
examples using various options will follow.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>def inline(code,arg_names,local_dict = None, global_dict = None,
           force = 0,
           compiler=&#39;&#39;,
           verbose = 0,
           support_code = None,
           customize=None,
           type_factories = None,
           auto_downcast=1,
           **kw):
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">inline</span></code> has quite a few options as listed below. Also, the keyword
arguments for distutils extension modules are accepted to specify extra
information needed for compiling.</p>
</div>
<div class="section" id="inline-arguments">
<h3><a class="toc-backref" href="#id22">1.16.7.4. Inline Arguments</a><a class="headerlink" href="#inline-arguments" title="Permalink to this headline">¶</a></h3>
<p>code  string. A string of valid C++ code. It should not specify a return
statement. Instead it should assign results that need to be returned to
Python in the return_val.  arg_names  list of strings. A list of Python
variable names that should be transferred from Python into the C/C++ code.
local_dict  optional. dictionary. If specified, it is a dictionary of values
that should be used as the local scope for the C/C++ code. If local_dict is
not specified the local dictionary of the calling function is used.
global_dict  optional. dictionary. If specified, it is a dictionary of values
that should be used as the global scope for the C/C++ code. If global_dict is
not specified the global dictionary of the calling function is used.  force
optional. 0 or 1. default 0. If 1, the C++ code is compiled every time inline
is called. This is really only useful for debugging, and probably only useful
if you&#8217;re editing support_code a lot.  compiler  optional. string. The name
of compiler to use when compiling. On windows, it understands &#8216;msvc&#8217; and
&#8216;gcc&#8217; as well as all the compiler names understood by distutils. On Unix,
it&#8217;ll only understand the values understood by distutils. (I should add &#8216;gcc&#8217;
though to this).</p>
<p>On windows, the compiler defaults to the Microsoft C++ compiler. If this
isn&#8217;t available, it looks for mingw32 (the gcc compiler).</p>
<p>On Unix, it&#8217;ll probably use the same compiler that was used when compiling
Python. Cygwin&#8217;s behavior should be similar.</p>
<p>verbose  optional. 0,1, or 2. default 0. Specifies how much
information is printed during the compile phase of inlining code. 0 is silent
(except on windows with msvc where it still prints some garbage). 1 informs
you when compiling starts, finishes, and how long it took. 2 prints out the
command lines for the compilation process and can be useful if you&#8217;re having
problems getting code to work. Its handy for finding the name of the .cpp
file if you need to examine it. verbose has no affect if the compilation
isn&#8217;t necessary.  support_code  optional. string. A string of valid C++ code
declaring extra code that might be needed by your compiled function. This
could be declarations of functions, classes, or structures.  customize
optional. base_info.custom_info object. An alternative way to specify
support_code, headers, etc. needed by the function see the weave.base_info
module for more details. (not sure this&#8217;ll be used much).  type_factories
optional. list of type specification factories. These guys are what convert
Python data types to C/C++ data types. If you&#8217;d like to use a different set
of type conversions than the default, specify them here. Look in the type
conversions section of the main documentation for examples.  auto_downcast
optional. 0 or 1. default 1. This only affects functions that have Numeric
arrays as input variables. Setting this to 1 will cause all floating point
values to be cast as float instead of double if all the NumPy arrays are of
type float. If even one of the arrays has type double or double complex, all
variables maintain there standard types.</p>
</div>
<div class="section" id="distutils-keywords">
<h3><a class="toc-backref" href="#id23">1.16.7.5. Distutils keywords</a><a class="headerlink" href="#distutils-keywords" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal"><span class="pre">inline()</span></code> also accepts a number of <code class="docutils literal"><span class="pre">distutils</span></code> keywords for
controlling how the code is compiled. The following descriptions have been
copied from Greg Ward&#8217;s <code class="docutils literal"><span class="pre">distutils.extension.Extension</span></code> class doc- strings
for convenience:  sources  [string] list of source filenames, relative to the
distribution root (where the setup script lives), in Unix form (slash-
separated) for portability. Source files may be C, C++, SWIG (.i), platform-
specific resource files, or whatever else is recognized by the &#8220;build_ext&#8221;
command as source for a Python extension. Note: The module_path file is
always appended to the front of this list  include_dirs  [string] list of
directories to search for C/C++ header files (in Unix form for portability)
define_macros  [(name : string, value : string|None)] list of macros to
define; each macro is defined using a 2-tuple, where &#8216;value&#8217; is either the
string to define it to or None to define it without a particular value
(equivalent of &#8220;#define FOO&#8221; in source or -DFOO on Unix C compiler command
line)  undef_macros  [string] list of macros to undefine explicitly
library_dirs  [string] list of directories to search for C/C++ libraries at
link time  libraries  [string] list of library names (not filenames or paths)
to link against  runtime_library_dirs  [string] list of directories to search
for C/C++ libraries at run time (for shared extensions, this is when the
extension is loaded)  extra_objects  [string] list of extra files to link
with (eg. object files not implied by &#8216;sources&#8217;, static library that must be
explicitly specified, binary resource files, etc.)  extra_compile_args
[string] any extra platform- and compiler-specific information to use when
compiling the source files in &#8216;sources&#8217;. For platforms and compilers where
&#8220;command line&#8221; makes sense, this is typically a list of command-line
arguments, but for other platforms it could be anything.  extra_link_args
[string] any extra platform- and compiler-specific information to use when
linking object files together to create the extension (or to create a new
static Python interpreter). Similar interpretation as for
&#8216;extra_compile_args&#8217;.  export_symbols  [string] list of symbols to be
exported from a shared extension. Not used on all platforms, and not
generally necessary for Python extensions, which typically export exactly one
symbol: &#8220;init&#8221; + extension_name.</p>
<div class="section" id="keyword-option-examples">
<h4><a class="toc-backref" href="#id24">1.16.7.5.1. Keyword Option Examples</a><a class="headerlink" href="#keyword-option-examples" title="Permalink to this headline">¶</a></h4>
<p>We&#8217;ll walk through several examples here to demonstrate the behavior of
<code class="docutils literal"><span class="pre">inline</span></code> and also how the various arguments are used. In the simplest
(most) cases, <code class="docutils literal"><span class="pre">code</span></code> and <code class="docutils literal"><span class="pre">arg_names</span></code> are the only arguments that need to
be specified. Here&#8217;s a simple example run on Windows machine that has
Microsoft VC++ installed.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">weave</span> <span class="kn">import</span> <span class="n">inline</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="s1">&#39;string&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">code</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="s2">       int l = a.length();</span>
<span class="gp">... </span><span class="s2">       return_val = Py::new_reference_to(Py::Int(l));</span>
<span class="gp">... </span><span class="s2">       &quot;&quot;&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inline</span><span class="p">(</span><span class="n">code</span><span class="p">,[</span><span class="s1">&#39;a&#39;</span><span class="p">])</span>
<span class="go"> sc_86e98826b65b047ffd2cd5f479c627f12.cpp</span>
<span class="go">Creating</span>
<span class="go">   library C:\DOCUME~1\eric\LOCALS~1\Temp\python21_compiled\temp\Release\sc_86e98826b65b047ffd2cd5f479c627f12.lib</span>
<span class="go">and object C:\DOCUME~1\eric\LOCALS~1\Temp\python21_compiled\temp\Release\sc_86e98826b65b047ff</span>
<span class="go">d2cd5f479c627f12.exp</span>
<span class="go">6</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inline</span><span class="p">(</span><span class="n">code</span><span class="p">,[</span><span class="s1">&#39;a&#39;</span><span class="p">])</span>
<span class="go">6</span>
</pre></div>
</div>
<p>When <code class="docutils literal"><span class="pre">inline</span></code> is first run, you&#8217;ll notice that pause and some trash printed
to the screen. The &#8220;trash&#8221; is actually part of the compiler&#8217;s output that
distutils does not suppress. The name of the extension file,
<code class="docutils literal"><span class="pre">sc_bighonkingnumber.cpp</span></code>, is generated from the SHA-256 check sum of the
C/C++ code fragment. On Unix or windows machines with only gcc installed, the
trash will not appear. On the second call, the code fragment is not compiled
since it already exists, and only the answer is returned. Now kill the
interpreter and restart, and run the same code with a different string.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">weave</span> <span class="kn">import</span> <span class="n">inline</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="s1">&#39;a longer string&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">code</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="s2">       int l = a.length();</span>
<span class="gp">... </span><span class="s2">       return_val = Py::new_reference_to(Py::Int(l));</span>
<span class="gp">... </span><span class="s2">       &quot;&quot;&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inline</span><span class="p">(</span><span class="n">code</span><span class="p">,[</span><span class="s1">&#39;a&#39;</span><span class="p">])</span>
<span class="go">15</span>
</pre></div>
</div>
<p>Notice this time, <code class="docutils literal"><span class="pre">inline()</span></code> did not recompile the code because it found
the compiled function in the persistent catalog of functions. There is a
short pause as it looks up and loads the function, but it is much shorter
than compiling would require.</p>
<p>You can specify the local and global dictionaries if you&#8217;d like (much like
<code class="docutils literal"><span class="pre">exec</span></code> or <code class="docutils literal"><span class="pre">eval()</span></code> in Python), but if they aren&#8217;t specified, the
&#8220;expected&#8221; ones are used &#8211; i.e. the ones from the function that called
<code class="docutils literal"><span class="pre">inline()</span></code>. This is accomplished through a little call frame trickery.
Here is an example where the local_dict is specified using the same code
example from above:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="s1">&#39;a longer string&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="s1">&#39;an even  longer string&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span><span class="n">b</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inline</span><span class="p">(</span><span class="n">code</span><span class="p">,[</span><span class="s1">&#39;a&#39;</span><span class="p">])</span>
<span class="go">15</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inline</span><span class="p">(</span><span class="n">code</span><span class="p">,[</span><span class="s1">&#39;a&#39;</span><span class="p">],</span><span class="n">my_dict</span><span class="p">)</span>
<span class="go">21</span>
</pre></div>
</div>
<p>Every time the <code class="docutils literal"><span class="pre">code</span></code> is changed, <code class="docutils literal"><span class="pre">inline</span></code> does a recompile. However,
changing any of the other options in inline does not force a recompile. The
<code class="docutils literal"><span class="pre">force</span></code> option was added so that one could force a recompile when tinkering
with other variables. In practice, it is just as easy to change the <code class="docutils literal"><span class="pre">code</span></code>
by a single character (like adding a space some place) to force the
recompile.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It also might be nice to add some methods for purging the
cache and on disk catalogs.</p>
</div>
<p>I use <code class="docutils literal"><span class="pre">verbose</span></code> sometimes for debugging. When set to 2, it&#8217;ll output all
the information (including the name of the .cpp file) that you&#8217;d expect from
running a make file. This is nice if you need to examine the generated code
to see where things are going haywire. Note that error messages from failed
compiles are printed to the screen even if <code class="docutils literal"><span class="pre">verbose</span></code> is set to 0.</p>
<p>The following example demonstrates using gcc instead of the standard msvc
compiler on windows using same code fragment as above. Because the example
has already been compiled, the <code class="docutils literal"><span class="pre">force=1</span></code> flag is needed to make
<code class="docutils literal"><span class="pre">inline()</span></code> ignore the previously compiled version and recompile using gcc.
The verbose flag is added to show what is printed out:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="go">&gt;&gt;&gt;inline(code,[&#39;a&#39;],compiler=&#39;gcc&#39;,verbose=2,force=1)</span>
<span class="go">running build_ext</span>
<span class="go">building &#39;sc_86e98826b65b047ffd2cd5f479c627f13&#39; extension</span>
<span class="go">c:\gcc-2.95.2\bin\g++.exe -mno-cygwin -mdll -O2 -w -Wstrict-prototypes -IC:</span>
<span class="go">\home\ej\wrk\scipy\weave -IC:\Python21\Include -c C:\DOCUME~1\eric\LOCAL</span>
<span class="go">S~1\Temp\python21_compiled\sc_86e98826b65b047ffd2cd5f479c627f13.cpp</span>
<span class="go">-o C:\DOCUME~1\eric\LOCALS~1\Temp\python21_compiled\temp\Release\sc_86e98826b65b04ffd2cd5f479c627f13.o</span>
<span class="go">skipping C:\home\ej\wrk\scipy\weave\CXX\cxxextensions.c</span>
<span class="go">(C:\DOCUME~1\eric\LOCALS~1\Temp\python21_compiled\temp\Release\cxxextensions.o up-to-date)</span>
<span class="go">skipping C:\home\ej\wrk\scipy\weave\CXX\cxxsupport.cxx</span>
<span class="go">(C:\DOCUME~1\eric\LOCALS~1\Temp\python21_compiled\temp\Release\cxxsupport.o up-to-date)</span>
<span class="go">skipping C:\home\ej\wrk\scipy\weave\CXX\IndirectPythonInterface.cxx</span>
<span class="go">(C:\DOCUME~1\eric\LOCALS~1\Temp\python21_compiled\temp\Release\indirectpythoninterface.o up-to-date)</span>
<span class="go">skipping C:\home\ej\wrk\scipy\weave\CXX\cxx_extensions.cxx</span>
<span class="go">(C:\DOCUME~1\eric\LOCALS~1\Temp\python21_compiled\temp\Release\cxx_extensions.o</span>
<span class="go">up-to-date)</span>
<span class="go">writing C:\DOCUME~1\eric\LOCALS~1\Temp\python21_compiled\temp\Release\sc_86e98826b65b047ffd2cd5f479c627f13.def</span>
<span class="go">c:\gcc-2.95.2\bin\dllwrap.exe --driver-name g++ -mno-cygwin</span>
<span class="go">-mdll -static --output-lib</span>
<span class="go">C:\DOCUME~1\eric\LOCALS~1\Temp\python21_compiled\temp\Release\libsc_86e98826b65b047ffd2cd5f479c627f13.a --def</span>
<span class="go">C:\DOCUME~1\eric\LOCALS~1\Temp\python21_compiled\temp\Release\sc_86e98826b65b047ffd2cd5f479c627f13.def</span>
<span class="go">-sC:\DOCUME~1\eric\LOCALS~1\Temp\python21_compiled\temp\Release\sc_86e98826b65b047ffd2cd5f479c627f13.o</span>
<span class="go">C:\DOCUME~1\eric\LOCALS~1\Temp\python21_compiled\temp\Release\cxxextensions.o</span>
<span class="go">C:\DOCUME~1\eric\LOCALS~1\Temp\python21_compiled\temp\Release\cxxsupport.o</span>
<span class="go">C:\DOCUME~1\eric\LOCALS~1\Temp\python21_compiled\temp\Release\indirectpythoninterface.o</span>
<span class="go">C:\DOCUME~1\eric\LOCALS~1\Temp\python21_compiled\temp\Release\cxx_extensions.o -LC:\Python21\libs</span>
<span class="go">-lpython21 -o</span>
<span class="go">C:\DOCUME~1\eric\LOCALS~1\Temp\python21_compiled\sc_86e98826b65b047ffd2cd5f479c627f13.pyd</span>
<span class="go">15</span>
</pre></div>
</div>
<p>That&#8217;s quite a bit of output. <code class="docutils literal"><span class="pre">verbose=1</span></code> just prints the compile time.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="go">&gt;&gt;&gt;inline(code,[&#39;a&#39;],compiler=&#39;gcc&#39;,verbose=1,force=1)</span>
<span class="go">Compiling code...</span>
<span class="go">finished compiling (sec):  6.00800001621</span>
<span class="go">15</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">I&#8217;ve only used the <code class="docutils literal"><span class="pre">compiler</span></code> option for switching between &#8216;msvc&#8217;
and &#8216;gcc&#8217; on windows. It may have use on Unix also, but I don&#8217;t know yet.</p>
</div>
<p>The <code class="docutils literal"><span class="pre">support_code</span></code> argument is likely to be used a lot. It allows you to
specify extra code fragments such as function, structure or class definitions
that you want to use in the <code class="docutils literal"><span class="pre">code</span></code> string. Note that changes to
<code class="docutils literal"><span class="pre">support_code</span></code> do <em>not</em> force a recompile. The catalog only relies on
<code class="docutils literal"><span class="pre">code</span></code> (for performance reasons) to determine whether recompiling is
necessary. So, if you make a change to support_code, you&#8217;ll need to alter
<code class="docutils literal"><span class="pre">code</span></code> in some way or use the <code class="docutils literal"><span class="pre">force</span></code> argument to get the code to
recompile. I usually just add some innocuous whitespace to the end of one of
the lines in <code class="docutils literal"><span class="pre">code</span></code> somewhere. Here&#8217;s an example of defining a separate
method for calculating the string length:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">weave</span> <span class="kn">import</span> <span class="n">inline</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="s1">&#39;a longer string&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">support_code</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="s2">               PyObject* length(Py::String a)</span>
<span class="gp">... </span><span class="s2">               {</span>
<span class="gp">... </span><span class="s2">                   int l = a.length();</span>
<span class="gp">... </span><span class="s2">                   return Py::new_reference_to(Py::Int(l));</span>
<span class="gp">... </span><span class="s2">               }</span>
<span class="gp">... </span><span class="s2">               &quot;&quot;&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inline</span><span class="p">(</span><span class="s2">&quot;return_val = length(a);&quot;</span><span class="p">,[</span><span class="s1">&#39;a&#39;</span><span class="p">],</span>
<span class="gp">... </span>       <span class="n">support_code</span> <span class="o">=</span> <span class="n">support_code</span><span class="p">)</span>
<span class="go">15</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">customize</span></code> is a left over from a previous way of specifying compiler
options. It is a <code class="docutils literal"><span class="pre">custom_info</span></code> object that can specify quite a bit of
information about how a file is compiled. These <code class="docutils literal"><span class="pre">info</span></code> objects are the
standard way of defining compile information for type conversion classes.
However, I don&#8217;t think they are as handy here, especially since we&#8217;ve exposed
all the keyword arguments that distutils can handle. Between these keywords,
and the <code class="docutils literal"><span class="pre">support_code</span></code> option, I think <code class="docutils literal"><span class="pre">customize</span></code> may be obsolete. We&#8217;ll
see if anyone cares to use it. If not, it&#8217;ll get axed in the next version.</p>
<p>The <code class="docutils literal"><span class="pre">type_factories</span></code> variable is important to people who want to customize
the way arguments are converted from Python to C. We&#8217;ll talk about this in
the next chapter <strong>xx</strong> of this document when we discuss type conversions.</p>
<p><code class="docutils literal"><span class="pre">auto_downcast</span></code> handles one of the big type conversion issues that is
common when using NumPy arrays in conjunction with Python scalar values. If
you have an array of single precision values and multiply that array by a
Python scalar, the result is upcast to a double precision array because the
scalar value is double precision. This is not usually the desired behavior
because it can double your memory usage. <code class="docutils literal"><span class="pre">auto_downcast</span></code> goes some distance
towards changing the casting precedence of arrays and scalars. If your only
using single precision arrays, it will automatically downcast all scalar
values from double to single precision when they are passed into the C++
code. This is the default behavior. If you want all values to keep there
default type, set <code class="docutils literal"><span class="pre">auto_downcast</span></code> to 0.</p>
</div>
<div class="section" id="returning-values">
<h4><a class="toc-backref" href="#id25">1.16.7.5.2. Returning Values</a><a class="headerlink" href="#returning-values" title="Permalink to this headline">¶</a></h4>
<p>Python variables in the local and global scope transfer seamlessly from
Python into the C++ snippets. And, if <code class="docutils literal"><span class="pre">inline</span></code> were to completely live up
to its name, any modifications to variables in the C++ code would be
reflected in the Python variables when control was passed back to Python. For
example, the desired behavior would be something like:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span># THIS DOES NOT WORK
&gt;&gt;&gt; a = 1
&gt;&gt;&gt; weave.inline(&quot;a++;&quot;,[&#39;a&#39;])
&gt;&gt;&gt; a
2
</pre></div>
</div>
<p>Instead you get:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">weave</span><span class="o">.</span><span class="n">inline</span><span class="p">(</span><span class="s2">&quot;a++;&quot;</span><span class="p">,[</span><span class="s1">&#39;a&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<span class="go">1</span>
</pre></div>
</div>
<p>Variables are passed into C++ as if you are calling a Python function.
Python&#8217;s calling convention is sometimes called &#8220;pass by assignment&#8221;. This
means its as if a <code class="docutils literal"><span class="pre">c_a</span> <span class="pre">=</span> <span class="pre">a</span></code> assignment is made right before <code class="docutils literal"><span class="pre">inline</span></code> call
is made and the <code class="docutils literal"><span class="pre">c_a</span></code> variable is used within the C++ code. Thus, any
changes made to <code class="docutils literal"><span class="pre">c_a</span></code> are not reflected in Python&#8217;s <code class="docutils literal"><span class="pre">a</span></code> variable. Things
do get a little more confusing, however, when looking at variables with
mutable types. Changes made in C++ to the contents of mutable types <em>are</em>
reflected in the Python variables.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">weave</span><span class="o">.</span><span class="n">inline</span><span class="p">(</span><span class="s2">&quot;PyList_SetItem(a.ptr(),0,PyInt_FromLong(3));&quot;</span><span class="p">,[</span><span class="s1">&#39;a&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">a</span>
<span class="go">[3, 2]</span>
</pre></div>
</div>
<p>So modifications to the contents of mutable types in C++ are seen when
control is returned to Python. Modifications to immutable types such as
tuples, strings, and numbers do not alter the Python variables. If you need
to make changes to an immutable variable, you&#8217;ll need to assign the new value
to the &#8220;magic&#8221; variable <code class="docutils literal"><span class="pre">return_val</span></code> in C++. This value is returned by the
<code class="docutils literal"><span class="pre">inline()</span></code> function:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">weave</span><span class="o">.</span><span class="n">inline</span><span class="p">(</span><span class="s2">&quot;return_val = Py::new_reference_to(Py::Int(a+1));&quot;</span><span class="p">,[</span><span class="s1">&#39;a&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<span class="go">2</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">return_val</span></code> variable can also be used to return newly created values.
This is possible by returning a tuple. The following trivial example
illustrates how this can be done:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># python version</span>
<span class="k">def</span> <span class="nf">multi_return</span><span class="p">():</span>
    <span class="k">return</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;2nd&#39;</span>

<span class="c1"># C version.</span>
<span class="k">def</span> <span class="nf">c_multi_return</span><span class="p">():</span>
    <span class="n">code</span> <span class="o">=</span>  <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">              py::tuple results(2);</span>
<span class="s2">              results[0] = 1;</span>
<span class="s2">              results[1] = &quot;2nd&quot;;</span>
<span class="s2">              return_val = results;</span>
<span class="s2">            &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">inline_tools</span><span class="o">.</span><span class="n">inline</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
</pre></div>
</div>
<p>The example is available in <code class="docutils literal"><span class="pre">examples/tuple_return.py</span></code>. It also has the
dubious honor of demonstrating how much <code class="docutils literal"><span class="pre">inline()</span></code> can slow things down.
The C version here is about 7-10 times slower than the Python version. Of
course, something so trivial has no reason to be written in C anyway.</p>
<div class="section" id="the-issue-with-locals">
<h5><a class="toc-backref" href="#id26">1.16.7.5.2.1. The issue with <code class="docutils literal"><span class="pre">locals()</span></code></a><a class="headerlink" href="#the-issue-with-locals" title="Permalink to this headline">¶</a></h5>
<p><code class="docutils literal"><span class="pre">inline</span></code> passes the <code class="docutils literal"><span class="pre">locals()</span></code> and <code class="docutils literal"><span class="pre">globals()</span></code> dictionaries from Python
into the C++ function from the calling function. It extracts the variables
that are used in the C++ code from these dictionaries, converts then to C++
variables, and then calculates using them. It seems like it would be trivial,
then, after the calculations were finished to then insert the new values back
into the <code class="docutils literal"><span class="pre">locals()</span></code> and <code class="docutils literal"><span class="pre">globals()</span></code> dictionaries so that the modified
values were reflected in Python. Unfortunately, as pointed out by the Python
manual, the locals() dictionary is not writable.</p>
<p>I suspect <code class="docutils literal"><span class="pre">locals()</span></code> is not writable because there are some optimizations
done to speed lookups of the local namespace. I&#8217;m guessing local lookups
don&#8217;t always look at a dictionary to find values. Can someone &#8220;in the know&#8221;
confirm or correct this? Another thing I&#8217;d like to know is whether there is a
way to write to the local namespace of another stack frame from C/C++. If so,
it would be possible to have some clean up code in compiled functions that
wrote final values of variables in C++ back to the correct Python stack
frame. I think this goes a long way toward making <code class="docutils literal"><span class="pre">inline</span></code> truly live up
to its name. I don&#8217;t think we&#8217;ll get to the point of creating variables in
Python for variables created in C &#8211; although I suppose with a C/C++ parser
you could do that also.</p>
</div>
</div>
<div class="section" id="a-quick-look-at-the-code">
<h4><a class="toc-backref" href="#id27">1.16.7.5.3. A quick look at the code</a><a class="headerlink" href="#a-quick-look-at-the-code" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal"><span class="pre">weave</span></code> generates a C++ file holding an extension function for each
<code class="docutils literal"><span class="pre">inline</span></code> code snippet. These file names are generated using from the
SHA-256 signature of the code snippet and saved to a location specified by the
PYTHONCOMPILED environment variable (discussed later). The cpp files are
generally about 200-400 lines long and include quite a few functions to
support type conversions, etc. However, the actual compiled function is
pretty simple. Below is the familiar <code class="docutils literal"><span class="pre">printf</span></code> example:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">weave</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">weave</span><span class="o">.</span><span class="n">inline</span><span class="p">(</span><span class="s1">&#39;printf(&quot;</span><span class="si">%d</span><span class="se">\\</span><span class="s1">n&quot;,a);&#39;</span><span class="p">,[</span><span class="s1">&#39;a&#39;</span><span class="p">])</span>
<span class="go">1</span>
</pre></div>
</div>
<p>And here is the extension function generated by <code class="docutils literal"><span class="pre">inline</span></code>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>static PyObject* compiled_func(PyObject*self, PyObject* args)
{
    py::object return_val;
    int exception_occurred = 0;
    PyObject *py__locals = NULL;
    PyObject *py__globals = NULL;
    PyObject *py_a;
    py_a = NULL;

    if(!PyArg_ParseTuple(args,&quot;OO:compiled_func&quot;,&amp;py__locals,&amp;py__globals))
        return NULL;
    try
    {
        PyObject* raw_locals = py_to_raw_dict(py__locals,&quot;_locals&quot;);
        PyObject* raw_globals = py_to_raw_dict(py__globals,&quot;_globals&quot;);
        /* argument conversion code */
        py_a = get_variable(&quot;a&quot;,raw_locals,raw_globals);
        int a = convert_to_int(py_a,&quot;a&quot;);
        /* inline code */
        /* NDARRAY API VERSION 90907 */
        printf(&quot;%d\n&quot;,a);    /*I would like to fill in changed locals and globals here...*/
    }
    catch(...)
    {
        return_val =  py::object();
        exception_occurred = 1;
    }
    /* cleanup code */
    if(!(PyObject*)return_val &amp;&amp; !exception_occurred)
    {
        return_val = Py_None;
    }
    return return_val.disown();
}
</pre></div>
</div>
<p>Every inline function takes exactly two arguments &#8211; the local and global
dictionaries for the current scope. All variable values are looked up out of
these dictionaries. The lookups, along with all <code class="docutils literal"><span class="pre">inline</span></code> code execution,
are done within a C++ <code class="docutils literal"><span class="pre">try</span></code> block. If the variables aren&#8217;t found, or there
is an error converting a Python variable to the appropriate type in C++, an
exception is raised. The C++ exception is automatically converted to a Python
exception by SCXX and returned to Python. The <code class="docutils literal"><span class="pre">py_to_int()</span></code> function
illustrates how the conversions and exception handling works. py_to_int first
checks that the given PyObject* pointer is not NULL and is a Python integer.
If all is well, it calls the Python API to convert the value to an <code class="docutils literal"><span class="pre">int</span></code>.
Otherwise, it calls <code class="docutils literal"><span class="pre">handle_bad_type()</span></code> which gathers information about
what went wrong and then raises a SCXX TypeError which returns to Python as a
TypeError.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>int py_to_int(PyObject* py_obj,char* name)
{
    if (!py_obj || !PyInt_Check(py_obj))
        handle_bad_type(py_obj,&quot;int&quot;, name);
    return (int) PyInt_AsLong(py_obj);
}
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span>void handle_bad_type(PyObject* py_obj, char* good_type, char* var_name)
{
    char msg[500];
    sprintf(msg,&quot;received &#39;%s&#39; type instead of &#39;%s&#39; for variable &#39;%s&#39;&quot;,
            find_type(py_obj),good_type,var_name);
    throw Py::TypeError(msg);
}

char* find_type(PyObject* py_obj)
{
    if(py_obj == NULL) return &quot;C NULL value&quot;;
    if(PyCallable_Check(py_obj)) return &quot;callable&quot;;
    if(PyString_Check(py_obj)) return &quot;string&quot;;
    if(PyInt_Check(py_obj)) return &quot;int&quot;;
    if(PyFloat_Check(py_obj)) return &quot;float&quot;;
    if(PyDict_Check(py_obj)) return &quot;dict&quot;;
    if(PyList_Check(py_obj)) return &quot;list&quot;;
    if(PyTuple_Check(py_obj)) return &quot;tuple&quot;;
    if(PyFile_Check(py_obj)) return &quot;file&quot;;
    if(PyModule_Check(py_obj)) return &quot;module&quot;;

    //should probably do more interrogation (and thinking) on these.
    if(PyCallable_Check(py_obj) &amp;&amp; PyInstance_Check(py_obj)) return &quot;callable&quot;;
    if(PyInstance_Check(py_obj)) return &quot;instance&quot;;
    if(PyCallable_Check(py_obj)) return &quot;callable&quot;;
    return &quot;unknown type&quot;;
}
</pre></div>
</div>
<p>Since the <code class="docutils literal"><span class="pre">inline</span></code> is also executed within the <code class="docutils literal"><span class="pre">try/catch</span></code> block, you can
use CXX exceptions within your code. It is usually a bad idea to directly
<code class="docutils literal"><span class="pre">return</span></code> from your code, even if an error occurs. This skips the clean up
section of the extension function. In this simple example, there isn&#8217;t any
clean up code, but in more complicated examples, there may be some reference
counting that needs to be taken care of here on converted variables. To avoid
this, either uses exceptions or set <code class="docutils literal"><span class="pre">return_val</span></code> to NULL and use
<code class="docutils literal"><span class="pre">if/then's</span></code> to skip code after errors.</p>
</div>
</div>
<div class="section" id="technical-details">
<h3><a class="toc-backref" href="#id28">1.16.7.6. Technical Details</a><a class="headerlink" href="#technical-details" title="Permalink to this headline">¶</a></h3>
<p>There are several main steps to using C/C++ code within Python:</p>
<ol class="arabic simple">
<li>Type conversion</li>
<li>Generating C/C++ code</li>
<li>Compile the code to an extension module</li>
<li>Catalog (and cache) the function for future use</li>
</ol>
<p>Items 1 and 2 above are related, but most easily discussed separately. Type
conversions are customizable by the user if needed. Understanding them is
pretty important for anything beyond trivial uses of <code class="docutils literal"><span class="pre">inline</span></code>. Generating
the C/C++ code is handled by <code class="docutils literal"><span class="pre">ext_function</span></code> and <code class="docutils literal"><span class="pre">ext_module</span></code> classes and
. For the most part, compiling the code is handled by distutils. Some
customizations were needed, but they were relatively minor and do not require
changes to distutils itself. Cataloging is pretty simple in concept, but
surprisingly required the most code to implement (and still likely needs some
work). So, this section covers items 1 and 4 from the list. Item 2 is covered
later in the chapter covering the <code class="docutils literal"><span class="pre">ext_tools</span></code> module, and distutils is
covered by a completely separate document xxx.</p>
</div>
<div class="section" id="passing-variables-in-out-of-the-c-c-code">
<h3><a class="toc-backref" href="#id29">1.16.7.7. Passing Variables in/out of the C/C++ code</a><a class="headerlink" href="#passing-variables-in-out-of-the-c-c-code" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Passing variables into the C code is pretty straight forward, but
there are subtleties to how variable modifications in C are returned to
Python. see <a class="reference internal" href="#returning-values">Returning Values</a> for a more thorough discussion of this issue.</p>
</div>
</div>
<div class="section" id="type-conversions">
<h3><a class="toc-backref" href="#id30">1.16.7.8. Type Conversions</a><a class="headerlink" href="#type-conversions" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Maybe <code class="docutils literal"><span class="pre">xxx_converter</span></code> instead of <code class="docutils literal"><span class="pre">xxx_specification</span></code> is a more
descriptive name. Might change in future version?</p>
</div>
<p>By default, <code class="docutils literal"><span class="pre">inline()</span></code> makes the following type conversions between Python
and C++ types.</p>
<table border="1" class="docutils" id="id5">
<caption><span class="caption-text">Default Data Type Conversions</span><a class="headerlink" href="#id5" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="48%" />
<col width="52%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Python</th>
<th class="head">C++</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>int</td>
<td>int</td>
</tr>
<tr class="row-odd"><td>float</td>
<td>double</td>
</tr>
<tr class="row-even"><td>complex</td>
<td>std::complex</td>
</tr>
<tr class="row-odd"><td>string</td>
<td>py::string</td>
</tr>
<tr class="row-even"><td>list</td>
<td>py::list</td>
</tr>
<tr class="row-odd"><td>dict</td>
<td>py::dict</td>
</tr>
<tr class="row-even"><td>tuple</td>
<td>py::tuple</td>
</tr>
<tr class="row-odd"><td>file</td>
<td>FILE*</td>
</tr>
<tr class="row-even"><td>callable</td>
<td>py::object</td>
</tr>
<tr class="row-odd"><td>instance</td>
<td>py::object</td>
</tr>
<tr class="row-even"><td>numpy.ndarray</td>
<td>PyArrayObject*</td>
</tr>
<tr class="row-odd"><td>wxXXX</td>
<td>wxXXX*</td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal"><span class="pre">Py::</span></code> namespace is defined by the SCXX library which has C++ class
equivalents for many Python types. <code class="docutils literal"><span class="pre">std::</span></code> is the namespace of the standard
library in C++.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>I haven&#8217;t figured out how to handle <code class="docutils literal"><span class="pre">long</span> <span class="pre">int</span></code> yet (I think they
are currently converted to int - - check this).</li>
<li>Hopefully VTK will be added to the list soon</li>
</ul>
</div>
<p>Python to C++ conversions fill in code in several locations in the generated
<code class="docutils literal"><span class="pre">inline</span></code> extension function. Below is the basic template for the function.
This is actually the exact code that is generated by calling
<code class="docutils literal"><span class="pre">weave.inline(&quot;&quot;)</span></code>.</p>
<p>The <code class="docutils literal"><span class="pre">/*</span> <span class="pre">inline</span> <span class="pre">code</span> <span class="pre">*/</span></code> section is filled with the code passed to the
<code class="docutils literal"><span class="pre">inline()</span></code> function call. The <code class="docutils literal"><span class="pre">/*argument</span> <span class="pre">conversion</span> <span class="pre">code*/</span></code> and <code class="docutils literal"><span class="pre">/*</span>
<span class="pre">cleanup</span> <span class="pre">code</span> <span class="pre">*/</span></code> sections are filled with code that handles conversion from
Python to C++ types and code that deallocates memory or manipulates reference
counts before the function returns. The following sections demonstrate how
these two areas are filled in by the default conversion methods. * Note: I&#8217;m
not sure I have reference counting correct on a few of these. The only thing
I increase/decrease the ref count on is NumPy arrays. If you see an issue,
please let me know.</p>
<div class="section" id="numpy-argument-conversion">
<h4><a class="toc-backref" href="#id31">1.16.7.8.1. NumPy Argument Conversion</a><a class="headerlink" href="#numpy-argument-conversion" title="Permalink to this headline">¶</a></h4>
<p>Integer, floating point, and complex arguments are handled in a very similar
fashion. Consider the following inline function that has a single integer
variable passed in:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inline</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,[</span><span class="s1">&#39;a&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>The argument conversion code inserted for <code class="docutils literal"><span class="pre">a</span></code> is:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>/* argument conversion code */
int a = py_to_int (get_variable(&quot;a&quot;,raw_locals,raw_globals),&quot;a&quot;);
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">get_variable()</span></code> reads the variable <code class="docutils literal"><span class="pre">a</span></code> from the local and global
namespaces. <code class="docutils literal"><span class="pre">py_to_int()</span></code> has the following form:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>static int py_to_int(PyObject* py_obj,char* name)
{
    if (!py_obj || !PyInt_Check(py_obj))
        handle_bad_type(py_obj,&quot;int&quot;, name);
    return (int) PyInt_AsLong(py_obj);
}
</pre></div>
</div>
<p>Similarly, the float and complex conversion routines look like:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>static double py_to_float(PyObject* py_obj,char* name)
{
    if (!py_obj || !PyFloat_Check(py_obj))
        handle_bad_type(py_obj,&quot;float&quot;, name);
    return PyFloat_AsDouble(py_obj);
}

static std::complex py_to_complex(PyObject* py_obj,char* name)
{
    if (!py_obj || !PyComplex_Check(py_obj))
        handle_bad_type(py_obj,&quot;complex&quot;, name);
    return std::complex(PyComplex_RealAsDouble(py_obj),
                                PyComplex_ImagAsDouble(py_obj));
}
</pre></div>
</div>
<p>NumPy conversions do not require any clean up code.</p>
</div>
<div class="section" id="string-list-tuple-and-dictionary-conversion">
<h4><a class="toc-backref" href="#id32">1.16.7.8.2. String, List, Tuple, and Dictionary Conversion</a><a class="headerlink" href="#string-list-tuple-and-dictionary-conversion" title="Permalink to this headline">¶</a></h4>
<p>Strings, Lists, Tuples and Dictionary conversions are all converted to SCXX
types by default. For the following code,</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inline</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,[</span><span class="s1">&#39;a&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>The argument conversion code inserted for <code class="docutils literal"><span class="pre">a</span></code> is:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>/* argument conversion code */
Py::List a = py_to_list(get_variable(&quot;a&quot;,raw_locals,raw_globals),&quot;a&quot;);
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">get_variable()</span></code> reads the variable <code class="docutils literal"><span class="pre">a</span></code> from the local and global
namespaces. <code class="docutils literal"><span class="pre">py_to_list()</span></code> and its friends have the following form:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>static Py::List py_to_list(PyObject* py_obj,char* name)
{
    if (!py_obj || !PyList_Check(py_obj))
        handle_bad_type(py_obj,&quot;list&quot;, name);
    return Py::List(py_obj);
}

static Py::String py_to_string(PyObject* py_obj,char* name)
{
    if (!PyString_Check(py_obj))
        handle_bad_type(py_obj,&quot;string&quot;, name);
    return Py::String(py_obj);
}

static Py::Dict py_to_dict(PyObject* py_obj,char* name)
{
    if (!py_obj || !PyDict_Check(py_obj))
        handle_bad_type(py_obj,&quot;dict&quot;, name);
    return Py::Dict(py_obj);
}

static Py::Tuple py_to_tuple(PyObject* py_obj,char* name)
{
    if (!py_obj || !PyTuple_Check(py_obj))
        handle_bad_type(py_obj,&quot;tuple&quot;, name);
    return Py::Tuple(py_obj);
}
</pre></div>
</div>
<p>SCXX handles reference counts on for strings, lists, tuples, and
dictionaries, so clean up code isn&#8217;t necessary.</p>
</div>
<div class="section" id="file-conversion">
<h4><a class="toc-backref" href="#id33">1.16.7.8.3. File Conversion</a><a class="headerlink" href="#file-conversion" title="Permalink to this headline">¶</a></h4>
<p>For the following code,</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;bob&quot;</span><span class="p">,</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inline</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,[</span><span class="s1">&#39;a&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>The argument conversion code is:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>/* argument conversion code */
PyObject* py_a = get_variable(&quot;a&quot;,raw_locals,raw_globals);
FILE* a = py_to_file(py_a,&quot;a&quot;);
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">get_variable()</span></code> reads the variable <code class="docutils literal"><span class="pre">a</span></code> from the local and global
namespaces. <code class="docutils literal"><span class="pre">py_to_file()</span></code> converts PyObject* to a FILE* and increments the
reference count of the PyObject*:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>FILE* py_to_file(PyObject* py_obj, char* name)
{
    if (!py_obj || !PyFile_Check(py_obj))
        handle_bad_type(py_obj,&quot;file&quot;, name);

    Py_INCREF(py_obj);
    return PyFile_AsFile(py_obj);
}
</pre></div>
</div>
<p>Because the PyObject* was incremented, the clean up code needs to decrement
the counter</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>/* cleanup code */
Py_XDECREF(py_a);
</pre></div>
</div>
<p>Its important to understand that file conversion only works on actual files
&#8211; i.e. ones created using the <code class="docutils literal"><span class="pre">open()</span></code> command in Python. It does not
support converting arbitrary objects that support the file interface into C
<code class="docutils literal"><span class="pre">FILE*</span></code> pointers. This can affect many things. For example, in initial
<code class="docutils literal"><span class="pre">printf()</span></code> examples, one might be tempted to solve the problem of C and
Python IDE&#8217;s (PythonWin, PyCrust, etc.) writing to different stdout and
stderr by using <code class="docutils literal"><span class="pre">fprintf()</span></code> and passing in <code class="docutils literal"><span class="pre">sys.stdout</span></code> and
<code class="docutils literal"><span class="pre">sys.stderr</span></code>. For example, instead of</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">weave</span><span class="o">.</span><span class="n">inline</span><span class="p">(</span><span class="s1">&#39;printf(&quot;hello</span><span class="se">\\</span><span class="s1">n&quot;);&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>You might try:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">buf</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">weave</span><span class="o">.</span><span class="n">inline</span><span class="p">(</span><span class="s1">&#39;fprintf(buf,&quot;hello</span><span class="se">\\</span><span class="s1">n&quot;);&#39;</span><span class="p">,[</span><span class="s1">&#39;buf&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>This will work as expected from a standard python interpreter, but in
PythonWin, the following occurs:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>&gt;&gt;&gt; buf = sys.stdout
&gt;&gt;&gt; weave.inline(&#39;fprintf(buf,&quot;hello\\n&quot;);&#39;,[&#39;buf&#39;])
Traceback (most recent call last):
    File &quot;&quot;, line 1, in ?
    File &quot;C:\Python21\weave\inline_tools.py&quot;, line 315, in inline
        auto_downcast = auto_downcast,
    File &quot;C:\Python21\weave\inline_tools.py&quot;, line 386, in compile_function
        type_factories = type_factories)
    File &quot;C:\Python21\weave\ext_tools.py&quot;, line 197, in __init__
        auto_downcast, type_factories)
    File &quot;C:\Python21\weave\ext_tools.py&quot;, line 390, in assign_variable_types
        raise TypeError, format_error_msg(errors)
    TypeError: {&#39;buf&#39;: &quot;Unable to convert variable &#39;buf&#39; to a C++ type.&quot;}
</pre></div>
</div>
<p>The traceback tells us that <code class="docutils literal"><span class="pre">inline()</span></code> was unable to convert &#8216;buf&#8217; to a C++
type (If instance conversion was implemented, the error would have occurred
at runtime instead). Why is this? Let&#8217;s look at what the <code class="docutils literal"><span class="pre">buf</span></code> object
really is:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">buf</span>
<span class="go">pywin.framework.interact.InteractiveView instance at 00EAD014</span>
</pre></div>
</div>
<p>PythonWin has reassigned <code class="docutils literal"><span class="pre">sys.stdout</span></code> to a special object that implements
the Python file interface. This works great in Python, but since the special
object doesn&#8217;t have a FILE* pointer underlying it, <code class="docutils literal"><span class="pre">fprintf</span></code> doesn&#8217;t know
what to do with it (well this will be the problem when instance conversion is
implemented...).</p>
</div>
<div class="section" id="callable-instance-and-module-conversion">
<h4><a class="toc-backref" href="#id34">1.16.7.8.4. Callable, Instance, and Module Conversion</a><a class="headerlink" href="#callable-instance-and-module-conversion" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Need to look into how ref counts should be handled. Also, Instance and
Module conversion are not currently implemented.</p>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">a</span><span class="p">():</span>
<span class="go">    pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inline</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,[</span><span class="s1">&#39;a&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>Callable and instance variables are converted to PyObject*. Nothing is done
to their reference counts.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>/* argument conversion code */
PyObject* a = py_to_callable(get_variable(&quot;a&quot;,raw_locals,raw_globals),&quot;a&quot;);
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">get_variable()</span></code> reads the variable <code class="docutils literal"><span class="pre">a</span></code> from the local and global
namespaces. The <code class="docutils literal"><span class="pre">py_to_callable()</span></code> and <code class="docutils literal"><span class="pre">py_to_instance()</span></code> don&#8217;t currently
increment the ref count.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>PyObject* py_to_callable(PyObject* py_obj, char* name)
{
    if (!py_obj || !PyCallable_Check(py_obj))
        handle_bad_type(py_obj,&quot;callable&quot;, name);
    return py_obj;
}

PyObject* py_to_instance(PyObject* py_obj, char* name)
{
    if (!py_obj || !PyFile_Check(py_obj))
        handle_bad_type(py_obj,&quot;instance&quot;, name);
    return py_obj;
}
</pre></div>
</div>
<p>There is no cleanup code for callables, modules, or instances.</p>
</div>
<div class="section" id="customizing-conversions">
<h4><a class="toc-backref" href="#id35">1.16.7.8.5. Customizing Conversions</a><a class="headerlink" href="#customizing-conversions" title="Permalink to this headline">¶</a></h4>
<p>Converting from Python to C++ types is handled by <code class="docutils literal"><span class="pre">xxx_specification</span></code>
classes.  A type specification class actually serve in two related but
different roles.  The first is in determining whether a Python variable that
needs to be converted should be represented by the given class. The second is
as a code generator that generates C++ code needed to convert from Python to
C++ types for a specific variable.</p>
<p>When</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">weave</span><span class="o">.</span><span class="n">inline</span><span class="p">(</span><span class="s1">&#39;printf(&quot;</span><span class="si">%d</span><span class="s1">&quot;,a);&#39;</span><span class="p">,[</span><span class="s1">&#39;a&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>is called for the first time, the code snippet has to be compiled. In this
process, the variable &#8216;a&#8217; is tested against a list of type specifications
(the default list is stored in weave/ext_tools.py). The <em>first</em> specification
in the list is used to represent the variable.</p>
<p>Examples of <code class="docutils literal"><span class="pre">xxx_specification</span></code> are scattered throughout numerous
&#8220;xxx_spec.py&#8221; files in the <code class="docutils literal"><span class="pre">weave</span></code> package. Closely related to the
<code class="docutils literal"><span class="pre">xxx_specification</span></code> classes are <code class="docutils literal"><span class="pre">yyy_info</span></code> classes. These classes contain
compiler, header, and support code information necessary for including a
certain set of capabilities (such as blitz++ or CXX support) in a compiled
module. <code class="docutils literal"><span class="pre">xxx_specification</span></code> classes have one or more <code class="docutils literal"><span class="pre">yyy_info</span></code> classes
associated with them. If you&#8217;d like to define your own set of type
specifications, the current best route is to examine some of the existing
spec and info files. Maybe looking over sequence_spec.py and cxx_info.py are
a good place to start. After defining specification classes, you&#8217;ll need to
pass them into <code class="docutils literal"><span class="pre">inline</span></code> using the <code class="docutils literal"><span class="pre">type_factories</span></code> argument. A lot of
times you may just want to change how a specific variable type is
represented. Say you&#8217;d rather have Python strings converted to
<code class="docutils literal"><span class="pre">std::string</span></code> or maybe <code class="docutils literal"><span class="pre">char*</span></code> instead of using the CXX string object,
but would like all other type conversions to have default behavior. This
requires that a new specification class that handles strings is written and
then prepended to a list of the default type specifications. Since it is
closer to the front of the list, it effectively overrides the default string
specification. The following code demonstrates how this is done: ...</p>
</div>
</div>
<div class="section" id="the-catalog">
<h3><a class="toc-backref" href="#id36">1.16.7.9. The Catalog</a><a class="headerlink" href="#the-catalog" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal"><span class="pre">catalog.py</span></code> has a class called <code class="docutils literal"><span class="pre">catalog</span></code> that helps keep track of
previously compiled functions. This prevents <code class="docutils literal"><span class="pre">inline()</span></code> and related
functions from having to compile functions every time they are called.
Instead, catalog will check an in memory cache to see if the function has
already been loaded into python. If it hasn&#8217;t, then it starts searching
through persistent catalogs on disk to see if it finds an entry for the given
function. By saving information about compiled functions to disk, it isn&#8217;t
necessary to re-compile functions every time you stop and restart the
interpreter. Functions are compiled once and stored for future use.</p>
<p>When <code class="docutils literal"><span class="pre">inline(cpp_code)</span></code> is called the following things happen:</p>
<ol class="arabic">
<li><p class="first">A fast local cache of functions is checked for the last function
called for <code class="docutils literal"><span class="pre">cpp_code</span></code>. If an entry for <code class="docutils literal"><span class="pre">cpp_code</span></code> doesn&#8217;t exist in
the cache or the cached function call fails (perhaps because the function
doesn&#8217;t have compatible types) then the next step is to check the
catalog.</p>
</li>
<li><p class="first">The catalog class also keeps an in-memory cache with a list of all
the functions compiled for <code class="docutils literal"><span class="pre">cpp_code</span></code>. If <code class="docutils literal"><span class="pre">cpp_code</span></code> has ever been
called, then this cache will be present (loaded from disk). If the cache
isn&#8217;t present, then it is loaded from disk.</p>
<p>If the cache is present, each function in the cache is called until
one is found that was compiled for the correct argument types. If none of
the functions work, a new function is compiled with the given argument
types. This function is written to the on-disk catalog as well as into
the in-memory cache.</p>
</li>
<li><p class="first">When a lookup for <code class="docutils literal"><span class="pre">cpp_code</span></code> fails, the catalog looks through the
on-disk function catalogs for the entries. The PYTHONCOMPILED variable
determines where to search for these catalogs and in what order. If
PYTHONCOMPILED is not present several platform dependent locations are
searched. All functions found for <code class="docutils literal"><span class="pre">cpp_code</span></code> in the path are loaded
into the in-memory cache with functions found earlier in the search path
closer to the front of the call list.</p>
<p>If the function isn&#8217;t found in the on-disk catalog, then the function
is compiled, written to the first writable directory in the
PYTHONCOMPILED path, and also loaded into the in-memory cache.</p>
</li>
</ol>
<div class="section" id="function-storage">
<h4><a class="toc-backref" href="#id37">1.16.7.9.1. Function Storage</a><a class="headerlink" href="#function-storage" title="Permalink to this headline">¶</a></h4>
<p>Function caches are stored as dictionaries where the key is the entire C++
code string and the value is either a single function (as in the &#8220;level 1&#8221;
cache) or a list of functions (as in the main catalog cache). On disk
catalogs are stored in the same manor using standard Python shelves.</p>
<p>Early on, there was a question as to whether md5 checksums of the C++ code
strings should be used instead of the actual code strings. I think this is
the route inline Perl took. Some (admittedly quick) tests of the md5 vs. the
entire string showed that using the entire string was at least a factor of 3
or 4 faster for Python. I think this is because it is more time consuming to
compute the md5 value than it is to do look-ups of long strings in the
dictionary. Look at the examples/md5_speed.py file for the test run.</p>
</div>
<div class="section" id="catalog-search-paths-and-the-pythoncompiled-variable">
<h4><a class="toc-backref" href="#id38">1.16.7.9.2. Catalog search paths and the PYTHONCOMPILED variable</a><a class="headerlink" href="#catalog-search-paths-and-the-pythoncompiled-variable" title="Permalink to this headline">¶</a></h4>
<p>The default location for catalog files on Unix is ~/.pythonXX_compiled
where XX is version of Python being used. If this directory doesn&#8217;t exist, it
is created the first time a catalog is used. The directory must be writable.
If, for any reason it isn&#8217;t, then the catalog attempts to create a directory
based on your user id in the /tmp directory. The directory permissions are
set so that only you have access to the directory. If this fails, I think
you&#8217;re out of luck. I don&#8217;t think either of these should ever fail though. On
Windows, a directory called pythonXX_compiled is created in the user&#8217;s
temporary directory.</p>
<p>The actual catalog file that lives in this directory is a Python shelf with
a platform specific name such as &#8220;nt21compiled_catalog&#8221; so that multiple OSes
can share the same file systems without trampling on each other. Along with
the catalog file, the .cpp and .so or .pyd files created by inline will live
in this directory. The catalog file simply contains keys which are the C++
code strings with values that are lists of functions. The function lists
point at functions within these compiled modules. Each function in the lists
executes the same C++ code string, but compiled for different input
variables.</p>
<p>You can use the PYTHONCOMPILED environment variable to specify alternative
locations for compiled functions. On Unix this is a colon (&#8216;:&#8217;) separated
list of directories. On windows, it is a (&#8216;;&#8217;) separated list of directories.
These directories will be searched prior to the default directory for a
compiled function catalog. Also, the first writable directory in the list is
where all new compiled function catalogs, .cpp and .so or .pyd files are
written. Relative directory paths (&#8216;.&#8217; and &#8216;..&#8217;) should work fine in the
PYTHONCOMPILED variable as should environment variables.</p>
<p>There is a &#8220;special&#8221; path variable called MODULE that can be placed in the
PYTHONCOMPILED variable. It specifies that the compiled catalog should reside
in the same directory as the module that called it. This is useful if an
admin wants to build a lot of compiled functions during the build of a
package and then install them in site-packages along with the package. User&#8217;s
who specify MODULE in their PYTHONCOMPILED variable will have access to these
compiled functions. Note, however, that if they call the function with a set
of argument types that it hasn&#8217;t previously been built for, the new function
will be stored in their default directory (or some other writable directory
in the PYTHONCOMPILED path) because the user will not have write access to
the site-packages directory.</p>
<p>An example of using the PYTHONCOMPILED path on bash follows:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>PYTHONCOMPILED=MODULE:/some/path;export PYTHONCOMPILED;
</pre></div>
</div>
<p>If you are using python21 on linux, and the module bob.py in site-packages
has a compiled function in it, then the catalog search order when calling
that function for the first time in a python session would be:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>/usr/lib/python21/site-packages/linuxpython_compiled
/some/path/linuxpython_compiled
~/.python21_compiled/linuxpython_compiled
</pre></div>
</div>
<p>The default location is always included in the search path.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">hmmm. see a possible problem here. I should probably make a sub-
directory such as /usr/lib/python21/site-
packages/python21_compiled/linuxpython_compiled so that library files
compiled with python21 are tried to link with python22 files in some strange
scenarios. Need to check this.</p>
</div>
<p>The in-module cache (in <code class="docutils literal"><span class="pre">weave.inline_tools</span></code> reduces the overhead of
calling inline functions by about a factor of 2. It can be reduced a little
more for type loop calls where the same function is called over and over
again if the cache was a single value instead of a dictionary, but the
benefit is very small (less than 5%) and the utility is quite a bit less. So,
we&#8217;ll stick with a dictionary as the cache.</p>
</div>
</div>
</div>
<div class="section" id="blitz">
<h2><a class="toc-backref" href="#id39">1.16.8. Blitz</a><a class="headerlink" href="#blitz" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">most of this section is lifted from old documentation. It should be
pretty accurate, but there may be a few discrepancies.</p>
</div>
<p><code class="docutils literal"><span class="pre">weave.blitz()</span></code> compiles NumPy Python expressions for fast execution. For
most applications, compiled expressions should provide a factor of 2-10
speed-up over NumPy arrays. Using compiled expressions is meant to be as
unobtrusive as possible and works much like pythons exec statement. As an
example, the following code fragment takes a 5 point average of the 512x512
2d image, b, and stores it in array, a:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">scipy</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># or from NumPy import *</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">ones</span><span class="p">((</span><span class="mi">512</span><span class="p">,</span><span class="mi">512</span><span class="p">),</span> <span class="n">Float64</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">ones</span><span class="p">((</span><span class="mi">512</span><span class="p">,</span><span class="mi">512</span><span class="p">),</span> <span class="n">Float64</span><span class="p">)</span>
<span class="c1"># ...do some stuff to fill in b...</span>
<span class="c1"># now average</span>
<span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span>  <span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">b</span><span class="p">[</span><span class="mi">2</span><span class="p">:,</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">b</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> \
               <span class="o">+</span> <span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">:]</span> <span class="o">+</span> <span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">,:</span><span class="o">-</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="mf">5.</span>
</pre></div>
</div>
<p>To compile the expression, convert the expression to a string by putting
quotes around it and then use <code class="docutils literal"><span class="pre">weave.blitz</span></code>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">weave</span>
<span class="n">expr</span> <span class="o">=</span> <span class="s2">&quot;a[1:-1,1:-1] =  (b[1:-1,1:-1] + b[2:,1:-1] + b[:-2,1:-1]&quot;</span> \
                      <span class="s2">&quot;+ b[1:-1,2:] + b[1:-1,:-2]) / 5.&quot;</span>
<span class="n">weave</span><span class="o">.</span><span class="n">blitz</span><span class="p">(</span><span class="n">expr</span><span class="p">)</span>
</pre></div>
</div>
<p>The first time <code class="docutils literal"><span class="pre">weave.blitz</span></code> is run for a given expression and set of
arguments, C++ code that accomplishes the exact same task as the Python
expression is generated and compiled to an extension module. This can take up
to a couple of minutes depending on the complexity of the function.
Subsequent calls to the function are very fast.
Furthermore, the generated module
is saved between program executions so that the compilation is only done once
for a given expression and associated set of array types. If the given
expression is executed with a new set of array types, the code most be
compiled again. This does not overwrite the previously compiled function &#8211;
both of them are saved and available for execution.</p>
<p>The following table compares the run times for standard NumPy code and
compiled code for the 5 point averaging.</p>
<p>Method Run Time (seconds)
Standard NumPy 0.46349
blitz (1st time compiling) 78.95526
blitz (subsequent calls) 0.05843 (factor of 8 speedup)</p>
<p>These numbers are for a 512x512 double precision image run on a 400 MHz
Celeron processor under RedHat Linux 6.2.</p>
<p>Because of the slow compile times, its probably most effective to develop
algorithms as you usually do using the capabilities of scipy or the NumPy
module. Once the algorithm is perfected, put quotes around it and execute it
using <code class="docutils literal"><span class="pre">weave.blitz</span></code>. This provides the standard rapid prototyping strengths
of Python and results in algorithms that run close to that of hand coded C or
Fortran.</p>
<div class="section" id="id1">
<h3><a class="toc-backref" href="#id40">1.16.8.1. Requirements</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>Currently, the <code class="docutils literal"><span class="pre">weave.blitz</span></code> has only been tested under Linux with
gcc-2.95-3 and on Windows with Mingw32 (2.95.2). Its compiler requirements
are pretty heavy duty (see the <a class="reference external" href="http://www.oonumerics.org/blitz/">blitz++ home page</a>), so it won&#8217;t work with
just any compiler. Particularly MSVC++ isn&#8217;t up to snuff. A number of other
compilers such as KAI++ will also work, but my suspicions are that gcc will
get the most use.</p>
</div>
<div class="section" id="limitations">
<h3><a class="toc-backref" href="#id41">1.16.8.2. Limitations</a><a class="headerlink" href="#limitations" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Currently, <code class="docutils literal"><span class="pre">weave.blitz</span></code> handles all standard mathematical operators
except for the ** power operator. The built-in trigonometric, log,
floor/ceil, and fabs functions might work (but haven&#8217;t been tested). It
also handles all types of array indexing supported by the NumPy module.
numarray&#8217;s NumPy compatible array indexing modes are likewise supported,
but numarray&#8217;s enhanced (array based) indexing modes are not supported.</p>
<p><code class="docutils literal"><span class="pre">weave.blitz</span></code> does not currently support operations that use array
broadcasting, nor have any of the special purpose functions in NumPy such
as take, compress, etc. been implemented. Note that there are no obvious
reasons why most of this functionality cannot be added to scipy.weave, so
it will likely trickle into future versions. Using <code class="docutils literal"><span class="pre">slice()</span></code> objects
directly instead of <code class="docutils literal"><span class="pre">start:stop:step</span></code> is also not supported.</p>
</li>
<li><p class="first">Currently Python only works on expressions that include assignment
such as</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">b</span> <span class="o">+</span> <span class="n">c</span> <span class="o">+</span> <span class="n">d</span>
</pre></div>
</div>
<p>This means that the result array must exist before calling
<code class="docutils literal"><span class="pre">weave.blitz</span></code>. Future versions will allow the following:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">weave</span><span class="o">.</span><span class="n">blitz_eval</span><span class="p">(</span><span class="s2">&quot;b + c + d&quot;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">weave.blitz</span></code> works best when algorithms can be expressed in a
&#8220;vectorized&#8221; form. Algorithms that have a large number of if/thens and
other conditions are better hand-written in C or Fortran. Further, the
restrictions imposed by requiring vectorized expressions sometimes
preclude the use of more efficient data structures or algorithms. For
maximum speed in these cases, hand-coded C or Fortran code is the only
way to go.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">weave.blitz</span></code> can produce different results than NumPy in certain
situations. It can happen when the array receiving the results of a
calculation is also used during the calculation. The NumPy behavior is to
carry out the entire calculation on the right hand side of an equation
and store it in a temporary array. This temporary array is assigned to
the array on the left hand side of the equation. blitz, on the other
hand, does a &#8220;running&#8221; calculation of the array elements assigning values
from the right hand side to the elements on the left hand side
immediately after they are calculated. Here is an example, provided by
Prabhu Ramachandran, where this happens:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span># 4 point average.
&gt;&gt;&gt; expr = &quot;u[1:-1, 1:-1] = (u[0:-2, 1:-1] + u[2:, 1:-1] + \
...                &quot;u[1:-1,0:-2] + u[1:-1, 2:])*0.25&quot;
&gt;&gt;&gt; u = zeros((5, 5), &#39;d&#39;); u[0,:] = 100
&gt;&gt;&gt; exec (expr)
&gt;&gt;&gt; u
array([[ 100.,  100.,  100.,  100.,  100.],
       [   0.,   25.,   25.,   25.,    0.],
       [   0.,    0.,    0.,    0.,    0.],
       [   0.,    0.,    0.,    0.,    0.],
       [   0.,    0.,    0.,    0.,    0.]])

&gt;&gt;&gt; u = zeros((5, 5), &#39;d&#39;); u[0,:] = 100
&gt;&gt;&gt; weave.blitz (expr)
&gt;&gt;&gt; u
array([[ 100.  ,  100.       ,  100.       ,  100.       , 100. ],
       [   0.  ,   25.       ,   31.25     ,   32.8125   , 0. ],
       [   0.  ,    6.25     ,    9.375    ,   10.546875 , 0. ],
       [   0.  ,    1.5625   ,    2.734375 ,    3.3203125, 0. ],
       [   0.  ,    0.       ,    0.       ,    0.       , 0. ]])
</pre></div>
</div>
<p>You can prevent this behavior by using a temporary array.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">u</span> <span class="o">=</span> <span class="n">zeros</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="s1">&#39;d&#39;</span><span class="p">);</span> <span class="n">u</span><span class="p">[</span><span class="mi">0</span><span class="p">,:]</span> <span class="o">=</span> <span class="mi">100</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">temp</span> <span class="o">=</span> <span class="n">zeros</span><span class="p">((</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="s1">&#39;d&#39;</span><span class="p">);</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">expr</span> <span class="o">=</span> <span class="s2">&quot;temp = (u[0:-2, 1:-1] + u[2:, 1:-1] + &quot;</span>\
<span class="gp">... </span>       <span class="s2">&quot;u[1:-1,0:-2] + u[1:-1, 2:])*0.25;&quot;</span>\
<span class="gp">... </span>       <span class="s2">&quot;u[1:-1,1:-1] = temp&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">weave</span><span class="o">.</span><span class="n">blitz</span> <span class="p">(</span><span class="n">expr</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">u</span>
<span class="go">array([[ 100.,  100.,  100.,  100.,  100.],</span>
<span class="go">       [   0.,   25.,   25.,   25.,    0.],</span>
<span class="go">       [   0.,    0.,    0.,    0.,    0.],</span>
<span class="go">       [   0.,    0.,    0.,    0.,    0.],</span>
<span class="go">       [   0.,    0.,    0.,    0.,    0.]])</span>
</pre></div>
</div>
</li>
<li><p class="first">One other point deserves mention lest people be confused.
<code class="docutils literal"><span class="pre">weave.blitz</span></code> is not a general purpose Python-&gt;C compiler. It only
works for expressions that contain NumPy arrays and/or Python scalar
values. This focused scope concentrates effort on the computationally
intensive regions of the program and sidesteps the difficult issues
associated with a general purpose Python-&gt;C compiler.</p>
</li>
</ol>
</div>
<div class="section" id="numpy-efficiency-issues-what-compilation-buys-you">
<h3><a class="toc-backref" href="#id42">1.16.8.3. NumPy efficiency issues: What compilation buys you</a><a class="headerlink" href="#numpy-efficiency-issues-what-compilation-buys-you" title="Permalink to this headline">¶</a></h3>
<p>Some might wonder why compiling NumPy expressions to C++ is beneficial since
operations on NumPy array operations are already executed within C loops. The
problem is that anything other than the simplest expression are executed in
less than optimal fashion. Consider the following NumPy expression:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="mf">1.2</span> <span class="o">*</span> <span class="n">b</span> <span class="o">+</span> <span class="n">c</span> <span class="o">*</span> <span class="n">d</span>
</pre></div>
</div>
<p>When NumPy calculates the value for the 2d array, <code class="docutils literal"><span class="pre">a</span></code>, it does the
following steps:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">temp1</span> <span class="o">=</span> <span class="mf">1.2</span> <span class="o">*</span> <span class="n">b</span>
<span class="n">temp2</span> <span class="o">=</span> <span class="n">c</span> <span class="o">*</span> <span class="n">d</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">temp1</span> <span class="o">+</span> <span class="n">temp2</span>
</pre></div>
</div>
<p>Two things to note. Since <code class="docutils literal"><span class="pre">c</span></code> is an (perhaps large) array, a large
temporary array must be created to store the results of <code class="docutils literal"><span class="pre">1.2</span> <span class="pre">*</span> <span class="pre">b</span></code>. The same
is true for <code class="docutils literal"><span class="pre">temp2</span></code>. Allocation is slow. The second thing is that we have 3
loops executing, one to calculate <code class="docutils literal"><span class="pre">temp1</span></code>, one for <code class="docutils literal"><span class="pre">temp2</span></code> and one for
adding them up. A C loop for the same problem might look like:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>for(int i = 0; i &lt; M; i++)
    for(int j = 0; j &lt; N; j++)
        a[i,j] = 1.2 * b[i,j] + c[i,j] * d[i,j]
</pre></div>
</div>
<p>Here, the 3 loops have been fused into a single loop and there is no longer a
need for a temporary array. This provides a significant speed improvement
over the above example (write me and tell me what you get).</p>
<p>So, converting NumPy expressions into C/C++ loops that fuse the loops and
eliminate temporary arrays can provide big gains. The goal, then, is to
convert NumPy expression to C/C++ loops, compile them in an extension module,
and then call the compiled extension function. The good news is that there is
an obvious correspondence between the NumPy expression above and the C loop.
The bad news is that NumPy is generally much more powerful than this simple
example illustrates and handling all possible indexing possibilities results
in loops that are less than straightforward to write. (Take a peek at NumPy
for confirmation). Luckily, there are several available tools that simplify
the process.</p>
</div>
<div class="section" id="the-tools">
<h3><a class="toc-backref" href="#id43">1.16.8.4. The Tools</a><a class="headerlink" href="#the-tools" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal"><span class="pre">weave.blitz</span></code> relies heavily on several remarkable tools. On the Python
side, the main facilitators are Jeremy Hylton&#8217;s parser module and Travis
Oliphant&#8217;s NumPy module. On the compiled language side, Todd Veldhuizen&#8217;s
blitz++ array library, written in C++ (shhhh. don&#8217;t tell David Beazley), does
the heavy lifting. Don&#8217;t assume that, because it&#8217;s C++, it&#8217;s much slower than
C or Fortran. Blitz++ uses a jaw dropping array of template techniques
(metaprogramming, template expression, etc) to convert innocent-looking and
readable C++ expressions into to code that usually executes within a few
percentage points of Fortran code for the same problem. This is good.
Unfortunately all the template raz-ma-taz is very expensive to compile, so
the 200 line extension modules often take 2 or more minutes to compile. This
isn&#8217;t so good. <code class="docutils literal"><span class="pre">weave.blitz</span></code> works to minimize this issue by remembering
where compiled modules live and reusing them instead of re-compiling every
time a program is re-run.</p>
<div class="section" id="parser">
<h4><a class="toc-backref" href="#id44">1.16.8.4.1. Parser</a><a class="headerlink" href="#parser" title="Permalink to this headline">¶</a></h4>
<p>Tearing NumPy expressions apart, examining the pieces, and then rebuilding
them as C++ (blitz) expressions requires a parser of some sort. I can imagine
someone attacking this problem with regular expressions, but it&#8217;d likely be
ugly and fragile. Amazingly, Python solves this problem for us. It actually
exposes its parsing engine to the world through the <code class="docutils literal"><span class="pre">parser</span></code> module. The
following fragment creates an Abstract Syntax Tree (AST) object for the
expression and then converts to a (rather unpleasant looking) deeply nested
list representation of the tree.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">parser</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy.weave.misc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ast</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">suite</span><span class="p">(</span><span class="s2">&quot;a = b * c + d&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ast_list</span> <span class="o">=</span> <span class="n">ast</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sym_list</span> <span class="o">=</span> <span class="n">scipy</span><span class="o">.</span><span class="n">weave</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">translate_symbols</span><span class="p">(</span><span class="n">ast_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pprint</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">sym_list</span><span class="p">)</span>
<span class="go">[&#39;file_input&#39;,</span>
<span class="go"> [&#39;stmt&#39;,</span>
<span class="go">  [&#39;simple_stmt&#39;,</span>
<span class="go">   [&#39;small_stmt&#39;,</span>
<span class="go">    [&#39;expr_stmt&#39;,</span>
<span class="go">     [&#39;testlist&#39;,</span>
<span class="go">      [&#39;test&#39;,</span>
<span class="go">       [&#39;and_test&#39;,</span>
<span class="go">        [&#39;not_test&#39;,</span>
<span class="go">         [&#39;comparison&#39;,</span>
<span class="go">          [&#39;expr&#39;,</span>
<span class="go">           [&#39;xor_expr&#39;,</span>
<span class="go">            [&#39;and_expr&#39;,</span>
<span class="go">             [&#39;shift_expr&#39;,</span>
<span class="go">              [&#39;arith_expr&#39;,</span>
<span class="go">               [&#39;term&#39;,</span>
<span class="go">                [&#39;factor&#39;, [&#39;power&#39;, [&#39;atom&#39;, [&#39;NAME&#39;, &#39;a&#39;]]]]]]]]]]]]]]],</span>
<span class="go">     [&#39;EQUAL&#39;, &#39;=&#39;],</span>
<span class="go">     [&#39;testlist&#39;,</span>
<span class="go">      [&#39;test&#39;,</span>
<span class="go">       [&#39;and_test&#39;,</span>
<span class="go">        [&#39;not_test&#39;,</span>
<span class="go">         [&#39;comparison&#39;,</span>
<span class="go">          [&#39;expr&#39;,</span>
<span class="go">           [&#39;xor_expr&#39;,</span>
<span class="go">            [&#39;and_expr&#39;,</span>
<span class="go">             [&#39;shift_expr&#39;,</span>
<span class="go">              [&#39;arith_expr&#39;,</span>
<span class="go">               [&#39;term&#39;,</span>
<span class="go">                [&#39;factor&#39;, [&#39;power&#39;, [&#39;atom&#39;, [&#39;NAME&#39;, &#39;b&#39;]]]],</span>
<span class="go">                [&#39;STAR&#39;, &#39;*&#39;],</span>
<span class="go">                [&#39;factor&#39;, [&#39;power&#39;, [&#39;atom&#39;, [&#39;NAME&#39;, &#39;c&#39;]]]]],</span>
<span class="go">               [&#39;PLUS&#39;, &#39;+&#39;],</span>
<span class="go">               [&#39;term&#39;,</span>
<span class="go">                [&#39;factor&#39;, [&#39;power&#39;, [&#39;atom&#39;, [&#39;NAME&#39;, &#39;d&#39;]]]]]]]]]]]]]]]]],</span>
<span class="go">   [&#39;NEWLINE&#39;, &#39;&#39;]]],</span>
<span class="go"> [&#39;ENDMARKER&#39;, &#39;&#39;]]</span>
</pre></div>
</div>
<p>Despite its looks, with some tools developed by Jeremy H., it&#8217;s possible to
search these trees for specific patterns (sub-trees), extract the sub-tree,
manipulate them converting python specific code fragments to blitz code
fragments, and then re-insert it in the parse tree. The parser module
documentation has some details on how to do this. Traversing the new
blitzified tree, writing out the terminal symbols as you go, creates our new
blitz++ expression string.</p>
</div>
<div class="section" id="blitz-and-numpy">
<h4><a class="toc-backref" href="#id45">1.16.8.4.2. Blitz and NumPy</a><a class="headerlink" href="#blitz-and-numpy" title="Permalink to this headline">¶</a></h4>
<p>The other nice discovery in the project is that the data structure used for
NumPy arrays and blitz arrays is nearly identical. NumPy stores &#8220;strides&#8221; as
byte offsets and blitz stores them as element offsets, but other than that,
they are the same. Further, most of the concept and capabilities of the two
libraries are remarkably similar. It is satisfying that two completely
different implementations solved the problem with similar basic
architectures. It is also fortuitous. The work involved in converting NumPy
expressions to blitz expressions was greatly diminished. As an example,
consider the code for slicing an array in Python with a stride:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">4</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">c</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<span class="go">[0,2,4]</span>
</pre></div>
</div>
<p>In Blitz it is as follows:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>Array&lt;2,int&gt; b(10);
Array&lt;2,int&gt; c(3);
// ...
Array&lt;2,int&gt; a = b(Range(0,3,2)) + c;
</pre></div>
</div>
<p>Here the range object works exactly like Python slice objects with the
exception that the top index (3) is inclusive where as Python&#8217;s (4) is
exclusive. Other differences include the type declarations in C++ and
parentheses instead of brackets for indexing arrays. Currently,
<code class="docutils literal"><span class="pre">weave.blitz</span></code> handles the inclusive/exclusive issue by subtracting one from
upper indices during the translation. An alternative that is likely more
robust/maintainable in the long run is to write a <code class="docutils literal"><span class="pre">PyRange</span></code> class that
behaves like Python&#8217;s <code class="docutils literal"><span class="pre">range</span></code>. This is likely very easy.</p>
<p>The stock blitz also doesn&#8217;t handle negative indices in ranges. The current
implementation of the <code class="docutils literal"><span class="pre">blitz()</span></code> has a partial solution to this problem. It
calculates and index that starts with a &#8216;-&#8216; sign by subtracting it from the
maximum index in the array so that:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>                upper index limit
                    /-----\
b[:-1] -&gt; b(Range(0,Nb[0]-1-1))
</pre></div>
</div>
<p>This approach fails, however, when the top index is calculated from other
values. In the following scenario, if <code class="docutils literal"><span class="pre">i+j</span></code> evaluates to a negative value,
the compiled code will produce incorrect results and could even core-dump.
Right now, all calculated indices are assumed to be positive.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>b[:i-j] -&gt; b(Range(0,i+j))
</pre></div>
</div>
<p>A solution is to calculate all indices up front using if/then to handle the
+/- cases. This is a little work and results in more code, so it hasn&#8217;t been
done. I&#8217;m holding out to see if blitz++ can be modified to handle negative
indexing, but haven&#8217;t looked into how much effort is involved yet. While it
needs fixin&#8217;, I don&#8217;t think there is a ton of code where this is an issue.</p>
<p>The actual translation of the Python expressions to blitz expressions is
currently a two part process. First, all x:y:z slicing expression are removed
from the AST, converted to slice(x,y,z) and re-inserted into the tree. Any
math needed on these expressions (subtracting from the maximum index, etc.)
are also performed here. _beg and _end are used as special variables that are
defined as blitz::fromBegin and blitz::toEnd.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="n">j</span><span class="p">:</span><span class="n">i</span><span class="o">+</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">,:]</span> <span class="o">=</span> <span class="n">b</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">3</span><span class="p">,:]</span>
</pre></div>
</div>
<p>becomes a more verbose:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">a</span><span class="p">[</span><span class="nb">slice</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="n">j</span><span class="p">,</span><span class="n">i</span><span class="o">+</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span><span class="nb">slice</span><span class="p">(</span><span class="n">_beg</span><span class="p">,</span><span class="n">_end</span><span class="p">)]</span> <span class="o">=</span> <span class="n">b</span><span class="p">[</span><span class="nb">slice</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="nb">slice</span><span class="p">(</span><span class="n">_beg</span><span class="p">,</span><span class="n">_end</span><span class="p">)]</span>
</pre></div>
</div>
<p>The second part does a simple string search/replace to convert to a blitz
expression with the following translations:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>slice(_beg,_end) -&gt; _all  # not strictly needed, but cuts down on code.
slice            -&gt; blitz::Range
[                -&gt; (
]                -&gt; )
_stp             -&gt; 1
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">_all</span></code> is defined in the compiled function as <code class="docutils literal"><span class="pre">blitz::Range.all()</span></code>. These
translations could of course happen directly in the syntax tree. But the
string replacement is slightly easier. Note that namespaces are maintained
in the C++ code to lessen the likelihood of name clashes. Currently no effort
is made to detect name clashes. A good rule of thumb is don&#8217;t use values that
start with &#8216;_&#8217; or &#8216;py_&#8217; in compiled expressions and you&#8217;ll be fine.</p>
</div>
</div>
<div class="section" id="type-definitions-and-coercion">
<h3><a class="toc-backref" href="#id46">1.16.8.5. Type definitions and coercion</a><a class="headerlink" href="#type-definitions-and-coercion" title="Permalink to this headline">¶</a></h3>
<p>So far we&#8217;ve glossed over the dynamic vs. static typing issue between Python
and C++. In Python, the type of value that a variable holds can change
through the course of program execution. C/C++, on the other hand, forces you
to declare the type of value a variables will hold prior at compile time.
<code class="docutils literal"><span class="pre">weave.blitz</span></code> handles this issue by examining the types of the variables in
the expression being executed, and compiling a function for those explicit
types. For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">ones</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span><span class="n">Float32</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">ones</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span><span class="n">Float32</span><span class="p">)</span>
<span class="n">weave</span><span class="o">.</span><span class="n">blitz</span><span class="p">(</span><span class="s2">&quot;a = a + b&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>When compiling this expression to C++, <code class="docutils literal"><span class="pre">weave.blitz</span></code> sees that the values
for a and b in the local scope have type <code class="docutils literal"><span class="pre">Float32</span></code>, or &#8216;float&#8217; on a 32 bit
architecture. As a result, it compiles the function using the float type (no
attempt has been made to deal with 64 bit issues).</p>
<p>What happens if you call a compiled function with array types that are
different than the ones for which it was originally compiled? No biggie,
you&#8217;ll just have to wait on it to compile a new version for your new types.
This doesn&#8217;t overwrite the old functions, as they are still accessible. See
the catalog section in the inline() documentation to see how this is handled.
Suffice to say, the mechanism is transparent to the user and behaves like
dynamic typing with the occasional wait for compiling newly typed functions.</p>
<p>When working with combined scalar/array operations, the type of the array is
<em>always</em> used. This is similar to the savespace flag that was recently added
to NumPy. This prevents issues with the following expression perhaps
unexpectedly being calculated at a higher (more expensive) precision that can
occur in Python:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">array</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="n">typecode</span> <span class="o">=</span> <span class="n">Float32</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">a</span> <span class="o">*</span> <span class="mf">2.1</span> <span class="c1"># results in b being a Float64 array.</span>
</pre></div>
</div>
<p>In this example,</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">ones</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span><span class="n">Float32</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">ones</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span><span class="n">Float32</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">weave</span><span class="o">.</span><span class="n">blitz</span><span class="p">(</span><span class="s2">&quot;b = a * 2.1&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>the <code class="docutils literal"><span class="pre">2.1</span></code> is cast down to a <code class="docutils literal"><span class="pre">float</span></code> before carrying out the operation. If
you really want to force the calculation to be a <code class="docutils literal"><span class="pre">double</span></code>, define <code class="docutils literal"><span class="pre">a</span></code> and
<code class="docutils literal"><span class="pre">b</span></code> as <code class="docutils literal"><span class="pre">double</span></code> arrays.</p>
<p>One other point of note. Currently, you must include both the right hand side
and left hand side (assignment side) of your equation in the compiled
expression. Also, the array being assigned to must be created prior to
calling <code class="docutils literal"><span class="pre">weave.blitz</span></code>. I&#8217;m pretty sure this is easily changed so that a
compiled_eval expression can be defined, but no effort has been made to
allocate new arrays (and discern their type) on the fly.</p>
</div>
<div class="section" id="cataloging-compiled-functions">
<h3><a class="toc-backref" href="#id47">1.16.8.6. Cataloging Compiled Functions</a><a class="headerlink" href="#cataloging-compiled-functions" title="Permalink to this headline">¶</a></h3>
<p>See <a class="reference internal" href="#the-catalog">The Catalog</a> section in the <code class="docutils literal"><span class="pre">weave.inline()</span></code>
documentation.</p>
</div>
<div class="section" id="checking-array-sizes">
<h3><a class="toc-backref" href="#id48">1.16.8.7. Checking Array Sizes</a><a class="headerlink" href="#checking-array-sizes" title="Permalink to this headline">¶</a></h3>
<p>Surprisingly, one of the big initial problems with compiled code was making
sure all the arrays in an operation were of compatible type. The following
case is trivially easy:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">b</span> <span class="o">+</span> <span class="n">c</span>
</pre></div>
</div>
<p>It only requires that arrays <code class="docutils literal"><span class="pre">a</span></code>, <code class="docutils literal"><span class="pre">b</span></code>, and <code class="docutils literal"><span class="pre">c</span></code> have the same shape.
However, expressions like:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="n">j</span><span class="p">:</span><span class="n">i</span><span class="o">+</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">,:]</span> <span class="o">=</span> <span class="n">b</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">3</span><span class="p">,:]</span> <span class="o">+</span> <span class="n">c</span>
</pre></div>
</div>
<p>are not so trivial. Since slicing is involved, the size of the slices, not
the input arrays, must be checked. Broadcasting complicates things further
because arrays and slices with different dimensions and shapes may be
compatible for math operations (broadcasting isn&#8217;t yet supported by
<code class="docutils literal"><span class="pre">weave.blitz</span></code>). Reductions have a similar effect as their results are
different shapes than their input operand. The binary operators in NumPy
compare the shapes of their two operands just before they operate on them.
This is possible because NumPy treats each operation independently. The
intermediate (temporary) arrays created during sub-operations in an
expression are tested for the correct shape before they are combined by
another operation. Because <code class="docutils literal"><span class="pre">weave.blitz</span></code> fuses all operations into a single
loop, this isn&#8217;t possible. The shape comparisons must be done and guaranteed
compatible before evaluating the expression.</p>
<p>The solution chosen converts input arrays to &#8220;dummy arrays&#8221; that only
represent the dimensions of the arrays, not the data. Binary operations on
dummy arrays check that input array sizes are compatible and return a dummy
array with the size correct size. Evaluating an expression of dummy arrays
traces the changing array sizes through all operations and fails if
incompatible array sizes are ever found.</p>
<p>The machinery for this is housed in <code class="docutils literal"><span class="pre">weave.size_check</span></code>. It basically
involves writing a new class (dummy array) and overloading its math operators
to calculate the new sizes correctly. All the code is in Python and there is
a fair amount of logic (mainly to handle indexing and slicing) so the
operation does impose some overhead. For large arrays (ie. 50x50x50), the
overhead is negligible compared to evaluating the actual expression. For
small arrays (ie. 16x16), the overhead imposed for checking the shapes with
this method can cause the <code class="docutils literal"><span class="pre">weave.blitz</span></code> to be slower than evaluating the
expression in Python.</p>
<p>What can be done to reduce the overhead? (1) The size checking code could be
moved into C. This would likely remove most of the overhead penalty compared
to NumPy (although there is also some calling overhead), but no effort has
been made to do this. (2) You can also call <code class="docutils literal"><span class="pre">weave.blitz</span></code> with
<code class="docutils literal"><span class="pre">check_size=0</span></code> and the size checking isn&#8217;t done. However, if the sizes
aren&#8217;t compatible, it can cause a core-dump. So, foregoing size_checking
isn&#8217;t advisable until your code is well debugged.</p>
</div>
<div class="section" id="creating-the-extension-module">
<h3><a class="toc-backref" href="#id49">1.16.8.8. Creating the Extension Module</a><a class="headerlink" href="#creating-the-extension-module" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal"><span class="pre">weave.blitz</span></code> uses the same machinery as <code class="docutils literal"><span class="pre">weave.inline</span></code> to build the
extension module. The only difference is the code included in the function is
automatically generated from the NumPy array expression instead of supplied
by the user.</p>
</div>
</div>
<div class="section" id="extension-modules">
<h2><a class="toc-backref" href="#id50">1.16.9. Extension Modules</a><a class="headerlink" href="#extension-modules" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal"><span class="pre">weave.inline</span></code> and <code class="docutils literal"><span class="pre">weave.blitz</span></code> are high level tools that generate
extension modules automatically. Under the covers, they use several classes
from <code class="docutils literal"><span class="pre">weave.ext_tools</span></code> to help generate the extension module. The main two
classes are <code class="docutils literal"><span class="pre">ext_module</span></code> and <code class="docutils literal"><span class="pre">ext_function</span></code> (I&#8217;d like to add
<code class="docutils literal"><span class="pre">ext_class</span></code> and <code class="docutils literal"><span class="pre">ext_method</span></code> also). These classes simplify the process of
generating extension modules by handling most of the &#8220;boiler plate&#8221; code
automatically.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="docutils literal"><span class="pre">inline</span></code> actually sub-classes <code class="docutils literal"><span class="pre">weave.ext_tools.ext_function</span></code> to
generate slightly different code than the standard <code class="docutils literal"><span class="pre">ext_function</span></code>.
The main difference is that the standard class converts function
arguments to C types, while inline always has two arguments, the
local and global dicts, and the grabs the variables that need to be
converted to C from these.</p>
</div>
<div class="section" id="a-simple-example">
<h3><a class="toc-backref" href="#id51">1.16.9.1. A Simple Example</a><a class="headerlink" href="#a-simple-example" title="Permalink to this headline">¶</a></h3>
<p>The following simple example demonstrates how to build an extension module
within a Python function:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># examples/increment_example.py</span>
<span class="kn">from</span> <span class="nn">weave</span> <span class="kn">import</span> <span class="n">ext_tools</span>

<span class="k">def</span> <span class="nf">build_increment_ext</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot; Build a simple extension with functions that increment numbers.</span>
<span class="sd">        The extension will be built in the local directory.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">mod</span> <span class="o">=</span> <span class="n">ext_tools</span><span class="o">.</span><span class="n">ext_module</span><span class="p">(</span><span class="s1">&#39;increment_ext&#39;</span><span class="p">)</span>

    <span class="n">a</span> <span class="o">=</span> <span class="mi">1</span> <span class="c1"># effectively a type declaration for &#39;a&#39; in the</span>
          <span class="c1"># following functions.</span>

    <span class="n">ext_code</span> <span class="o">=</span> <span class="s2">&quot;return_val = Py::new_reference_to(Py::Int(a+1));&quot;</span>
    <span class="n">func</span> <span class="o">=</span> <span class="n">ext_tools</span><span class="o">.</span><span class="n">ext_function</span><span class="p">(</span><span class="s1">&#39;increment&#39;</span><span class="p">,</span><span class="n">ext_code</span><span class="p">,[</span><span class="s1">&#39;a&#39;</span><span class="p">])</span>
    <span class="n">mod</span><span class="o">.</span><span class="n">add_function</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>

    <span class="n">ext_code</span> <span class="o">=</span> <span class="s2">&quot;return_val = Py::new_reference_to(Py::Int(a+2));&quot;</span>
    <span class="n">func</span> <span class="o">=</span> <span class="n">ext_tools</span><span class="o">.</span><span class="n">ext_function</span><span class="p">(</span><span class="s1">&#39;increment_by_2&#39;</span><span class="p">,</span><span class="n">ext_code</span><span class="p">,[</span><span class="s1">&#39;a&#39;</span><span class="p">])</span>
    <span class="n">mod</span><span class="o">.</span><span class="n">add_function</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>

    <span class="n">mod</span><span class="o">.</span><span class="n">compile</span><span class="p">()</span>
</pre></div>
</div>
<p>The function <code class="docutils literal"><span class="pre">build_increment_ext()</span></code> creates an extension module named
<code class="docutils literal"><span class="pre">increment_ext</span></code> and compiles it to a shared library (.so or .pyd) that can
be loaded into Python.. <code class="docutils literal"><span class="pre">increment_ext</span></code> contains two functions,
<code class="docutils literal"><span class="pre">increment</span></code> and <code class="docutils literal"><span class="pre">increment_by_2</span></code>. The first line of
<code class="docutils literal"><span class="pre">build_increment_ext()</span></code>,</p>
<blockquote>
<div>mod = ext_tools.ext_module(&#8216;increment_ext&#8217;)</div></blockquote>
<p>creates an <code class="docutils literal"><span class="pre">ext_module</span></code> instance that is ready to have <code class="docutils literal"><span class="pre">ext_function</span></code>
instances added to it. <code class="docutils literal"><span class="pre">ext_function</span></code> instances are created much with a
calling convention similar to <code class="docutils literal"><span class="pre">weave.inline()</span></code>. The most common call
includes a C/C++ code snippet and a list of the arguments for the function.
The following:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">ext_code</span> <span class="o">=</span> <span class="s2">&quot;return_val = Py::new_reference_to(Py::Int(a+1));&quot;</span>
<span class="n">func</span> <span class="o">=</span> <span class="n">ext_tools</span><span class="o">.</span><span class="n">ext_function</span><span class="p">(</span><span class="s1">&#39;increment&#39;</span><span class="p">,</span><span class="n">ext_code</span><span class="p">,[</span><span class="s1">&#39;a&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>creates a C/C++ extension function that is equivalent to the following Python
function:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">increment</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="mi">1</span>
</pre></div>
</div>
<p>A second method is also added to the module and then,</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">mod</span><span class="o">.</span><span class="n">compile</span><span class="p">()</span>
</pre></div>
</div>
<p>is called to build the extension module. By default, the module is created in
the current working directory. This example is available in the
<code class="docutils literal"><span class="pre">examples/increment_example.py</span></code> file found in the <code class="docutils literal"><span class="pre">weave</span></code> directory. At
the bottom of the file in the module&#8217;s &#8220;main&#8221; program, an attempt to import
<code class="docutils literal"><span class="pre">increment_ext</span></code> without building it is made. If this fails (the module
doesn&#8217;t exist in the PYTHONPATH), the module is built by calling
<code class="docutils literal"><span class="pre">build_increment_ext()</span></code>. This approach only takes the time-consuming (a few
seconds for this example) process of building the module if it hasn&#8217;t been
built before.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="kn">import</span> <span class="nn">increment_ext</span>
    <span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
        <span class="n">build_increment_ext</span><span class="p">()</span>
        <span class="kn">import</span> <span class="nn">increment_ext</span>
    <span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">print</span> <span class="s1">&#39;a, a+1:&#39;</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">increment_ext</span><span class="o">.</span><span class="n">increment</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
    <span class="k">print</span> <span class="s1">&#39;a, a+2:&#39;</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">increment_ext</span><span class="o">.</span><span class="n">increment_by_2</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>If we were willing to always pay the penalty of building the C++
code for a module, we could store the SHA-256 checksum of the C++ code
along with some information about the compiler, platform, etc. Then,
<code class="docutils literal"><span class="pre">ext_module.compile()</span></code> could try importing the module before it
actually compiles it, check the SHA-256 checksum and other meta-data in
the imported module with the meta-data of the code it just produced
and only compile the code if the module didn&#8217;t exist or the
meta-data didn&#8217;t match. This would reduce the above code to:</p>
<div class="last highlight-python"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">build_increment_ext</span><span class="p">()</span>

    <span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">print</span> <span class="s1">&#39;a, a+1:&#39;</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">increment_ext</span><span class="o">.</span><span class="n">increment</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
    <span class="k">print</span> <span class="s1">&#39;a, a+2:&#39;</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">increment_ext</span><span class="o">.</span><span class="n">increment_by_2</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">There would always be the overhead of building the C++ code, but it
would only actually compile the code once. You pay a little in overhead and
get cleaner &#8220;import&#8221; code. Needs some thought.</p>
</div>
<p>If you run <code class="docutils literal"><span class="pre">increment_example.py</span></code> from the command line, you get the
following:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>[eric@n0]$ python increment_example.py
a, a+1: 1 2
a, a+2: 1 3
</pre></div>
</div>
<p>If the module didn&#8217;t exist before it was run, the module is created. If it
did exist, it is just imported and used.</p>
</div>
<div class="section" id="fibonacci-example">
<h3><a class="toc-backref" href="#id52">1.16.9.2. Fibonacci Example</a><a class="headerlink" href="#fibonacci-example" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal"><span class="pre">examples/fibonacci.py</span></code> provides a little more complex example of how to
use <code class="docutils literal"><span class="pre">ext_tools</span></code>. Fibonacci numbers are a series of numbers where each
number in the series is the sum of the previous two: 1, 1, 2, 3, 5, 8, etc.
Here, the first two numbers in the series are taken to be 1. One approach to
calculating Fibonacci numbers uses recursive function calls. In Python, it
might be written as:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">fib</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">a</span> <span class="o">&lt;=</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">fib</span><span class="p">(</span><span class="n">a</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="n">fib</span><span class="p">(</span><span class="n">a</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>In C, the same function would look something like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>int fib(int a)
{
    if(a &lt;= 2)
        return 1;
    else
        return fib(a-2) + fib(a-1);
}
</pre></div>
</div>
<p>Recursion is much faster in C than in Python, so it would be beneficial to
use the C version for fibonacci number calculations instead of the Python
version. We need an extension function that calls this C function to do this.
This is possible by including the above code snippet as &#8220;support code&#8221; and
then calling it from the extension function. Support code snippets (usually
structure definitions, helper functions and the like) are inserted into the
extension module C/C++ file before the extension function code. Here is how
to build the C version of the fibonacci number generator:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">build_fibonacci</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot; Builds an extension module with fibonacci calculators.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">mod</span> <span class="o">=</span> <span class="n">ext_tools</span><span class="o">.</span><span class="n">ext_module</span><span class="p">(</span><span class="s1">&#39;fibonacci_ext&#39;</span><span class="p">)</span>
    <span class="n">a</span> <span class="o">=</span> <span class="mi">1</span> <span class="c1"># this is effectively a type declaration</span>

    <span class="c1"># recursive fibonacci in C</span>
    <span class="n">fib_code</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">                   int fib1(int a)</span>
<span class="s2">                   {</span>
<span class="s2">                       if(a &lt;= 2)</span>
<span class="s2">                           return 1;</span>
<span class="s2">                       else</span>
<span class="s2">                           return fib1(a-2) + fib1(a-1);</span>
<span class="s2">                   }</span>
<span class="s2">               &quot;&quot;&quot;</span>
    <span class="n">ext_code</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">                   int val = fib1(a);</span>
<span class="s2">                   return_val = Py::new_reference_to(Py::Int(val));</span>
<span class="s2">               &quot;&quot;&quot;</span>
    <span class="n">fib</span> <span class="o">=</span> <span class="n">ext_tools</span><span class="o">.</span><span class="n">ext_function</span><span class="p">(</span><span class="s1">&#39;fib&#39;</span><span class="p">,</span><span class="n">ext_code</span><span class="p">,[</span><span class="s1">&#39;a&#39;</span><span class="p">])</span>
    <span class="n">fib</span><span class="o">.</span><span class="n">customize</span><span class="o">.</span><span class="n">add_support_code</span><span class="p">(</span><span class="n">fib_code</span><span class="p">)</span>
    <span class="n">mod</span><span class="o">.</span><span class="n">add_function</span><span class="p">(</span><span class="n">fib</span><span class="p">)</span>

    <span class="n">mod</span><span class="o">.</span><span class="n">compile</span><span class="p">()</span>
</pre></div>
</div>
<p>XXX More about custom_info, and what xxx_info instances are good for.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">recursion is not the fastest way to calculate fibonacci numbers, but
this approach serves nicely for this example.</p>
</div>
</div>
</div>
<div class="section" id="customizing-type-conversions-type-factories">
<h2><a class="toc-backref" href="#id53">1.16.10. Customizing Type Conversions &#8211; Type Factories</a><a class="headerlink" href="#customizing-type-conversions-type-factories" title="Permalink to this headline">¶</a></h2>
<p>not written</p>
</div>
<div class="section" id="things-i-wish-weave-did">
<h2><a class="toc-backref" href="#id54">1.16.11. Things I wish <code class="docutils literal"><span class="pre">weave</span></code> did</a><a class="headerlink" href="#things-i-wish-weave-did" title="Permalink to this headline">¶</a></h2>
<p>It is possible to get name clashes if you uses a variable name that is
already defined in a header automatically included (such as <code class="docutils literal"><span class="pre">stdio.h</span></code>) For
instance, if you try to pass in a variable named <code class="docutils literal"><span class="pre">stdout</span></code>, you&#8217;ll get a
cryptic error report due to the fact that <code class="docutils literal"><span class="pre">stdio.h</span></code> also defines the name.
<code class="docutils literal"><span class="pre">weave</span></code> should probably try and handle this in some way. Other things...</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../API.html" class="btn btn-neutral float-right" title="2. API - importing from Scipy" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="io.html" class="btn btn-neutral" title="1.15. File IO (scipy.io)" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/copybutton.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>